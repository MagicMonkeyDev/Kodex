var Cb=Object.defineProperty;var Ib=(t,e,n)=>e in t?Cb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $t=(t,e,n)=>Ib(t,typeof e!="symbol"?e+"":e,n);function Nb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ri(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ey={exports:{}},Jc={},ky={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),Tb=Symbol.for("react.portal"),Rb=Symbol.for("react.fragment"),Bb=Symbol.for("react.strict_mode"),Mb=Symbol.for("react.profiler"),jb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),Lb=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),Ub=Symbol.for("react.memo"),Db=Symbol.for("react.lazy"),Wp=Symbol.iterator;function Fb(t){return t===null||typeof t!="object"?null:(t=Wp&&t[Wp]||t["@@iterator"],typeof t=="function"?t:null)}var Ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cy=Object.assign,Iy={};function Eo(t,e,n){this.props=t,this.context=e,this.refs=Iy,this.updater=n||Ay}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ny(){}Ny.prototype=Eo.prototype;function qf(t,e,n){this.props=t,this.context=e,this.refs=Iy,this.updater=n||Ay}var Kf=qf.prototype=new Ny;Kf.constructor=qf;Cy(Kf,Eo.prototype);Kf.isPureReactComponent=!0;var Hp=Array.isArray,Ty=Object.prototype.hasOwnProperty,Vf={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function By(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ty.call(e,r)&&!Ry.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Va,type:t,key:s,ref:o,props:i,_owner:Vf.current}}function zb(t,e){return{$$typeof:Va,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Va}function $b(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qp=/\/+/g;function ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$b(""+t.key):e.toString(36)}function Kl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Va:case Tb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ud(o,0):r,Hp(i)?(n="",t!=null&&(n=t.replace(qp,"$&/")+"/"),Kl(i,e,n,"",function(c){return c})):i!=null&&(Gf(i)&&(i=zb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ud(s,a);o+=Kl(s,e,n,l,i)}else if(l=Fb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ud(s,a++),o+=Kl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function al(t,e,n){if(t==null)return t;var r=[],i=0;return Kl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Wb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Vl={transition:null},Hb={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:Vf};function My(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:al,forEach:function(t,e,n){al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return al(t,function(){e++}),e},toArray:function(t){return al(t,function(e){return e})||[]},only:function(t){if(!Gf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Eo;Ne.Fragment=Rb;Ne.Profiler=Mb;Ne.PureComponent=qf;Ne.StrictMode=Bb;Ne.Suspense=Ob;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb;Ne.act=My;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ty.call(e,l)&&!Ry.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Va,type:t.type,key:i,ref:s,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:Pb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jb,_context:t},t.Consumer=t};Ne.createElement=By;Ne.createFactory=function(t){var e=By.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:Lb,render:t}};Ne.isValidElement=Gf;Ne.lazy=function(t){return{$$typeof:Db,_payload:{_status:-1,_result:t},_init:Wb}};Ne.memo=function(t,e){return{$$typeof:Ub,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Vl.transition;Vl.transition={};try{t()}finally{Vl.transition=e}};Ne.unstable_act=My;Ne.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ne.useContext=function(t){return vn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ne.useId=function(){return vn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ne.useRef=function(t){return vn.current.useRef(t)};Ne.useState=function(t){return vn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return vn.current.useTransition()};Ne.version="18.3.1";ky.exports=Ne;var z=ky.exports;const Y=Ri(z),qb=Nb({__proto__:null,default:Y},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=z,Vb=Symbol.for("react.element"),Gb=Symbol.for("react.fragment"),Zb=Object.prototype.hasOwnProperty,Yb=Kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jb={key:!0,ref:!0,__self:!0,__source:!0};function jy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Zb.call(e,r)&&!Jb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Vb,type:t,key:s,ref:o,props:i,_owner:Yb.current}}Jc.Fragment=Gb;Jc.jsx=jy;Jc.jsxs=jy;Ey.exports=Jc;var x=Ey.exports,Py={exports:{}},Wn={},Ly={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,B){var L=C.length;C.push(B);e:for(;0<L;){var T=L-1>>>1,p=C[T];if(0<i(p,B))C[T]=B,C[L]=p,L=T;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var B=C[0],L=C.pop();if(L!==B){C[0]=L;e:for(var T=0,p=C.length,j=p>>>1;T<j;){var Z=2*(T+1)-1,ee=C[Z],te=Z+1,ve=C[te];if(0>i(ee,L))te<p&&0>i(ve,ee)?(C[T]=ve,C[te]=L,T=te):(C[T]=ee,C[Z]=L,T=Z);else if(te<p&&0>i(ve,L))C[T]=ve,C[te]=L,T=te;else break e}}return B}function i(C,B){var L=C.sortIndex-B.sortIndex;return L!==0?L:C.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,m=3,w=!1,k=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=C)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function R(C){if(A=!1,v(C),!k)if(n(l)!==null)k=!0,E(O);else{var B=n(c);B!==null&&I(R,B.startTime-C)}}function O(C,B){k=!1,A&&(A=!1,_(H),H=-1),w=!0;var L=m;try{for(v(B),h=n(l);h!==null&&(!(h.expirationTime>B)||C&&!ne());){var T=h.callback;if(typeof T=="function"){h.callback=null,m=h.priorityLevel;var p=T(h.expirationTime<=B);B=t.unstable_now(),typeof p=="function"?h.callback=p:h===n(l)&&r(l),v(B)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var Z=n(c);Z!==null&&I(R,Z.startTime-B),j=!1}return j}finally{h=null,m=L,w=!1}}var U=!1,D=null,H=-1,V=5,Q=-1;function ne(){return!(t.unstable_now()-Q<V)}function oe(){if(D!==null){var C=t.unstable_now();Q=C;var B=!0;try{B=D(!0,C)}finally{B?P():(U=!1,D=null)}}else U=!1}var P;if(typeof S=="function")P=function(){S(oe)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,y=d.port2;d.port1.onmessage=oe,P=function(){y.postMessage(null)}}else P=function(){b(oe,0)};function E(C){D=C,U||(U=!0,P())}function I(C,B){H=b(function(){C(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,E(O))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var L=m;m=B;try{return C()}finally{m=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,B){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=m;m=C;try{return B()}finally{m=L}},t.unstable_scheduleCallback=function(C,B,L){var T=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?T+L:T):L=T,C){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=L+p,C={id:u++,callback:B,priorityLevel:C,startTime:L,expirationTime:p,sortIndex:-1},L>T?(C.sortIndex=L,e(c,C),n(l)===null&&C===n(c)&&(A?(_(H),H=-1):A=!0,I(R,L-T))):(C.sortIndex=p,e(l,C),k||w||(k=!0,E(O))),C},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(C){var B=m;return function(){var L=m;m=B;try{return C.apply(this,arguments)}finally{m=L}}}})(Oy);Ly.exports=Oy;var Qb=Ly.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb=z,$n=Qb;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uy=new Set,wa={};function ps(t,e){so(t,e),so(t+"Capture",e)}function so(t,e){for(wa[t]=e,t=0;t<e.length;t++)Uy.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=Object.prototype.hasOwnProperty,e2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kp={},Vp={};function t2(t){return Sh.call(Vp,t)?!0:Sh.call(Kp,t)?!1:e2.test(t)?Vp[t]=!0:(Kp[t]=!0,!1)}function n2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r2(t,e,n,r){if(e===null||typeof e>"u"||n2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zf=/[\-:]([a-z])/g;function Yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zf,Yf);rn[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zf,Yf);rn[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zf,Yf);rn[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jf(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r2(e,n,i,r)&&(n=null),r||i===null?t2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=Xb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),zy=Symbol.for("react.offscreen"),Gp=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,dd;function Yo(t){if(dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dd=e&&e[1]||""}return`
`+dd+t}var hd=!1;function fd(t,e){if(!t||hd)return"";hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function i2(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=fd(t.type,!1),t;case 11:return t=fd(t.type.render,!1),t;case 1:return t=fd(t.type,!0),t;default:return""}}function Ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Ms:return"Portal";case Eh:return"Profiler";case Qf:return"StrictMode";case kh:return"Suspense";case Ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fy:return(t.displayName||"Context")+".Consumer";case Dy:return(t._context.displayName||"Context")+".Provider";case Xf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e0:return e=t.displayName||null,e!==null?e:Ch(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return Ch(t(e))}catch{}}return null}function s2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(e);case 8:return e===Qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $y(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o2(t){var e=$y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cl(t){t._valueTracker||(t._valueTracker=o2(t))}function Wy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$y(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ih(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hy(t,e){e=e.checked,e!=null&&Jf(t,"checked",e,!1)}function Nh(t,e){Hy(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,n):e.hasOwnProperty("defaultValue")&&Th(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Th(t,e,n){(e!=="number"||cc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Jo(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function qy(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ky(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ky(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ul,Vy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a2=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){a2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ia[e]=ia[t]})});function Gy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ia.hasOwnProperty(t)&&ia[t]?(""+e).trim():e+"px"}function Zy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var l2=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mh(t,e){if(e){if(l2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function t0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lh=null,Ys=null,Js=null;function Xp(t){if(t=Ya(t)){if(typeof Lh!="function")throw Error(J(280));var e=t.stateNode;e&&(e=nu(e),Lh(t.stateNode,t.type,e))}}function Yy(t){Ys?Js?Js.push(t):Js=[t]:Ys=t}function Jy(){if(Ys){var t=Ys,e=Js;if(Js=Ys=null,Xp(t),e)for(t=0;t<e.length;t++)Xp(e[t])}}function Qy(t,e){return t(e)}function Xy(){}var pd=!1;function ew(t,e,n){if(pd)return t(e,n);pd=!0;try{return Qy(t,e,n)}finally{pd=!1,(Ys!==null||Js!==null)&&(Xy(),Jy())}}function xa(t,e){var n=t.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Oh=!1;if($r)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Oh=!1}function c2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var sa=!1,uc=null,dc=!1,Uh=null,u2={onError:function(t){sa=!0,uc=t}};function d2(t,e,n,r,i,s,o,a,l){sa=!1,uc=null,c2.apply(u2,arguments)}function h2(t,e,n,r,i,s,o,a,l){if(d2.apply(this,arguments),sa){if(sa){var c=uc;sa=!1,uc=null}else throw Error(J(198));dc||(dc=!0,Uh=c)}}function gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eg(t){if(gs(t)!==t)throw Error(J(188))}function f2(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eg(i),t;if(s===r)return eg(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function nw(t){return t=f2(t),t!==null?rw(t):null}function rw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rw(t);if(e!==null)return e;t=t.sibling}return null}var iw=$n.unstable_scheduleCallback,tg=$n.unstable_cancelCallback,p2=$n.unstable_shouldYield,g2=$n.unstable_requestPaint,mt=$n.unstable_now,m2=$n.unstable_getCurrentPriorityLevel,n0=$n.unstable_ImmediatePriority,sw=$n.unstable_UserBlockingPriority,hc=$n.unstable_NormalPriority,y2=$n.unstable_LowPriority,ow=$n.unstable_IdlePriority,Qc=null,_r=null;function w2(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Qc,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:b2,v2=Math.log,x2=Math.LN2;function b2(t){return t>>>=0,t===0?32:31-(v2(t)/x2|0)|0}var dl=64,hl=4194304;function Qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qo(a):(s&=o,s!==0&&(r=Qo(s)))}else o=n&~i,o!==0?r=Qo(o):s!==0&&(r=Qo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function _2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aw(){var t=dl;return dl<<=1,!(dl&4194240)&&(dl=64),t}function gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function E2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function r0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function lw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cw,i0,uw,dw,hw,Fh=!1,fl=[],xi=null,bi=null,_i=null,ba=new Map,_a=new Map,li=[],k2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ng(t,e){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function Do(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&i0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function A2(t,e,n,r,i){switch(e){case"focusin":return xi=Do(xi,t,e,n,r,i),!0;case"dragenter":return bi=Do(bi,t,e,n,r,i),!0;case"mouseover":return _i=Do(_i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ba.set(s,Do(ba.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_a.set(s,Do(_a.get(s)||null,t,e,n,r,i)),!0}return!1}function fw(t){var e=Ki(t.target);if(e!==null){var n=gs(e);if(n!==null){if(e=n.tag,e===13){if(e=tw(n),e!==null){t.blockedOn=e,hw(t.priority,function(){uw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ph=r,n.target.dispatchEvent(r),Ph=null}else return e=Ya(n),e!==null&&i0(e),t.blockedOn=n,!1;e.shift()}return!0}function rg(t,e,n){Gl(t)&&n.delete(e)}function C2(){Fh=!1,xi!==null&&Gl(xi)&&(xi=null),bi!==null&&Gl(bi)&&(bi=null),_i!==null&&Gl(_i)&&(_i=null),ba.forEach(rg),_a.forEach(rg)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,Fh||(Fh=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,C2)))}function Sa(t){function e(i){return Fo(i,t)}if(0<fl.length){Fo(fl[0],t);for(var n=1;n<fl.length;n++){var r=fl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xi!==null&&Fo(xi,t),bi!==null&&Fo(bi,t),_i!==null&&Fo(_i,t),ba.forEach(e),_a.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)fw(n),n.blockedOn===null&&li.shift()}var Qs=Zr.ReactCurrentBatchConfig,pc=!0;function I2(t,e,n,r){var i=Fe,s=Qs.transition;Qs.transition=null;try{Fe=1,s0(t,e,n,r)}finally{Fe=i,Qs.transition=s}}function N2(t,e,n,r){var i=Fe,s=Qs.transition;Qs.transition=null;try{Fe=4,s0(t,e,n,r)}finally{Fe=i,Qs.transition=s}}function s0(t,e,n,r){if(pc){var i=zh(t,e,n,r);if(i===null)kd(t,e,r,gc,n),ng(t,r);else if(A2(i,t,e,n,r))r.stopPropagation();else if(ng(t,r),e&4&&-1<k2.indexOf(t)){for(;i!==null;){var s=Ya(i);if(s!==null&&cw(s),s=zh(t,e,n,r),s===null&&kd(t,e,r,gc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kd(t,e,r,null,n)}}var gc=null;function zh(t,e,n,r){if(gc=null,t=t0(r),t=Ki(t),t!==null)if(e=gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gc=t,null}function pw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m2()){case n0:return 1;case sw:return 4;case hc:case y2:return 16;case ow:return 536870912;default:return 16}default:return 16}}var hi=null,o0=null,Zl=null;function gw(){if(Zl)return Zl;var t,e=o0,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zl=i.slice(t,1<r?1-r:void 0)}function Yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function ig(){return!1}function Hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pl:ig,this.isPropagationStopped=ig,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=Hn(ko),Za=ut({},ko,{view:0,detail:0}),T2=Hn(Za),md,yd,zo,Xc=ut({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(md=t.screenX-zo.screenX,yd=t.screenY-zo.screenY):yd=md=0,zo=t),md)},movementY:function(t){return"movementY"in t?t.movementY:yd}}),sg=Hn(Xc),R2=ut({},Xc,{dataTransfer:0}),B2=Hn(R2),M2=ut({},Za,{relatedTarget:0}),wd=Hn(M2),j2=ut({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=Hn(j2),L2=ut({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),O2=Hn(L2),U2=ut({},ko,{data:0}),og=Hn(U2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z2[t])?!!e[t]:!1}function l0(){return $2}var W2=ut({},Za,{key:function(t){if(t.key){var e=D2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l0,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H2=Hn(W2),q2=ut({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Hn(q2),K2=ut({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l0}),V2=Hn(K2),G2=ut({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z2=Hn(G2),Y2=ut({},Xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J2=Hn(Y2),Q2=[9,13,27,32],c0=$r&&"CompositionEvent"in window,oa=null;$r&&"documentMode"in document&&(oa=document.documentMode);var X2=$r&&"TextEvent"in window&&!oa,mw=$r&&(!c0||oa&&8<oa&&11>=oa),lg=" ",cg=!1;function yw(t,e){switch(t){case"keyup":return Q2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ww(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function e_(t,e){switch(t){case"compositionend":return ww(e);case"keypress":return e.which!==32?null:(cg=!0,lg);case"textInput":return t=e.data,t===lg&&cg?null:t;default:return null}}function t_(t,e){if(Ps)return t==="compositionend"||!c0&&yw(t,e)?(t=gw(),Zl=o0=hi=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mw&&e.locale!=="ko"?null:e.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n_[t.type]:e==="textarea"}function vw(t,e,n,r){Yy(r),e=mc(e,"onChange"),0<e.length&&(n=new a0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var aa=null,Ea=null;function r_(t){Tw(t,0)}function eu(t){var e=Us(t);if(Wy(e))return t}function i_(t,e){if(t==="change")return e}var xw=!1;if($r){var vd;if($r){var xd="oninput"in document;if(!xd){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),xd=typeof dg.oninput=="function"}vd=xd}else vd=!1;xw=vd&&(!document.documentMode||9<document.documentMode)}function hg(){aa&&(aa.detachEvent("onpropertychange",bw),Ea=aa=null)}function bw(t){if(t.propertyName==="value"&&eu(Ea)){var e=[];vw(e,Ea,t,t0(t)),ew(r_,e)}}function s_(t,e,n){t==="focusin"?(hg(),aa=e,Ea=n,aa.attachEvent("onpropertychange",bw)):t==="focusout"&&hg()}function o_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(Ea)}function a_(t,e){if(t==="click")return eu(e)}function l_(t,e){if(t==="input"||t==="change")return eu(e)}function c_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:c_;function ka(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sh.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,e){var n=fg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fg(n)}}function _w(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_w(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sw(){for(var t=window,e=cc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cc(t.document)}return e}function u0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u_(t){var e=Sw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_w(n.ownerDocument.documentElement,n)){if(r!==null&&u0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=pg(n,s);var o=pg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d_=$r&&"documentMode"in document&&11>=document.documentMode,Ls=null,$h=null,la=null,Wh=!1;function gg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wh||Ls==null||Ls!==cc(r)||(r=Ls,"selectionStart"in r&&u0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&ka(la,r)||(la=r,r=mc($h,"onSelect"),0<r.length&&(e=new a0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ls)))}function gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Os={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},bd={},Ew={};$r&&(Ew=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function tu(t){if(bd[t])return bd[t];if(!Os[t])return t;var e=Os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ew)return bd[t]=e[n];return t}var kw=tu("animationend"),Aw=tu("animationiteration"),Cw=tu("animationstart"),Iw=tu("transitionend"),Nw=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){Nw.set(t,e),ps(e,[t])}for(var _d=0;_d<mg.length;_d++){var Sd=mg[_d],h_=Sd.toLowerCase(),f_=Sd[0].toUpperCase()+Sd.slice(1);Bi(h_,"on"+f_)}Bi(kw,"onAnimationEnd");Bi(Aw,"onAnimationIteration");Bi(Cw,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(Iw,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h2(r,e,void 0,t),t.currentTarget=null}function Tw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;yg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;yg(i,a,c),s=l}}}if(dc)throw t=Uh,dc=!1,Uh=null,t}function Qe(t,e){var n=e[Gh];n===void 0&&(n=e[Gh]=new Set);var r=t+"__bubble";n.has(r)||(Rw(e,t,2,!1),n.add(r))}function Ed(t,e,n){var r=0;e&&(r|=4),Rw(n,t,r,e)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[ml]){t[ml]=!0,Uy.forEach(function(n){n!=="selectionchange"&&(p_.has(n)||Ed(n,!1,t),Ed(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ml]||(e[ml]=!0,Ed("selectionchange",!1,e))}}function Rw(t,e,n,r){switch(pw(e)){case 1:var i=I2;break;case 4:i=N2;break;default:i=s0}n=i.bind(null,e,n,t),i=void 0,!Oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ew(function(){var c=s,u=t0(n),h=[];e:{var m=Nw.get(t);if(m!==void 0){var w=a0,k=t;switch(t){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":w=H2;break;case"focusin":k="focus",w=wd;break;case"focusout":k="blur",w=wd;break;case"beforeblur":case"afterblur":w=wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=B2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=V2;break;case kw:case Aw:case Cw:w=P2;break;case Iw:w=Z2;break;case"scroll":w=T2;break;case"wheel":w=J2;break;case"copy":case"cut":case"paste":w=O2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ag}var A=(e&4)!==0,b=!A&&t==="scroll",_=A?m!==null?m+"Capture":null:m;A=[];for(var S=c,v;S!==null;){v=S;var R=v.stateNode;if(v.tag===5&&R!==null&&(v=R,_!==null&&(R=xa(S,_),R!=null&&A.push(Ca(S,R,v)))),b)break;S=S.return}0<A.length&&(m=new w(m,k,null,n,u),h.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Ph&&(k=n.relatedTarget||n.fromElement)&&(Ki(k)||k[Wr]))break e;if((w||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=c,k=k?Ki(k):null,k!==null&&(b=gs(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=c),w!==k)){if(A=sg,R="onMouseLeave",_="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(A=ag,R="onPointerLeave",_="onPointerEnter",S="pointer"),b=w==null?m:Us(w),v=k==null?m:Us(k),m=new A(R,S+"leave",w,n,u),m.target=b,m.relatedTarget=v,R=null,Ki(u)===c&&(A=new A(_,S+"enter",k,n,u),A.target=v,A.relatedTarget=b,R=A),b=R,w&&k)t:{for(A=w,_=k,S=0,v=A;v;v=ks(v))S++;for(v=0,R=_;R;R=ks(R))v++;for(;0<S-v;)A=ks(A),S--;for(;0<v-S;)_=ks(_),v--;for(;S--;){if(A===_||_!==null&&A===_.alternate)break t;A=ks(A),_=ks(_)}A=null}else A=null;w!==null&&wg(h,m,w,A,!1),k!==null&&b!==null&&wg(h,b,k,A,!0)}}e:{if(m=c?Us(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var O=i_;else if(ug(m))if(xw)O=l_;else{O=o_;var U=s_}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=a_);if(O&&(O=O(t,c))){vw(h,O,n,u);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&Th(m,"number",m.value)}switch(U=c?Us(c):window,t){case"focusin":(ug(U)||U.contentEditable==="true")&&(Ls=U,$h=c,la=null);break;case"focusout":la=$h=Ls=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,gg(h,n,u);break;case"selectionchange":if(d_)break;case"keydown":case"keyup":gg(h,n,u)}var D;if(c0)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Ps?yw(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(mw&&n.locale!=="ko"&&(Ps||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ps&&(D=gw()):(hi=u,o0="value"in hi?hi.value:hi.textContent,Ps=!0)),U=mc(c,H),0<U.length&&(H=new og(H,t,null,n,u),h.push({event:H,listeners:U}),D?H.data=D:(D=ww(n),D!==null&&(H.data=D)))),(D=X2?e_(t,n):t_(t,n))&&(c=mc(c,"onBeforeInput"),0<c.length&&(u=new og("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=D))}Tw(h,e)})}function Ca(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xa(t,n),s!=null&&r.unshift(Ca(t,s,i)),s=xa(t,e),s!=null&&r.push(Ca(t,s,i))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=xa(n,s),l!=null&&o.unshift(Ca(n,l,a))):i||(l=xa(n,s),l!=null&&o.push(Ca(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function vg(t){return(typeof t=="string"?t:""+t).replace(g_,`
`).replace(m_,"")}function yl(t,e,n){if(e=vg(e),vg(t)!==e&&n)throw Error(J(425))}function yc(){}var Hh=null,qh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,y_=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,w_=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(t){return xg.resolve(null).then(t).catch(v_)}:Vh;function v_(t){setTimeout(function(){throw t})}function Ad(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sa(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ao,Ia="__reactProps$"+Ao,Wr="__reactContainer$"+Ao,Gh="__reactEvents$"+Ao,x_="__reactListeners$"+Ao,b_="__reactHandles$"+Ao;function Ki(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bg(t);t!==null;){if(n=t[xr])return n;t=bg(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[xr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function nu(t){return t[Ia]||null}var Zh=[],Ds=-1;function Mi(t){return{current:t}}function et(t){0>Ds||(t.current=Zh[Ds],Zh[Ds]=null,Ds--)}function Ge(t,e){Ds++,Zh[Ds]=t.current,t.current=e}var Ti={},fn=Mi(Ti),Tn=Mi(!1),ss=Ti;function oo(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function wc(){et(Tn),et(fn)}function _g(t,e,n){if(fn.current!==Ti)throw Error(J(168));Ge(fn,e),Ge(Tn,n)}function Bw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,s2(t)||"Unknown",i));return ut({},n,r)}function vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ss=fn.current,Ge(fn,t),Ge(Tn,Tn.current),!0}function Sg(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=Bw(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,et(Tn),et(fn),Ge(fn,t)):et(Tn),Ge(Tn,n)}var Br=null,ru=!1,Cd=!1;function Mw(t){Br===null?Br=[t]:Br.push(t)}function __(t){ru=!0,Mw(t)}function ji(){if(!Cd&&Br!==null){Cd=!0;var t=0,e=Fe;try{var n=Br;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Br=null,ru=!1}catch(i){throw Br!==null&&(Br=Br.slice(t+1)),iw(n0,ji),i}finally{Fe=e,Cd=!1}}return null}var Fs=[],zs=0,xc=null,bc=0,Zn=[],Yn=0,os=null,Or=1,Ur="";function Oi(t,e){Fs[zs++]=bc,Fs[zs++]=xc,xc=t,bc=e}function jw(t,e,n){Zn[Yn++]=Or,Zn[Yn++]=Ur,Zn[Yn++]=os,os=t;var r=Or;t=Ur;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Or=1<<32-dr(e)+i|n<<i|r,Ur=s+t}else Or=1<<s|n<<i|r,Ur=t}function d0(t){t.return!==null&&(Oi(t,1),jw(t,1,0))}function h0(t){for(;t===xc;)xc=Fs[--zs],Fs[zs]=null,bc=Fs[--zs],Fs[zs]=null;for(;t===os;)os=Zn[--Yn],Zn[Yn]=null,Ur=Zn[--Yn],Zn[Yn]=null,Or=Zn[--Yn],Zn[Yn]=null}var zn=null,Fn=null,it=!1,cr=null;function Pw(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Eg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Fn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:Or,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Fn=null,!0):!1;default:return!1}}function Yh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(it){var e=Fn;if(e){var n=e;if(!Eg(t,e)){if(Yh(t))throw Error(J(418));e=Si(n.nextSibling);var r=zn;e&&Eg(t,e)?Pw(r,n):(t.flags=t.flags&-4097|2,it=!1,zn=t)}}else{if(Yh(t))throw Error(J(418));t.flags=t.flags&-4097|2,it=!1,zn=t}}}function kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function wl(t){if(t!==zn)return!1;if(!it)return kg(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Fn)){if(Yh(t))throw Lw(),Error(J(418));for(;e;)Pw(t,e),e=Si(e.nextSibling)}if(kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=zn?Si(t.stateNode.nextSibling):null;return!0}function Lw(){for(var t=Fn;t;)t=Si(t.nextSibling)}function ao(){Fn=zn=null,it=!1}function f0(t){cr===null?cr=[t]:cr.push(t)}var S_=Zr.ReactCurrentBatchConfig;function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function vl(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ag(t){var e=t._init;return e(t._payload)}function Ow(t){function e(_,S){if(t){var v=_.deletions;v===null?(_.deletions=[S],_.flags|=16):v.push(S)}}function n(_,S){if(!t)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=Ci(_,S),_.index=0,_.sibling=null,_}function s(_,S,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<S?(_.flags|=2,S):v):(_.flags|=2,S)):(_.flags|=1048576,S)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,S,v,R){return S===null||S.tag!==6?(S=jd(v,_.mode,R),S.return=_,S):(S=i(S,v),S.return=_,S)}function l(_,S,v,R){var O=v.type;return O===js?u(_,S,v.props.children,R,v.key):S!==null&&(S.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&Ag(O)===S.type)?(R=i(S,v.props),R.ref=$o(_,S,v),R.return=_,R):(R=rc(v.type,v.key,v.props,null,_.mode,R),R.ref=$o(_,S,v),R.return=_,R)}function c(_,S,v,R){return S===null||S.tag!==4||S.stateNode.containerInfo!==v.containerInfo||S.stateNode.implementation!==v.implementation?(S=Pd(v,_.mode,R),S.return=_,S):(S=i(S,v.children||[]),S.return=_,S)}function u(_,S,v,R,O){return S===null||S.tag!==7?(S=es(v,_.mode,R,O),S.return=_,S):(S=i(S,v),S.return=_,S)}function h(_,S,v){if(typeof S=="string"&&S!==""||typeof S=="number")return S=jd(""+S,_.mode,v),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ll:return v=rc(S.type,S.key,S.props,null,_.mode,v),v.ref=$o(_,null,S),v.return=_,v;case Ms:return S=Pd(S,_.mode,v),S.return=_,S;case ii:var R=S._init;return h(_,R(S._payload),v)}if(Jo(S)||Oo(S))return S=es(S,_.mode,v,null),S.return=_,S;vl(_,S)}return null}function m(_,S,v,R){var O=S!==null?S.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return O!==null?null:a(_,S,""+v,R);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:return v.key===O?l(_,S,v,R):null;case Ms:return v.key===O?c(_,S,v,R):null;case ii:return O=v._init,m(_,S,O(v._payload),R)}if(Jo(v)||Oo(v))return O!==null?null:u(_,S,v,R,null);vl(_,v)}return null}function w(_,S,v,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(v)||null,a(S,_,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ll:return _=_.get(R.key===null?v:R.key)||null,l(S,_,R,O);case Ms:return _=_.get(R.key===null?v:R.key)||null,c(S,_,R,O);case ii:var U=R._init;return w(_,S,v,U(R._payload),O)}if(Jo(R)||Oo(R))return _=_.get(v)||null,u(S,_,R,O,null);vl(S,R)}return null}function k(_,S,v,R){for(var O=null,U=null,D=S,H=S=0,V=null;D!==null&&H<v.length;H++){D.index>H?(V=D,D=null):V=D.sibling;var Q=m(_,D,v[H],R);if(Q===null){D===null&&(D=V);break}t&&D&&Q.alternate===null&&e(_,D),S=s(Q,S,H),U===null?O=Q:U.sibling=Q,U=Q,D=V}if(H===v.length)return n(_,D),it&&Oi(_,H),O;if(D===null){for(;H<v.length;H++)D=h(_,v[H],R),D!==null&&(S=s(D,S,H),U===null?O=D:U.sibling=D,U=D);return it&&Oi(_,H),O}for(D=r(_,D);H<v.length;H++)V=w(D,_,H,v[H],R),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?H:V.key),S=s(V,S,H),U===null?O=V:U.sibling=V,U=V);return t&&D.forEach(function(ne){return e(_,ne)}),it&&Oi(_,H),O}function A(_,S,v,R){var O=Oo(v);if(typeof O!="function")throw Error(J(150));if(v=O.call(v),v==null)throw Error(J(151));for(var U=O=null,D=S,H=S=0,V=null,Q=v.next();D!==null&&!Q.done;H++,Q=v.next()){D.index>H?(V=D,D=null):V=D.sibling;var ne=m(_,D,Q.value,R);if(ne===null){D===null&&(D=V);break}t&&D&&ne.alternate===null&&e(_,D),S=s(ne,S,H),U===null?O=ne:U.sibling=ne,U=ne,D=V}if(Q.done)return n(_,D),it&&Oi(_,H),O;if(D===null){for(;!Q.done;H++,Q=v.next())Q=h(_,Q.value,R),Q!==null&&(S=s(Q,S,H),U===null?O=Q:U.sibling=Q,U=Q);return it&&Oi(_,H),O}for(D=r(_,D);!Q.done;H++,Q=v.next())Q=w(D,_,H,Q.value,R),Q!==null&&(t&&Q.alternate!==null&&D.delete(Q.key===null?H:Q.key),S=s(Q,S,H),U===null?O=Q:U.sibling=Q,U=Q);return t&&D.forEach(function(oe){return e(_,oe)}),it&&Oi(_,H),O}function b(_,S,v,R){if(typeof v=="object"&&v!==null&&v.type===js&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:e:{for(var O=v.key,U=S;U!==null;){if(U.key===O){if(O=v.type,O===js){if(U.tag===7){n(_,U.sibling),S=i(U,v.props.children),S.return=_,_=S;break e}}else if(U.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&Ag(O)===U.type){n(_,U.sibling),S=i(U,v.props),S.ref=$o(_,U,v),S.return=_,_=S;break e}n(_,U);break}else e(_,U);U=U.sibling}v.type===js?(S=es(v.props.children,_.mode,R,v.key),S.return=_,_=S):(R=rc(v.type,v.key,v.props,null,_.mode,R),R.ref=$o(_,S,v),R.return=_,_=R)}return o(_);case Ms:e:{for(U=v.key;S!==null;){if(S.key===U)if(S.tag===4&&S.stateNode.containerInfo===v.containerInfo&&S.stateNode.implementation===v.implementation){n(_,S.sibling),S=i(S,v.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else e(_,S);S=S.sibling}S=Pd(v,_.mode,R),S.return=_,_=S}return o(_);case ii:return U=v._init,b(_,S,U(v._payload),R)}if(Jo(v))return k(_,S,v,R);if(Oo(v))return A(_,S,v,R);vl(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,v),S.return=_,_=S):(n(_,S),S=jd(v,_.mode,R),S.return=_,_=S),o(_)):n(_,S)}return b}var lo=Ow(!0),Uw=Ow(!1),_c=Mi(null),Sc=null,$s=null,p0=null;function g0(){p0=$s=Sc=null}function m0(t){var e=_c.current;et(_c),t._currentValue=e}function Qh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){Sc=t,p0=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(p0!==t)if(t={context:t,memoizedValue:e,next:null},$s===null){if(Sc===null)throw Error(J(308));$s=t,Sc.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return e}var Vi=null;function y0(t){Vi===null?Vi=[t]:Vi.push(t)}function Dw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,y0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function w0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hr(t,n)}return i=r.interleaved,i===null?(e.next=e,y0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hr(t,n)}function Jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}function Cg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ec(t,e,n,r){var i=t.updateQueue;si=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var m=a.lane,w=a.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,A=a;switch(m=e,w=n,A.tag){case 1:if(k=A.payload,typeof k=="function"){h=k.call(w,h,m);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=A.payload,m=typeof k=="function"?k.call(w,h,m):k,m==null)break e;h=ut({},h,m);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=w,l=h):u=u.next=w,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=h}}function Ig(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Ja={},Sr=Mi(Ja),Na=Mi(Ja),Ta=Mi(Ja);function Gi(t){if(t===Ja)throw Error(J(174));return t}function v0(t,e){switch(Ge(Ta,e),Ge(Na,t),Ge(Sr,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bh(e,t)}et(Sr),Ge(Sr,e)}function co(){et(Sr),et(Na),et(Ta)}function zw(t){Gi(Ta.current);var e=Gi(Sr.current),n=Bh(e,t.type);e!==n&&(Ge(Na,t),Ge(Sr,n))}function x0(t){Na.current===t&&(et(Sr),et(Na))}var st=Mi(0);function kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Id=[];function b0(){for(var t=0;t<Id.length;t++)Id[t]._workInProgressVersionPrimary=null;Id.length=0}var Ql=Zr.ReactCurrentDispatcher,Nd=Zr.ReactCurrentBatchConfig,as=0,lt=null,Dt=null,qt=null,Ac=!1,ca=!1,Ra=0,E_=0;function sn(){throw Error(J(321))}function _0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function S0(t,e,n,r,i,s){if(as=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ql.current=t===null||t.memoizedState===null?I_:N_,t=n(r,i),ca){s=0;do{if(ca=!1,Ra=0,25<=s)throw Error(J(301));s+=1,qt=Dt=null,e.updateQueue=null,Ql.current=T_,t=n(r,i)}while(ca)}if(Ql.current=Cc,e=Dt!==null&&Dt.next!==null,as=0,qt=Dt=lt=null,Ac=!1,e)throw Error(J(300));return t}function E0(){var t=Ra!==0;return Ra=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?lt.memoizedState=qt=t:qt=qt.next=t,qt}function nr(){if(Dt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=qt===null?lt.memoizedState:qt.next;if(e!==null)qt=e,Dt=t;else{if(t===null)throw Error(J(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},qt===null?lt.memoizedState=qt=t:qt=qt.next=t}return qt}function Ba(t,e){return typeof e=="function"?e(t):e}function Td(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((as&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,lt.lanes|=u,ls|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rd(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $w(){}function Ww(t,e){var n=lt,r=nr(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,k0(Kw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Ma(9,qw.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(J(349));as&30||Hw(n,e,i)}return i}function Hw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qw(t,e,n,r){e.value=n,e.getSnapshot=r,Vw(e)&&Gw(t)}function Kw(t,e,n){return n(function(){Vw(e)&&Gw(t)})}function Vw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function Gw(t){var e=Hr(t,1);e!==null&&hr(e,t,1,-1)}function Ng(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=C_.bind(null,lt,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zw(){return nr().memoizedState}function Xl(t,e,n,r){var i=vr();lt.flags|=t,i.memoizedState=Ma(1|e,n,void 0,r===void 0?null:r)}function iu(t,e,n,r){var i=nr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&_0(r,o.deps)){i.memoizedState=Ma(e,n,s,r);return}}lt.flags|=t,i.memoizedState=Ma(1|e,n,s,r)}function Tg(t,e){return Xl(8390656,8,t,e)}function k0(t,e){return iu(2048,8,t,e)}function Yw(t,e){return iu(4,2,t,e)}function Jw(t,e){return iu(4,4,t,e)}function Qw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xw(t,e,n){return n=n!=null?n.concat([t]):null,iu(4,4,Qw.bind(null,e,t),n)}function A0(){}function e1(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t1(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function n1(t,e,n){return as&21?(pr(n,e)||(n=aw(),lt.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function k_(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Nd.transition;Nd.transition={};try{t(!1),e()}finally{Fe=n,Nd.transition=r}}function r1(){return nr().memoizedState}function A_(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i1(t))s1(e,n);else if(n=Dw(t,e,n,r),n!==null){var i=yn();hr(n,t,r,i),o1(n,e,r)}}function C_(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i1(t))s1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,y0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Dw(t,e,i,r),n!==null&&(i=yn(),hr(n,t,r,i),o1(n,e,r))}}function i1(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function s1(t,e){ca=Ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}var Cc={readContext:tr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},I_={readContext:tr,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:Tg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4194308,4,Qw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A_.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:Ng,useDebugValue:A0,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=Ng(!1),e=t[0];return t=k_.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=vr();if(it){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Vt===null)throw Error(J(349));as&30||Hw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Tg(Kw.bind(null,r,s,t),[t]),r.flags|=2048,Ma(9,qw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vr(),e=Vt.identifierPrefix;if(it){var n=Ur,r=Or;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N_={readContext:tr,useCallback:e1,useContext:tr,useEffect:k0,useImperativeHandle:Xw,useInsertionEffect:Yw,useLayoutEffect:Jw,useMemo:t1,useReducer:Td,useRef:Zw,useState:function(){return Td(Ba)},useDebugValue:A0,useDeferredValue:function(t){var e=nr();return n1(e,Dt.memoizedState,t)},useTransition:function(){var t=Td(Ba)[0],e=nr().memoizedState;return[t,e]},useMutableSource:$w,useSyncExternalStore:Ww,useId:r1,unstable_isNewReconciler:!1},T_={readContext:tr,useCallback:e1,useContext:tr,useEffect:k0,useImperativeHandle:Xw,useInsertionEffect:Yw,useLayoutEffect:Jw,useMemo:t1,useReducer:Rd,useRef:Zw,useState:function(){return Rd(Ba)},useDebugValue:A0,useDeferredValue:function(t){var e=nr();return Dt===null?e.memoizedState=t:n1(e,Dt.memoizedState,t)},useTransition:function(){var t=Rd(Ba)[0],e=nr().memoizedState;return[t,e]},useMutableSource:$w,useSyncExternalStore:Ww,useId:r1,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var su={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Ai(t),s=Fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(hr(e,t,i,r),Jl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Ai(t),s=Fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(hr(e,t,i,r),Jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=Ai(t),i=Fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(hr(e,t,r,n),Jl(e,t,r))}};function Rg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ka(n,r)||!ka(i,s):!0}function a1(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=tr(s):(i=Rn(e)?ss:fn.current,r=e.contextTypes,s=(r=r!=null)?oo(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=su,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&su.enqueueReplaceState(e,e.state,null)}function ef(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},w0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tr(s):(s=Rn(e)?ss:fn.current,i.context=oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&su.enqueueReplaceState(i,i.state,null),Ec(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,e){try{var n="",r=e;do n+=i2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R_=typeof WeakMap=="function"?WeakMap:Map;function l1(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nc||(Nc=!0,hf=r),tf(t,e)},n}function c1(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tf(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Mg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q_.bind(null,t,e,n),e.then(t,t))}function jg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var B_=Zr.ReactCurrentOwner,In=!1;function gn(t,e,n,r){e.child=t===null?Uw(e,null,n,r):lo(e,t.child,n,r)}function Lg(t,e,n,r,i){n=n.render;var s=e.ref;return Xs(e,i),r=S0(t,e,n,r,s,i),n=E0(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(it&&n&&d0(e),e.flags|=1,gn(t,e,r,i),e.child)}function Og(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!j0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,u1(t,e,s,r,i)):(t=rc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ka,n(o,r)&&t.ref===e.ref)return qr(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function u1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ka(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,qr(t,e,i)}return nf(t,e,n,r,i)}function d1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Hs,jn),jn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Hs,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(Hs,jn),jn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge(Hs,jn),jn|=r;return gn(t,e,i,n),e.child}function h1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nf(t,e,n,r,i){var s=Rn(n)?ss:fn.current;return s=oo(e,s),Xs(e,i),n=S0(t,e,n,r,s,i),r=E0(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(it&&r&&d0(e),e.flags|=1,gn(t,e,n,i),e.child)}function Ug(t,e,n,r,i){if(Rn(n)){var s=!0;vc(e)}else s=!1;if(Xs(e,i),e.stateNode===null)ec(t,e),a1(e,n,r),ef(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tr(c):(c=Rn(n)?ss:fn.current,c=oo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bg(e,o,r,c),si=!1;var m=e.memoizedState;o.state=m,Ec(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Tn.current||si?(typeof u=="function"&&(Xh(e,n,u,r),l=e.memoizedState),(a=si||Rg(e,n,a,r,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Fw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=Rn(n)?ss:fn.current,l=oo(e,l));var w=n.getDerivedStateFromProps;(u=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&Bg(e,o,r,l),si=!1,m=e.memoizedState,o.state=m,Ec(e,r,o,i);var k=e.memoizedState;a!==h||m!==k||Tn.current||si?(typeof w=="function"&&(Xh(e,n,w,r),k=e.memoizedState),(c=si||Rg(e,n,c,r,m,k,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return rf(t,e,n,r,s,i)}function rf(t,e,n,r,i,s){h1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Sg(e,n,!1),qr(t,e,s);r=e.stateNode,B_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lo(e,t.child,null,s),e.child=lo(e,null,a,s)):gn(t,e,a,s),e.memoizedState=r.state,i&&Sg(e,n,!0),e.child}function f1(t){var e=t.stateNode;e.pendingContext?_g(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_g(t,e.context,!1),v0(t,e.containerInfo)}function Dg(t,e,n,r,i){return ao(),f0(i),e.flags|=256,gn(t,e,n,r),e.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(t){return{baseLanes:t,cachePool:null,transitions:null}}function p1(t,e,n){var r=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(st,i&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lu(o,r,0,null),t=es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=of(n),e.memoizedState=sf,t):C0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return M_(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sf,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function C0(t,e){return e=lu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xl(t,e,n,r){return r!==null&&f0(r),lo(e,t.child,null,n),t=C0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Bd(Error(J(422))),xl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lu({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lo(e,t.child,null,o),e.child.memoizedState=of(o),e.memoizedState=sf,s);if(!(e.mode&1))return xl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Bd(s,r,void 0),xl(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=Vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hr(t,i),hr(r,t,i,-1))}return M0(),r=Bd(Error(J(421))),xl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fn=Si(i.nextSibling),zn=e,it=!0,cr=null,t!==null&&(Zn[Yn++]=Or,Zn[Yn++]=Ur,Zn[Yn++]=os,Or=t.id,Ur=t.overflow,os=e),e=C0(e,r.children),e.flags|=4096,e)}function Fg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qh(t.return,e,n)}function Md(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function g1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gn(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,n,e);else if(t.tag===19)Fg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Md(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Md(e,!0,n,null,s);break;case"together":Md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j_(t,e,n){switch(e.tag){case 3:f1(e),ao();break;case 5:zw(e);break;case 1:Rn(e.type)&&vc(e);break;case 4:v0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(_c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?p1(t,e,n):(Ge(st,st.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Ge(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return g1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,d1(t,e,n)}return qr(t,e,n)}var m1,af,y1,w1;m1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};y1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gi(Sr.current);var s=null;switch(n){case"input":i=Ih(t,i),r=Ih(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=Rh(t,i),r=Rh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yc)}Mh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};w1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P_(t,e,n){var r=e.pendingProps;switch(h0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Rn(e.type)&&wc(),on(e),null;case 3:return r=e.stateNode,co(),et(Tn),et(fn),b0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(gf(cr),cr=null))),af(t,e),on(e),null;case 5:x0(e);var i=Gi(Ta.current);if(n=e.type,t!==null&&e.stateNode!=null)y1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return on(e),null}if(t=Gi(Sr.current),wl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xr]=e,r[Ia]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<Xo.length;i++)Qe(Xo[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Zp(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":Jp(r,s),Qe("invalid",r)}Mh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,t),i=["children",""+a]):wa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":cl(r),Yp(r,s,!0);break;case"textarea":cl(r),Qp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ky(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xr]=e,t[Ia]=r,m1(t,e,!1,!1),e.stateNode=t;e:{switch(o=jh(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xo.length;i++)Qe(Xo[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":Zp(t,r),i=Ih(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":Jp(t,r),i=Rh(t,r),Qe("invalid",t);break;default:i=r}Mh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Zy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&va(t,l):typeof l=="number"&&va(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qe("scroll",t):l!=null&&Jf(t,s,l,o))}switch(n){case"input":cl(t),Yp(t,r,!1);break;case"textarea":cl(t),Qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)w1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Gi(Ta.current),Gi(Sr.current),wl(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(s=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:yl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return on(e),null;case 13:if(et(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Fn!==null&&e.mode&1&&!(e.flags&128))Lw(),ao(),e.flags|=98560,s=!1;else if(s=wl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[xr]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),s=!1}else cr!==null&&(gf(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Ft===0&&(Ft=3):M0())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return co(),af(t,e),t===null&&Aa(e.stateNode.containerInfo),on(e),null;case 10:return m0(e.type._context),on(e),null;case 17:return Rn(e.type)&&wc(),on(e),null;case 19:if(et(st),s=e.memoizedState,s===null)return on(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wo(s,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kc(t),o!==null){for(e.flags|=128,Wo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>ho&&(e.flags|=128,r=!0,Wo(s,!1),e.lanes=4194304)}else{if(!r)if(t=kc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!it)return on(e),null}else 2*mt()-s.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,Wo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=st.current,Ge(st,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return B0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function L_(t,e){switch(h0(e),e.tag){case 1:return Rn(e.type)&&wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),et(Tn),et(fn),b0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x0(e),null;case 13:if(et(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(st),null;case 4:return co(),null;case 10:return m0(e.type._context),null;case 22:case 23:return B0(),null;case 24:return null;default:return null}}var bl=!1,dn=!1,O_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function lf(t,e,n){try{n()}catch(r){pt(t,e,r)}}var zg=!1;function U_(t,e){if(Hh=pc,t=Sw(),u0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,m=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++u===r&&(l=o),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:t,selectionRange:n},pc=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var A=k.memoizedProps,b=k.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?A:sr(e.type,A),b);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(R){pt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return k=zg,zg=!1,k}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lf(e,n,s)}i=i.next}while(i!==r)}}function ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v1(t){var e=t.alternate;e!==null&&(t.alternate=null,v1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Ia],delete e[Gh],delete e[x_],delete e[b_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x1(t){return t.tag===5||t.tag===3||t.tag===4}function $g(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yc));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(df(t,e,n),t=t.sibling;t!==null;)df(t,e,n),t=t.sibling}var Jt=null,ar=!1;function Yr(t,e,n){for(n=n.child;n!==null;)b1(t,e,n),n=n.sibling}function b1(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:dn||Ws(n,e);case 6:var r=Jt,i=ar;Jt=null,Yr(t,e,n),Jt=r,ar=i,Jt!==null&&(ar?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(ar?(t=Jt,n=n.stateNode,t.nodeType===8?Ad(t.parentNode,n):t.nodeType===1&&Ad(t,n),Sa(t)):Ad(Jt,n.stateNode));break;case 4:r=Jt,i=ar,Jt=n.stateNode.containerInfo,ar=!0,Yr(t,e,n),Jt=r,ar=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lf(n,e,o),i=i.next}while(i!==r)}Yr(t,e,n);break;case 1:if(!dn&&(Ws(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,Yr(t,e,n),dn=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function Wg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O_),e.forEach(function(r){var i=V_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,ar=!1;break e;case 3:Jt=a.stateNode.containerInfo,ar=!0;break e;case 4:Jt=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Jt===null)throw Error(J(160));b1(s,o,i),Jt=null,ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){pt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_1(e,t),e=e.sibling}function _1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),mr(t),r&4){try{ua(3,t,t.return),ou(3,t)}catch(A){pt(t,t.return,A)}try{ua(5,t,t.return)}catch(A){pt(t,t.return,A)}}break;case 1:rr(e,t),mr(t),r&512&&n!==null&&Ws(n,n.return);break;case 5:if(rr(e,t),mr(t),r&512&&n!==null&&Ws(n,n.return),t.flags&32){var i=t.stateNode;try{va(i,"")}catch(A){pt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Hy(i,s),jh(a,o);var c=jh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Zy(i,h):u==="dangerouslySetInnerHTML"?Vy(i,h):u==="children"?va(i,h):Jf(i,u,h,c)}switch(a){case"input":Nh(i,s);break;case"textarea":qy(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Zs(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?Zs(i,!!s.multiple,s.defaultValue,!0):Zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ia]=s}catch(A){pt(t,t.return,A)}}break;case 6:if(rr(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){pt(t,t.return,A)}}break;case 3:if(rr(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(A){pt(t,t.return,A)}break;case 4:rr(e,t),mr(t);break;case 13:rr(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(T0=mt())),r&4&&Wg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(c=dn)||u,rr(e,t),dn=c):rr(e,t),mr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(h=ae=u;ae!==null;){switch(m=ae,w=m.child,m.tag){case 0:case 11:case 14:case 15:ua(4,m,m.return);break;case 1:Ws(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(A){pt(r,n,A)}}break;case 5:Ws(m,m.return);break;case 22:if(m.memoizedState!==null){qg(h);continue}}w!==null?(w.return=m,ae=w):qg(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gy("display",o))}catch(A){pt(t,t.return,A)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(A){pt(t,t.return,A)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rr(e,t),mr(t),r&4&&Wg(t);break;case 21:break;default:rr(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x1(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(va(i,""),r.flags&=-33);var s=$g(t);df(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$g(t);uf(t,a,o);break;default:throw Error(J(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D_(t,e,n){ae=t,S1(t)}function S1(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dn;a=bl;var c=dn;if(bl=o,(dn=l)&&!c)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?Kg(i):l!==null?(l.return=o,ae=l):Kg(i);for(;s!==null;)ae=s,S1(s),s=s.sibling;ae=i,bl=a,dn=c}Hg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):Hg(t)}}function Hg(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ig(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ig(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Sa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}dn||e.flags&512&&cf(e)}catch(m){pt(e,e.return,m)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function qg(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Kg(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var s=e.return;try{cf(e)}catch(l){pt(e,s,l)}break;case 5:var o=e.return;try{cf(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var F_=Math.ceil,Ic=Zr.ReactCurrentDispatcher,I0=Zr.ReactCurrentOwner,Xn=Zr.ReactCurrentBatchConfig,je=0,Vt=null,Ut=null,nn=0,jn=0,Hs=Mi(0),Ft=0,ja=null,ls=0,au=0,N0=0,da=null,kn=null,T0=0,ho=1/0,Tr=null,Nc=!1,hf=null,ki=null,_l=!1,fi=null,Tc=0,ha=0,ff=null,tc=-1,nc=0;function yn(){return je&6?mt():tc!==-1?tc:tc=mt()}function Ai(t){return t.mode&1?je&2&&nn!==0?nn&-nn:S_.transition!==null?(nc===0&&(nc=aw()),nc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:pw(t.type)),t):1}function hr(t,e,n,r){if(50<ha)throw ha=0,ff=null,Error(J(185));Ga(t,n,r),(!(je&2)||t!==Vt)&&(t===Vt&&(!(je&2)&&(au|=n),Ft===4&&ci(t,nn)),Bn(t,r),n===1&&je===0&&!(e.mode&1)&&(ho=mt()+500,ru&&ji()))}function Bn(t,e){var n=t.callbackNode;S2(t,e);var r=fc(t,t===Vt?nn:0);if(r===0)n!==null&&tg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tg(n),e===1)t.tag===0?__(Vg.bind(null,t)):Mw(Vg.bind(null,t)),w_(function(){!(je&6)&&ji()}),n=null;else{switch(lw(r)){case 1:n=n0;break;case 4:n=sw;break;case 16:n=hc;break;case 536870912:n=ow;break;default:n=hc}n=R1(n,E1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E1(t,e){if(tc=-1,nc=0,je&6)throw Error(J(327));var n=t.callbackNode;if(eo()&&t.callbackNode!==n)return null;var r=fc(t,t===Vt?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var i=je;je|=2;var s=A1();(Vt!==t||nn!==e)&&(Tr=null,ho=mt()+500,Xi(t,e));do try{W_();break}catch(a){k1(t,a)}while(!0);g0(),Ic.current=s,je=i,Ut!==null?e=0:(Vt=null,nn=0,e=Ft)}if(e!==0){if(e===2&&(i=Dh(t),i!==0&&(r=i,e=pf(t,i))),e===1)throw n=ja,Xi(t,0),ci(t,r),Bn(t,mt()),n;if(e===6)ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!z_(i)&&(e=Rc(t,r),e===2&&(s=Dh(t),s!==0&&(r=s,e=pf(t,s))),e===1))throw n=ja,Xi(t,0),ci(t,r),Bn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Ui(t,kn,Tr);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=T0+500-mt(),10<e)){if(fc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vh(Ui.bind(null,t,kn,Tr),e);break}Ui(t,kn,Tr);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F_(r/1960))-r,10<r){t.timeoutHandle=Vh(Ui.bind(null,t,kn,Tr),r);break}Ui(t,kn,Tr);break;case 5:Ui(t,kn,Tr);break;default:throw Error(J(329))}}}return Bn(t,mt()),t.callbackNode===n?E1.bind(null,t):null}function pf(t,e){var n=da;return t.current.memoizedState.isDehydrated&&(Xi(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=kn,kn=n,e!==null&&gf(e)),t}function gf(t){kn===null?kn=t:kn.push.apply(kn,t)}function z_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~N0,e&=~au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function Vg(t){if(je&6)throw Error(J(327));eo();var e=fc(t,0);if(!(e&1))return Bn(t,mt()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=Dh(t);r!==0&&(e=r,n=pf(t,r))}if(n===1)throw n=ja,Xi(t,0),ci(t,e),Bn(t,mt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ui(t,kn,Tr),Bn(t,mt()),null}function R0(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(ho=mt()+500,ru&&ji())}}function cs(t){fi!==null&&fi.tag===0&&!(je&6)&&eo();var e=je;je|=1;var n=Xn.transition,r=Fe;try{if(Xn.transition=null,Fe=1,t)return t()}finally{Fe=r,Xn.transition=n,je=e,!(je&6)&&ji()}}function B0(){jn=Hs.current,et(Hs)}function Xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y_(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(h0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:co(),et(Tn),et(fn),b0();break;case 5:x0(r);break;case 4:co();break;case 13:et(st);break;case 19:et(st);break;case 10:m0(r.type._context);break;case 22:case 23:B0()}n=n.return}if(Vt=t,Ut=t=Ci(t.current,null),nn=jn=e,Ft=0,ja=null,N0=au=ls=0,kn=da=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vi=null}return t}function k1(t,e){do{var n=Ut;try{if(g0(),Ql.current=Cc,Ac){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ac=!1}if(as=0,qt=Dt=lt=null,ca=!1,Ra=0,I0.current=null,n===null||n.return===null){Ft=1,ja=e,Ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var w=jg(o);if(w!==null){w.flags&=-257,Pg(w,o,a,s,e),w.mode&1&&Mg(s,c,e),e=w,l=c;var k=e.updateQueue;if(k===null){var A=new Set;A.add(l),e.updateQueue=A}else k.add(l);break e}else{if(!(e&1)){Mg(s,c,e),M0();break e}l=Error(J(426))}}else if(it&&a.mode&1){var b=jg(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Pg(b,o,a,s,e),f0(uo(l,a));break e}}s=l=uo(l,a),Ft!==4&&(Ft=2),da===null?da=[s]:da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=l1(s,l,e);Cg(s,_);break e;case 1:a=l;var S=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ki===null||!ki.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=c1(s,a,e);Cg(s,R);break e}}s=s.return}while(s!==null)}I1(n)}catch(O){e=O,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function A1(){var t=Ic.current;return Ic.current=Cc,t===null?Cc:t}function M0(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Vt===null||!(ls&268435455)&&!(au&268435455)||ci(Vt,nn)}function Rc(t,e){var n=je;je|=2;var r=A1();(Vt!==t||nn!==e)&&(Tr=null,Xi(t,e));do try{$_();break}catch(i){k1(t,i)}while(!0);if(g0(),je=n,Ic.current=r,Ut!==null)throw Error(J(261));return Vt=null,nn=0,Ft}function $_(){for(;Ut!==null;)C1(Ut)}function W_(){for(;Ut!==null&&!p2();)C1(Ut)}function C1(t){var e=T1(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?I1(t):Ut=e,I0.current=null}function I1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L_(n,e),n!==null){n.flags&=32767,Ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Ut=null;return}}else if(n=P_(n,e,jn),n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Ft===0&&(Ft=5)}function Ui(t,e,n){var r=Fe,i=Xn.transition;try{Xn.transition=null,Fe=1,H_(t,e,n,r)}finally{Xn.transition=i,Fe=r}return null}function H_(t,e,n,r){do eo();while(fi!==null);if(je&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(E2(t,s),t===Vt&&(Ut=Vt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,R1(hc,function(){return eo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var o=Fe;Fe=1;var a=je;je|=4,I0.current=null,U_(t,n),_1(n,t),u_(qh),pc=!!Hh,qh=Hh=null,t.current=n,D_(n),g2(),je=a,Fe=o,Xn.transition=s}else t.current=n;if(_l&&(_l=!1,fi=t,Tc=i),s=t.pendingLanes,s===0&&(ki=null),w2(n.stateNode),Bn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nc)throw Nc=!1,t=hf,hf=null,t;return Tc&1&&t.tag!==0&&eo(),s=t.pendingLanes,s&1?t===ff?ha++:(ha=0,ff=t):ha=0,ji(),null}function eo(){if(fi!==null){var t=lw(Tc),e=Xn.transition,n=Fe;try{if(Xn.transition=null,Fe=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,Tc=0,je&6)throw Error(J(331));var i=je;for(je|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:ua(8,u,s)}var h=u.child;if(h!==null)h.return=u,ae=h;else for(;ae!==null;){u=ae;var m=u.sibling,w=u.return;if(v1(u),u===c){ae=null;break}if(m!==null){m.return=w,ae=m;break}ae=w}}}var k=s.alternate;if(k!==null){var A=k.child;if(A!==null){k.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(A!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ua(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ae=_;break e}ae=s.return}}var S=t.current;for(ae=S;ae!==null;){o=ae;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ae=v;else e:for(o=S;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ou(9,a)}}catch(O){pt(a,a.return,O)}if(a===o){ae=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ae=R;break e}ae=a.return}}if(je=i,ji(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Qc,t)}catch{}r=!0}return r}finally{Fe=n,Xn.transition=e}}return!1}function Gg(t,e,n){e=uo(n,e),e=l1(t,e,1),t=Ei(t,e,1),e=yn(),t!==null&&(Ga(t,1,e),Bn(t,e))}function pt(t,e,n){if(t.tag===3)Gg(t,t,n);else for(;e!==null;){if(e.tag===3){Gg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=uo(n,t),t=c1(e,t,1),e=Ei(e,t,1),t=yn(),e!==null&&(Ga(e,1,t),Bn(e,t));break}}e=e.return}}function q_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(nn&n)===n&&(Ft===4||Ft===3&&(nn&130023424)===nn&&500>mt()-T0?Xi(t,0):N0|=n),Bn(t,e)}function N1(t,e){e===0&&(t.mode&1?(e=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):e=1);var n=yn();t=Hr(t,e),t!==null&&(Ga(t,e,n),Bn(t,n))}function K_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N1(t,n)}function V_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),N1(t,n)}var T1;T1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,j_(t,e,n);In=!!(t.flags&131072)}else In=!1,it&&e.flags&1048576&&jw(e,bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ec(t,e),t=e.pendingProps;var i=oo(e,fn.current);Xs(e,n),i=S0(null,e,r,t,i,n);var s=E0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,vc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w0(e),i.updater=su,e.stateNode=i,i._reactInternals=e,ef(e,r,t,n),e=rf(null,e,r,!0,s,n)):(e.tag=0,it&&s&&d0(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Z_(r),t=sr(r,t),i){case 0:e=nf(null,e,r,t,n);break e;case 1:e=Ug(null,e,r,t,n);break e;case 11:e=Lg(null,e,r,t,n);break e;case 14:e=Og(null,e,r,sr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),nf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Ug(t,e,r,i,n);case 3:e:{if(f1(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Fw(t,e),Ec(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=uo(Error(J(423)),e),e=Dg(t,e,r,n,i);break e}else if(r!==i){i=uo(Error(J(424)),e),e=Dg(t,e,r,n,i);break e}else for(Fn=Si(e.stateNode.containerInfo.firstChild),zn=e,it=!0,cr=null,n=Uw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===i){e=qr(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return zw(e),t===null&&Jh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kh(r,i)?o=null:s!==null&&Kh(r,s)&&(e.flags|=32),h1(t,e),gn(t,e,o,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return p1(t,e,n);case 4:return v0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Lg(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(_c,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!Tn.current){e=qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xs(e,n),i=tr(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),Og(t,e,r,i,n);case 15:return u1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),ec(t,e),e.tag=1,Rn(r)?(t=!0,vc(e)):t=!1,Xs(e,n),a1(e,r,i),ef(e,r,i,n),rf(null,e,r,!0,t,n);case 19:return g1(t,e,n);case 22:return d1(t,e,n)}throw Error(J(156,e.tag))};function R1(t,e){return iw(t,e)}function G_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new G_(t,e,n,r)}function j0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z_(t){if(typeof t=="function")return j0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xf)return 11;if(t===e0)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")j0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case js:return es(n.children,i,s,e);case Qf:o=8,i|=8;break;case Eh:return t=Qn(12,n,e,i|2),t.elementType=Eh,t.lanes=s,t;case kh:return t=Qn(13,n,e,i),t.elementType=kh,t.lanes=s,t;case Ah:return t=Qn(19,n,e,i),t.elementType=Ah,t.lanes=s,t;case zy:return lu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dy:o=10;break e;case Fy:o=9;break e;case Xf:o=11;break e;case e0:o=14;break e;case ii:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function es(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function lu(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=zy,t.lanes=n,t.stateNode={isHidden:!1},t}function jd(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gd(0),this.expirationTimes=gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P0(t,e,n,r,i,s,o,a,l){return t=new Y_(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w0(s),t}function J_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B1(t){if(!t)return Ti;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Rn(n))return Bw(t,n,e)}return e}function M1(t,e,n,r,i,s,o,a,l){return t=P0(n,r,!0,t,i,s,o,a,l),t.context=B1(null),n=t.current,r=yn(),i=Ai(n),s=Fr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,Ga(t,i,r),Bn(t,r),t}function cu(t,e,n,r){var i=e.current,s=yn(),o=Ai(i);return n=B1(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(hr(t,i,o,s),Jl(t,i,o)),o}function Bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function L0(t,e){Zg(t,e),(t=t.alternate)&&Zg(t,e)}function Q_(){return null}var j1=typeof reportError=="function"?reportError:function(t){console.error(t)};function O0(t){this._internalRoot=t}uu.prototype.render=O0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));cu(t,e,null,null)};uu.prototype.unmount=O0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){cu(null,t,null,null)}),e[Wr]=null}};function uu(t){this._internalRoot=t}uu.prototype.unstable_scheduleHydration=function(t){if(t){var e=dw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&fw(t)}};function U0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function X_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bc(o);s.call(c)}}var o=M1(e,r,t,0,null,!1,!1,"",Yg);return t._reactRootContainer=o,t[Wr]=o.current,Aa(t.nodeType===8?t.parentNode:t),cs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Bc(l);a.call(c)}}var l=P0(t,0,!1,null,null,!1,!1,"",Yg);return t._reactRootContainer=l,t[Wr]=l.current,Aa(t.nodeType===8?t.parentNode:t),cs(function(){cu(e,l,n,r)}),l}function hu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bc(o);a.call(l)}}cu(e,o,t,i)}else o=X_(n,e,t,i,r);return Bc(o)}cw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qo(e.pendingLanes);n!==0&&(r0(e,n|1),Bn(e,mt()),!(je&6)&&(ho=mt()+500,ji()))}break;case 13:cs(function(){var r=Hr(t,1);if(r!==null){var i=yn();hr(r,t,1,i)}}),L0(t,1)}};i0=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=yn();hr(e,t,134217728,n)}L0(t,134217728)}};uw=function(t){if(t.tag===13){var e=Ai(t),n=Hr(t,e);if(n!==null){var r=yn();hr(n,t,e,r)}L0(t,e)}};dw=function(){return Fe};hw=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Lh=function(t,e,n){switch(e){case"input":if(Nh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nu(r);if(!i)throw Error(J(90));Wy(r),Nh(r,i)}}}break;case"textarea":qy(t,n);break;case"select":e=n.value,e!=null&&Zs(t,!!n.multiple,e,!1)}};Qy=R0;Xy=cs;var eS={usingClientEntryPoint:!1,Events:[Ya,Us,nu,Yy,Jy,R0]},Ho={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tS={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||Q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Qc=Sl.inject(tS),_r=Sl}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U0(e))throw Error(J(200));return J_(t,e,null,n)};Wn.createRoot=function(t,e){if(!U0(t))throw Error(J(299));var n=!1,r="",i=j1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=P0(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,Aa(t.nodeType===8?t.parentNode:t),new O0(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=nw(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return cs(t)};Wn.hydrate=function(t,e,n){if(!du(e))throw Error(J(200));return hu(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!U0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=j1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=M1(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,Aa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uu(e)};Wn.render=function(t,e,n){if(!du(e))throw Error(J(200));return hu(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!du(t))throw Error(J(40));return t._reactRootContainer?(cs(function(){hu(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};Wn.unstable_batchedUpdates=R0;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!du(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return hu(t,e,n,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(t){console.error(t)}}P1(),Py.exports=Wn;var L1=Py.exports,O1,Jg=L1;O1=Jg.createRoot,Jg.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const Qg="popstate";function nS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return mf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:D1(i)}return iS(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function U1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substr(2,8)}function Xg(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n,r){return n===void 0&&(n=null),Pa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||rS()})}function D1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Pa({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=pi.Pop;let b=u(),_=b==null?null:b-c;c=b,l&&l({action:a,location:A.location,delta:_})}function m(b,_){a=pi.Push;let S=mf(A.location,b,_);c=u()+1;let v=Xg(S,c),R=A.createHref(S);try{o.pushState(v,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}s&&l&&l({action:a,location:A.location,delta:1})}function w(b,_){a=pi.Replace;let S=mf(A.location,b,_);c=u();let v=Xg(S,c),R=A.createHref(S);o.replaceState(v,"",R),s&&l&&l({action:a,location:A.location,delta:0})}function k(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof b=="string"?b:D1(b);return S=S.replace(/ $/,"%20"),zt(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let A={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qg,h),l=b,()=>{i.removeEventListener(Qg,h),l=null}},createHref(b){return e(i,b)},createURL:k,encodeLocation(b){let _=k(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:w,go(b){return o.go(b)}};return A}var em;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(em||(em={}));function sS(t,e,n){return n===void 0&&(n="/"),oS(t,e,n,!1)}function oS(t,e,n,r){let i=typeof e=="string"?Co(e):e,s=$1(i.pathname||"/",n);if(s==null)return null;let o=F1(t);aS(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=wS(s);a=mS(o[l],c,r)}return a}function F1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(zt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ts([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),F1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:pS(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of z1(s.path))i(s,o,l)}),e}function z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=z1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lS=/^:[\w-]+$/,cS=3,uS=2,dS=1,hS=10,fS=-2,tm=t=>t==="*";function pS(t,e){let n=t.split("/"),r=n.length;return n.some(tm)&&(r+=fS),e&&(r+=uS),n.filter(i=>!tm(i)).reduce((i,s)=>i+(lS.test(s)?cS:s===""?dS:hS),r)}function gS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mS(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=nm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=nm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ts([s,h.pathname]),pathnameBase:ES(ts([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=ts([s,h.pathnameBase]))}return o}function nm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:m,isOptional:w}=u;if(m==="*"){let A=a[h]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const k=a[h];return w&&!k?c[m]=void 0:c[m]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function yS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return U1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:xS(n,e):e,search:kS(r),hash:AS(i)}}function xS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ld(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _S(t,e){let n=bS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Co(t):(i=Pa({},t),zt(!i.pathname||!i.pathname.includes("?"),Ld("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),Ld("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),Ld("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=vS(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),ES=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W1=["post","put","patch","delete"];new Set(W1);const IS=["get",...W1];new Set(IS);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},La.apply(this,arguments)}const D0=z.createContext(null),NS=z.createContext(null),fu=z.createContext(null),pu=z.createContext(null),Io=z.createContext({outlet:null,matches:[],isDataRoute:!1}),H1=z.createContext(null);function gu(){return z.useContext(pu)!=null}function F0(){return gu()||zt(!1),z.useContext(pu).location}function q1(t){z.useContext(fu).static||z.useLayoutEffect(t)}function mu(){let{isDataRoute:t}=z.useContext(Io);return t?$S():TS()}function TS(){gu()||zt(!1);let t=z.useContext(D0),{basename:e,future:n,navigator:r}=z.useContext(fu),{matches:i}=z.useContext(Io),{pathname:s}=F0(),o=JSON.stringify(_S(i,n.v7_relativeSplatPath)),a=z.useRef(!1);return q1(()=>{a.current=!0}),z.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=SS(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ts([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function RS(t,e){return BS(t,e)}function BS(t,e,n,r){gu()||zt(!1);let{navigator:i}=z.useContext(fu),{matches:s}=z.useContext(Io),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=F0(),u;if(e){var h;let b=typeof e=="string"?Co(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||zt(!1),u=b}else u=c;let m=u.pathname||"/",w=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=sS(t,{pathname:w}),A=OS(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&A?z.createElement(pu.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pi.Pop}},A):A}function MS(){let t=zS(),e=CS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const jS=z.createElement(MS,null);class PS extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(Io.Provider,{value:this.props.routeContext},z.createElement(H1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LS(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(D0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Io.Provider,{value:e},r)}function OS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||zt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:w}=n,k=h.route.loader&&m[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||k){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let w,k=!1,A=null,b=null;n&&(w=a&&h.route.id?a[h.route.id]:void 0,A=h.route.errorElement||jS,l&&(c<0&&m===0?(k=!0,b=null):c===m&&(k=!0,b=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),S=()=>{let v;return w?v=A:k?v=b:h.route.Component?v=z.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,z.createElement(LS,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?z.createElement(PS,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var K1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(K1||{}),Mc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mc||{});function US(t){let e=z.useContext(D0);return e||zt(!1),e}function DS(t){let e=z.useContext(NS);return e||zt(!1),e}function FS(t){let e=z.useContext(Io);return e||zt(!1),e}function V1(t){let e=FS(),n=e.matches[e.matches.length-1];return n.route.id||zt(!1),n.route.id}function zS(){var t;let e=z.useContext(H1),n=DS(Mc.UseRouteError),r=V1(Mc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $S(){let{router:t}=US(K1.UseNavigateStable),e=V1(Mc.UseNavigateStable),n=z.useRef(!1);return q1(()=>{n.current=!0}),z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,La({fromRouteId:e},s)))},[t,e])}const rm={};function WS(t,e){rm[e]||(rm[e]=!0,console.warn(e))}const im=(t,e,n)=>WS(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function HS(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&im("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&im("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Di(t){zt(!1)}function qS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pi.Pop,navigator:s,static:o=!1,future:a}=t;gu()&&zt(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:o,future:La({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Co(r));let{pathname:u="/",search:h="",hash:m="",state:w=null,key:k="default"}=r,A=z.useMemo(()=>{let b=$1(u,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:w,key:k},navigationType:i}},[l,u,h,m,w,k,i]);return A==null?null:z.createElement(fu.Provider,{value:c},z.createElement(pu.Provider,{children:n,value:A}))}function KS(t){let{children:e,location:n}=t;return RS(yf(e),n)}new Promise(()=>{});function yf(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){n.push.apply(n,yf(r.props.children,s));return}r.type!==Di&&zt(!1),!r.props.index||!r.props.children||zt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const VS="6";try{window.__reactRouterVersion=VS}catch{}const GS="startTransition",sm=qb[GS];function ZS(t){let{basename:e,children:n,future:r,window:i}=t,s=z.useRef();s.current==null&&(s.current=nS({window:i,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=z.useCallback(h=>{c&&sm?sm(()=>l(h)):l(h)},[l,c]);return z.useLayoutEffect(()=>o.listen(u),[o,u]),z.useEffect(()=>HS(r),[r]),z.createElement(qS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var om;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(om||(om={}));var am;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(am||(am={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>z.createElement("svg",{ref:u,...YS,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${JS(t)}`,a].join(" "),...c},[...e.map(([h,m])=>z.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Be("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Be("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Be("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Be("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Be("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Be("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var be={},yu={};yu.byteLength=wE;yu.toByteArray=xE;yu.fromByteArray=SE;var br=[],Vn=[],mE=typeof Uint8Array<"u"?Uint8Array:Array,Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var As=0,yE=Od.length;As<yE;++As)br[As]=Od[As],Vn[Od.charCodeAt(As)]=As;Vn[45]=62;Vn[95]=63;function rv(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function wE(t){var e=rv(t),n=e[0],r=e[1];return(n+r)*3/4-r}function vE(t,e,n){return(e+n)*3/4-n}function xE(t){var e,n=rv(t),r=n[0],i=n[1],s=new mE(vE(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Vn[t.charCodeAt(l)]<<18|Vn[t.charCodeAt(l+1)]<<12|Vn[t.charCodeAt(l+2)]<<6|Vn[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Vn[t.charCodeAt(l)]<<2|Vn[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Vn[t.charCodeAt(l)]<<10|Vn[t.charCodeAt(l+1)]<<4|Vn[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function bE(t){return br[t>>18&63]+br[t>>12&63]+br[t>>6&63]+br[t&63]}function _E(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(bE(r));return i.join("")}function SE(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(_E(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(br[e>>2]+br[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(br[e>>10]+br[e>>4&63]+br[e<<2&63]+"=")),i.join("")}var q0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */q0.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,m=n?-1:1,w=t[e+h];for(h+=m,s=w&(1<<-u)-1,w>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=m,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+h],h+=m,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(w?-1:1)*o*Math.pow(2,s-r)};q0.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,k=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+w]=a&255,w+=k,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+w]=o&255,w+=k,o/=256,c-=8);t[n+w-k]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=yu,n=q0,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const N=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(N,f),N.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(N){if(N>i)throw new RangeError('The value "'+N+'" is invalid for option "size"');const f=new Uint8Array(N);return Object.setPrototypeOf(f,a.prototype),f}function a(N,f,g){if(typeof N=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(N)}return l(N,f,g)}a.poolSize=8192;function l(N,f,g){if(typeof N=="string")return m(N,f);if(ArrayBuffer.isView(N))return k(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Gt(N,ArrayBuffer)||N&&Gt(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gt(N,SharedArrayBuffer)||N&&Gt(N.buffer,SharedArrayBuffer)))return A(N,f,g);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=N.valueOf&&N.valueOf();if(M!=null&&M!==N)return a.from(M,f,g);const F=b(N);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return a.from(N[Symbol.toPrimitive]("string"),f,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}a.from=function(N,f,g){return l(N,f,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function u(N,f,g){return c(N),N<=0?o(N):f!==void 0?typeof g=="string"?o(N).fill(f,g):o(N).fill(f):o(N)}a.alloc=function(N,f,g){return u(N,f,g)};function h(N){return c(N),o(N<0?0:_(N)|0)}a.allocUnsafe=function(N){return h(N)},a.allocUnsafeSlow=function(N){return h(N)};function m(N,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const g=v(N,f)|0;let M=o(g);const F=M.write(N,f);return F!==g&&(M=M.slice(0,F)),M}function w(N){const f=N.length<0?0:_(N.length)|0,g=o(f);for(let M=0;M<f;M+=1)g[M]=N[M]&255;return g}function k(N){if(Gt(N,Uint8Array)){const f=new Uint8Array(N);return A(f.buffer,f.byteOffset,f.byteLength)}return w(N)}function A(N,f,g){if(f<0||N.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<f+(g||0))throw new RangeError('"length" is outside of buffer bounds');let M;return f===void 0&&g===void 0?M=new Uint8Array(N):g===void 0?M=new Uint8Array(N,f):M=new Uint8Array(N,f,g),Object.setPrototypeOf(M,a.prototype),M}function b(N){if(a.isBuffer(N)){const f=_(N.length)|0,g=o(f);return g.length===0||N.copy(g,0,0,f),g}if(N.length!==void 0)return typeof N.length!="number"||We(N.length)?o(0):w(N);if(N.type==="Buffer"&&Array.isArray(N.data))return w(N.data)}function _(N){if(N>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return N|0}function S(N){return+N!=N&&(N=0),a.alloc(+N)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,g){if(Gt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),Gt(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(f)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===g)return 0;let M=f.length,F=g.length;for(let $=0,K=Math.min(M,F);$<K;++$)if(f[$]!==g[$]){M=f[$],F=g[$];break}return M<F?-1:F<M?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,g){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let M;if(g===void 0)for(g=0,M=0;M<f.length;++M)g+=f[M].length;const F=a.allocUnsafe(g);let $=0;for(M=0;M<f.length;++M){let K=f[M];if(Gt(K,Uint8Array))$+K.length>F.length?(a.isBuffer(K)||(K=a.from(K)),K.copy(F,$)):Uint8Array.prototype.set.call(F,K,$);else if(a.isBuffer(K))K.copy(F,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=K.length}return F};function v(N,f){if(a.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Gt(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const g=N.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&g===0)return 0;let F=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return He(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return qe(N).length;default:if(F)return M?-1:He(N).length;f=(""+f).toLowerCase(),F=!0}}a.byteLength=v;function R(N,f,g){let M=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,f>>>=0,g<=f))return"";for(N||(N="utf8");;)switch(N){case"hex":return B(this,f,g);case"utf8":case"utf-8":return d(this,f,g);case"ascii":return I(this,f,g);case"latin1":case"binary":return C(this,f,g);case"base64":return P(this,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,f,g);default:if(M)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),M=!0}}a.prototype._isBuffer=!0;function O(N,f,g){const M=N[f];N[f]=N[g],N[g]=M}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<f;g+=2)O(this,g,g+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<f;g+=4)O(this,g,g+3),O(this,g+1,g+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<f;g+=8)O(this,g,g+7),O(this,g+1,g+6),O(this,g+2,g+5),O(this,g+3,g+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?d(this,0,f):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const g=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(f+=" ... "),"<Buffer "+f+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(f,g,M,F,$){if(Gt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(g===void 0&&(g=0),M===void 0&&(M=f?f.length:0),F===void 0&&(F=0),$===void 0&&($=this.length),g<0||M>f.length||F<0||$>this.length)throw new RangeError("out of range index");if(F>=$&&g>=M)return 0;if(F>=$)return-1;if(g>=M)return 1;if(g>>>=0,M>>>=0,F>>>=0,$>>>=0,this===f)return 0;let K=$-F,_e=M-g;const xe=Math.min(K,_e),we=this.slice(F,$),Je=f.slice(g,M);for(let ge=0;ge<xe;++ge)if(we[ge]!==Je[ge]){K=we[ge],_e=Je[ge];break}return K<_e?-1:_e<K?1:0};function U(N,f,g,M,F){if(N.length===0)return-1;if(typeof g=="string"?(M=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,We(g)&&(g=F?0:N.length-1),g<0&&(g=N.length+g),g>=N.length){if(F)return-1;g=N.length-1}else if(g<0)if(F)g=0;else return-1;if(typeof f=="string"&&(f=a.from(f,M)),a.isBuffer(f))return f.length===0?-1:D(N,f,g,M,F);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(N,f,g):Uint8Array.prototype.lastIndexOf.call(N,f,g):D(N,[f],g,M,F);throw new TypeError("val must be string, number or Buffer")}function D(N,f,g,M,F){let $=1,K=N.length,_e=f.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(N.length<2||f.length<2)return-1;$=2,K/=2,_e/=2,g/=2}function xe(Je,ge){return $===1?Je[ge]:Je.readUInt16BE(ge*$)}let we;if(F){let Je=-1;for(we=g;we<K;we++)if(xe(N,we)===xe(f,Je===-1?0:we-Je)){if(Je===-1&&(Je=we),we-Je+1===_e)return Je*$}else Je!==-1&&(we-=we-Je),Je=-1}else for(g+_e>K&&(g=K-_e),we=g;we>=0;we--){let Je=!0;for(let ge=0;ge<_e;ge++)if(xe(N,we+ge)!==xe(f,ge)){Je=!1;break}if(Je)return we}return-1}a.prototype.includes=function(f,g,M){return this.indexOf(f,g,M)!==-1},a.prototype.indexOf=function(f,g,M){return U(this,f,g,M,!0)},a.prototype.lastIndexOf=function(f,g,M){return U(this,f,g,M,!1)};function H(N,f,g,M){g=Number(g)||0;const F=N.length-g;M?(M=Number(M),M>F&&(M=F)):M=F;const $=f.length;M>$/2&&(M=$/2);let K;for(K=0;K<M;++K){const _e=parseInt(f.substr(K*2,2),16);if(We(_e))return K;N[g+K]=_e}return K}function V(N,f,g,M){return $e(He(f,N.length-g),N,g,M)}function Q(N,f,g,M){return $e(tt(f),N,g,M)}function ne(N,f,g,M){return $e(qe(f),N,g,M)}function oe(N,f,g,M){return $e(Es(f,N.length-g),N,g,M)}a.prototype.write=function(f,g,M,F){if(g===void 0)F="utf8",M=this.length,g=0;else if(M===void 0&&typeof g=="string")F=g,M=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(M)?(M=M>>>0,F===void 0&&(F="utf8")):(F=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-g;if((M===void 0||M>$)&&(M=$),f.length>0&&(M<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let K=!1;for(;;)switch(F){case"hex":return H(this,f,g,M);case"utf8":case"utf-8":return V(this,f,g,M);case"ascii":case"latin1":case"binary":return Q(this,f,g,M);case"base64":return ne(this,f,g,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,f,g,M);default:if(K)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(N,f,g){return f===0&&g===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(f,g))}function d(N,f,g){g=Math.min(N.length,g);const M=[];let F=f;for(;F<g;){const $=N[F];let K=null,_e=$>239?4:$>223?3:$>191?2:1;if(F+_e<=g){let xe,we,Je,ge;switch(_e){case 1:$<128&&(K=$);break;case 2:xe=N[F+1],(xe&192)===128&&(ge=($&31)<<6|xe&63,ge>127&&(K=ge));break;case 3:xe=N[F+1],we=N[F+2],(xe&192)===128&&(we&192)===128&&(ge=($&15)<<12|(xe&63)<<6|we&63,ge>2047&&(ge<55296||ge>57343)&&(K=ge));break;case 4:xe=N[F+1],we=N[F+2],Je=N[F+3],(xe&192)===128&&(we&192)===128&&(Je&192)===128&&(ge=($&15)<<18|(xe&63)<<12|(we&63)<<6|Je&63,ge>65535&&ge<1114112&&(K=ge))}}K===null?(K=65533,_e=1):K>65535&&(K-=65536,M.push(K>>>10&1023|55296),K=56320|K&1023),M.push(K),F+=_e}return E(M)}const y=4096;function E(N){const f=N.length;if(f<=y)return String.fromCharCode.apply(String,N);let g="",M=0;for(;M<f;)g+=String.fromCharCode.apply(String,N.slice(M,M+=y));return g}function I(N,f,g){let M="";g=Math.min(N.length,g);for(let F=f;F<g;++F)M+=String.fromCharCode(N[F]&127);return M}function C(N,f,g){let M="";g=Math.min(N.length,g);for(let F=f;F<g;++F)M+=String.fromCharCode(N[F]);return M}function B(N,f,g){const M=N.length;(!f||f<0)&&(f=0),(!g||g<0||g>M)&&(g=M);let F="";for(let $=f;$<g;++$)F+=Ze[N[$]];return F}function L(N,f,g){const M=N.slice(f,g);let F="";for(let $=0;$<M.length-1;$+=2)F+=String.fromCharCode(M[$]+M[$+1]*256);return F}a.prototype.slice=function(f,g){const M=this.length;f=~~f,g=g===void 0?M:~~g,f<0?(f+=M,f<0&&(f=0)):f>M&&(f=M),g<0?(g+=M,g<0&&(g=0)):g>M&&(g=M),g<f&&(g=f);const F=this.subarray(f,g);return Object.setPrototypeOf(F,a.prototype),F};function T(N,f,g){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+f>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,g,M){f=f>>>0,g=g>>>0,M||T(f,g,this.length);let F=this[f],$=1,K=0;for(;++K<g&&($*=256);)F+=this[f+K]*$;return F},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,g,M){f=f>>>0,g=g>>>0,M||T(f,g,this.length);let F=this[f+--g],$=1;for(;g>0&&($*=256);)F+=this[f+--g]*$;return F},a.prototype.readUint8=a.prototype.readUInt8=function(f,g){return f=f>>>0,g||T(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,g){return f=f>>>0,g||T(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,g){return f=f>>>0,g||T(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,g){return f=f>>>0,g||T(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,g){return f=f>>>0,g||T(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=bn(function(f){f=f>>>0,yt(f,"offset");const g=this[f],M=this[f+7];(g===void 0||M===void 0)&&Te(f,this.length-8);const F=g+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,$=this[++f]+this[++f]*2**8+this[++f]*2**16+M*2**24;return BigInt(F)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=bn(function(f){f=f>>>0,yt(f,"offset");const g=this[f],M=this[f+7];(g===void 0||M===void 0)&&Te(f,this.length-8);const F=g*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],$=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+M;return(BigInt(F)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(f,g,M){f=f>>>0,g=g>>>0,M||T(f,g,this.length);let F=this[f],$=1,K=0;for(;++K<g&&($*=256);)F+=this[f+K]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*g)),F},a.prototype.readIntBE=function(f,g,M){f=f>>>0,g=g>>>0,M||T(f,g,this.length);let F=g,$=1,K=this[f+--F];for(;F>0&&($*=256);)K+=this[f+--F]*$;return $*=128,K>=$&&(K-=Math.pow(2,8*g)),K},a.prototype.readInt8=function(f,g){return f=f>>>0,g||T(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,g){f=f>>>0,g||T(f,2,this.length);const M=this[f]|this[f+1]<<8;return M&32768?M|4294901760:M},a.prototype.readInt16BE=function(f,g){f=f>>>0,g||T(f,2,this.length);const M=this[f+1]|this[f]<<8;return M&32768?M|4294901760:M},a.prototype.readInt32LE=function(f,g){return f=f>>>0,g||T(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,g){return f=f>>>0,g||T(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=bn(function(f){f=f>>>0,yt(f,"offset");const g=this[f],M=this[f+7];(g===void 0||M===void 0)&&Te(f,this.length-8);const F=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(M<<24);return(BigInt(F)<<BigInt(32))+BigInt(g+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=bn(function(f){f=f>>>0,yt(f,"offset");const g=this[f],M=this[f+7];(g===void 0||M===void 0)&&Te(f,this.length-8);const F=(g<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(F)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+M)}),a.prototype.readFloatLE=function(f,g){return f=f>>>0,g||T(f,4,this.length),n.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,g){return f=f>>>0,g||T(f,4,this.length),n.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,g){return f=f>>>0,g||T(f,8,this.length),n.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,g){return f=f>>>0,g||T(f,8,this.length),n.read(this,f,!1,52,8)};function p(N,f,g,M,F,$){if(!a.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>F||f<$)throw new RangeError('"value" argument is out of bounds');if(g+M>N.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,g,M,F){if(f=+f,g=g>>>0,M=M>>>0,!F){const _e=Math.pow(2,8*M)-1;p(this,f,g,M,_e,0)}let $=1,K=0;for(this[g]=f&255;++K<M&&($*=256);)this[g+K]=f/$&255;return g+M},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,g,M,F){if(f=+f,g=g>>>0,M=M>>>0,!F){const _e=Math.pow(2,8*M)-1;p(this,f,g,M,_e,0)}let $=M-1,K=1;for(this[g+$]=f&255;--$>=0&&(K*=256);)this[g+$]=f/K&255;return g+M},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,1,255,0),this[g]=f&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,2,65535,0),this[g]=f&255,this[g+1]=f>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,2,65535,0),this[g]=f>>>8,this[g+1]=f&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,4,4294967295,0),this[g+3]=f>>>24,this[g+2]=f>>>16,this[g+1]=f>>>8,this[g]=f&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,4,4294967295,0),this[g]=f>>>24,this[g+1]=f>>>16,this[g+2]=f>>>8,this[g+3]=f&255,g+4};function j(N,f,g,M,F){Ae(f,M,F,N,g,7);let $=Number(f&BigInt(4294967295));N[g++]=$,$=$>>8,N[g++]=$,$=$>>8,N[g++]=$,$=$>>8,N[g++]=$;let K=Number(f>>BigInt(32)&BigInt(4294967295));return N[g++]=K,K=K>>8,N[g++]=K,K=K>>8,N[g++]=K,K=K>>8,N[g++]=K,g}function Z(N,f,g,M,F){Ae(f,M,F,N,g,7);let $=Number(f&BigInt(4294967295));N[g+7]=$,$=$>>8,N[g+6]=$,$=$>>8,N[g+5]=$,$=$>>8,N[g+4]=$;let K=Number(f>>BigInt(32)&BigInt(4294967295));return N[g+3]=K,K=K>>8,N[g+2]=K,K=K>>8,N[g+1]=K,K=K>>8,N[g]=K,g+8}a.prototype.writeBigUInt64LE=bn(function(f,g=0){return j(this,f,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=bn(function(f,g=0){return Z(this,f,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,g,M,F){if(f=+f,g=g>>>0,!F){const xe=Math.pow(2,8*M-1);p(this,f,g,M,xe-1,-xe)}let $=0,K=1,_e=0;for(this[g]=f&255;++$<M&&(K*=256);)f<0&&_e===0&&this[g+$-1]!==0&&(_e=1),this[g+$]=(f/K>>0)-_e&255;return g+M},a.prototype.writeIntBE=function(f,g,M,F){if(f=+f,g=g>>>0,!F){const xe=Math.pow(2,8*M-1);p(this,f,g,M,xe-1,-xe)}let $=M-1,K=1,_e=0;for(this[g+$]=f&255;--$>=0&&(K*=256);)f<0&&_e===0&&this[g+$+1]!==0&&(_e=1),this[g+$]=(f/K>>0)-_e&255;return g+M},a.prototype.writeInt8=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,1,127,-128),f<0&&(f=255+f+1),this[g]=f&255,g+1},a.prototype.writeInt16LE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,2,32767,-32768),this[g]=f&255,this[g+1]=f>>>8,g+2},a.prototype.writeInt16BE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,2,32767,-32768),this[g]=f>>>8,this[g+1]=f&255,g+2},a.prototype.writeInt32LE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,4,2147483647,-2147483648),this[g]=f&255,this[g+1]=f>>>8,this[g+2]=f>>>16,this[g+3]=f>>>24,g+4},a.prototype.writeInt32BE=function(f,g,M){return f=+f,g=g>>>0,M||p(this,f,g,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[g]=f>>>24,this[g+1]=f>>>16,this[g+2]=f>>>8,this[g+3]=f&255,g+4},a.prototype.writeBigInt64LE=bn(function(f,g=0){return j(this,f,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=bn(function(f,g=0){return Z(this,f,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(N,f,g,M,F,$){if(g+M>N.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function te(N,f,g,M,F){return f=+f,g=g>>>0,F||ee(N,f,g,4),n.write(N,f,g,M,23,4),g+4}a.prototype.writeFloatLE=function(f,g,M){return te(this,f,g,!0,M)},a.prototype.writeFloatBE=function(f,g,M){return te(this,f,g,!1,M)};function ve(N,f,g,M,F){return f=+f,g=g>>>0,F||ee(N,f,g,8),n.write(N,f,g,M,52,8),g+8}a.prototype.writeDoubleLE=function(f,g,M){return ve(this,f,g,!0,M)},a.prototype.writeDoubleBE=function(f,g,M){return ve(this,f,g,!1,M)},a.prototype.copy=function(f,g,M,F){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(M||(M=0),!F&&F!==0&&(F=this.length),g>=f.length&&(g=f.length),g||(g=0),F>0&&F<M&&(F=M),F===M||f.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),f.length-g<F-M&&(F=f.length-g+M);const $=F-M;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,M,F):Uint8Array.prototype.set.call(f,this.subarray(M,F),g),$},a.prototype.fill=function(f,g,M,F){if(typeof f=="string"){if(typeof g=="string"?(F=g,g=0,M=this.length):typeof M=="string"&&(F=M,M=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(f.length===1){const K=f.charCodeAt(0);(F==="utf8"&&K<128||F==="latin1")&&(f=K)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(g<0||this.length<g||this.length<M)throw new RangeError("Out of range index");if(M<=g)return this;g=g>>>0,M=M===void 0?this.length:M>>>0,f||(f=0);let $;if(typeof f=="number")for($=g;$<M;++$)this[$]=f;else{const K=a.isBuffer(f)?f:a.from(f,F),_e=K.length;if(_e===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for($=0;$<M-g;++$)this[$+g]=K[$%_e]}return this};const pe={};function ye(N,f,g){pe[N]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(N,f){return`The "${N}" argument must be of type number. Received type ${typeof f}`},TypeError),ye("ERR_OUT_OF_RANGE",function(N,f,g){let M=`The value of "${N}" is out of range.`,F=g;return Number.isInteger(g)&&Math.abs(g)>2**32?F=ht(String(g)):typeof g=="bigint"&&(F=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(F=ht(F)),F+="n"),M+=` It must be ${f}. Received ${F}`,M},RangeError);function ht(N){let f="",g=N.length;const M=N[0]==="-"?1:0;for(;g>=M+4;g-=3)f=`_${N.slice(g-3,g)}${f}`;return`${N.slice(0,g)}${f}`}function Ce(N,f,g){yt(f,"offset"),(N[f]===void 0||N[f+g]===void 0)&&Te(f,N.length-(g+1))}function Ae(N,f,g,M,F,$){if(N>g||N<f){const K=typeof f=="bigint"?"n":"";let _e;throw f===0||f===BigInt(0)?_e=`>= 0${K} and < 2${K} ** ${($+1)*8}${K}`:_e=`>= -(2${K} ** ${($+1)*8-1}${K}) and < 2 ** ${($+1)*8-1}${K}`,new pe.ERR_OUT_OF_RANGE("value",_e,N)}Ce(M,F,$)}function yt(N,f){if(typeof N!="number")throw new pe.ERR_INVALID_ARG_TYPE(f,"number",N)}function Te(N,f,g){throw Math.floor(N)!==N?(yt(N,g),new pe.ERR_OUT_OF_RANGE("offset","an integer",N)):f<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,N)}const Pe=/[^+/0-9A-Za-z-_]/g;function Ss(N){if(N=N.split("=")[0],N=N.trim().replace(Pe,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function He(N,f){f=f||1/0;let g;const M=N.length;let F=null;const $=[];for(let K=0;K<M;++K){if(g=N.charCodeAt(K),g>55295&&g<57344){if(!F){if(g>56319){(f-=3)>-1&&$.push(239,191,189);continue}else if(K+1===M){(f-=3)>-1&&$.push(239,191,189);continue}F=g;continue}if(g<56320){(f-=3)>-1&&$.push(239,191,189),F=g;continue}g=(F-55296<<10|g-56320)+65536}else F&&(f-=3)>-1&&$.push(239,191,189);if(F=null,g<128){if((f-=1)<0)break;$.push(g)}else if(g<2048){if((f-=2)<0)break;$.push(g>>6|192,g&63|128)}else if(g<65536){if((f-=3)<0)break;$.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((f-=4)<0)break;$.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return $}function tt(N){const f=[];for(let g=0;g<N.length;++g)f.push(N.charCodeAt(g)&255);return f}function Es(N,f){let g,M,F;const $=[];for(let K=0;K<N.length&&!((f-=2)<0);++K)g=N.charCodeAt(K),M=g>>8,F=g%256,$.push(F),$.push(M);return $}function qe(N){return e.toByteArray(Ss(N))}function $e(N,f,g,M){let F;for(F=0;F<M&&!(F+g>=f.length||F>=N.length);++F)f[F+g]=N[F];return F}function Gt(N,f){return N instanceof f||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===f.name}function We(N){return N!==N}const Ze=function(){const N="0123456789abcdef",f=new Array(256);for(let g=0;g<16;++g){const M=g*16;for(let F=0;F<16;++F)f[M+F]=N[g]+N[F]}return f}();function bn(N){return typeof BigInt>"u"?Ye:N}function Ye(){throw new Error("BigInt not supported")}})(be);function cm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function EE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wu(t,...e){if(!EE(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cm(t.outputLen),cm(t.blockLen)}function jc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function AE(t,e){wu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Cs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ud=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),yr=(t,e)=>t<<32-e|t>>>e;function CE(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function K0(t){return typeof t=="string"&&(t=CE(t)),wu(t),t}function IE(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];wu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class iv{clone(){return this._cloneInto()}}function sv(t){const e=r=>t().update(K0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ov(t=32){if(Cs&&typeof Cs.getRandomValues=="function")return Cs.getRandomValues(new Uint8Array(t));if(Cs&&typeof Cs.randomBytes=="function")return Cs.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function NE(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const TE=(t,e,n)=>t&e^~t&n,RE=(t,e,n)=>t&e^t&n^e&n;class av extends iv{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ud(this.buffer)}update(e){jc(this);const{view:n,buffer:r,blockLen:i}=this;e=K0(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Ud(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jc(this),AE(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;NE(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Ud(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const El=BigInt(2**32-1),wf=BigInt(32);function lv(t,e=!1){return e?{h:Number(t&El),l:Number(t>>wf&El)}:{h:Number(t>>wf&El)|0,l:Number(t&El)|0}}function BE(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=lv(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const ME=(t,e)=>BigInt(t>>>0)<<wf|BigInt(e>>>0),jE=(t,e,n)=>t>>>n,PE=(t,e,n)=>t<<32-n|e>>>n,LE=(t,e,n)=>t>>>n|e<<32-n,OE=(t,e,n)=>t<<32-n|e>>>n,UE=(t,e,n)=>t<<64-n|e>>>n-32,DE=(t,e,n)=>t>>>n-32|e<<64-n,FE=(t,e)=>e,zE=(t,e)=>t,$E=(t,e,n)=>t<<n|e>>>32-n,WE=(t,e,n)=>e<<n|t>>>32-n,HE=(t,e,n)=>e<<n-32|t>>>64-n,qE=(t,e,n)=>t<<n-32|e>>>64-n;function KE(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const VE=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),GE=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ZE=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),YE=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,JE=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),QE=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Se={fromBig:lv,split:BE,toBig:ME,shrSH:jE,shrSL:PE,rotrSH:LE,rotrSL:OE,rotrBH:UE,rotrBL:DE,rotr32H:FE,rotr32L:zE,rotlSH:$E,rotlSL:WE,rotlBH:HE,rotlBL:qE,add:KE,add3L:VE,add3H:GE,add4L:ZE,add4H:YE,add5H:QE,add5L:JE},[XE,ek]=Se.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Jr=new Uint32Array(80),Qr=new Uint32Array(80);class tk extends av{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:m,Gh:w,Gl:k,Hh:A,Hl:b}=this;return[e,n,r,i,s,o,a,l,c,u,h,m,w,k,A,b]}set(e,n,r,i,s,o,a,l,c,u,h,m,w,k,A,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=m|0,this.Gh=w|0,this.Gl=k|0,this.Hh=A|0,this.Hl=b|0}process(e,n){for(let v=0;v<16;v++,n+=4)Jr[v]=e.getUint32(n),Qr[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const R=Jr[v-15]|0,O=Qr[v-15]|0,U=Se.rotrSH(R,O,1)^Se.rotrSH(R,O,8)^Se.shrSH(R,O,7),D=Se.rotrSL(R,O,1)^Se.rotrSL(R,O,8)^Se.shrSL(R,O,7),H=Jr[v-2]|0,V=Qr[v-2]|0,Q=Se.rotrSH(H,V,19)^Se.rotrBH(H,V,61)^Se.shrSH(H,V,6),ne=Se.rotrSL(H,V,19)^Se.rotrBL(H,V,61)^Se.shrSL(H,V,6),oe=Se.add4L(D,ne,Qr[v-7],Qr[v-16]),P=Se.add4H(oe,U,Q,Jr[v-7],Jr[v-16]);Jr[v]=P|0,Qr[v]=oe|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:m,Fh:w,Fl:k,Gh:A,Gl:b,Hh:_,Hl:S}=this;for(let v=0;v<80;v++){const R=Se.rotrSH(h,m,14)^Se.rotrSH(h,m,18)^Se.rotrBH(h,m,41),O=Se.rotrSL(h,m,14)^Se.rotrSL(h,m,18)^Se.rotrBL(h,m,41),U=h&w^~h&A,D=m&k^~m&b,H=Se.add5L(S,O,D,ek[v],Qr[v]),V=Se.add5H(H,_,R,U,XE[v],Jr[v]),Q=H|0,ne=Se.rotrSH(r,i,28)^Se.rotrBH(r,i,34)^Se.rotrBH(r,i,39),oe=Se.rotrSL(r,i,28)^Se.rotrBL(r,i,34)^Se.rotrBL(r,i,39),P=r&s^r&a^s&a,d=i&o^i&l^o&l;_=A|0,S=b|0,A=w|0,b=k|0,w=h|0,k=m|0,{h,l:m}=Se.add(c|0,u|0,V|0,Q|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const y=Se.add3L(Q,oe,d);r=Se.add3H(y,V,ne,P),i=y|0}({h:r,l:i}=Se.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Se.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Se.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Se.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:m}=Se.add(this.Eh|0,this.El|0,h|0,m|0),{h:w,l:k}=Se.add(this.Fh|0,this.Fl|0,w|0,k|0),{h:A,l:b}=Se.add(this.Gh|0,this.Gl|0,A|0,b|0),{h:_,l:S}=Se.add(this.Hh|0,this.Hl|0,_|0,S|0),this.set(r,i,s,o,a,l,c,u,h,m,w,k,A,b,_,S)}roundClean(){Jr.fill(0),Qr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nk=sv(()=>new tk);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vu=BigInt(0),xu=BigInt(1),rk=BigInt(2);function ds(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qa(t){if(!ds(t))throw new Error("Uint8Array expected")}function zr(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const ik=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hs(t){Qa(t);let e="";for(let n=0;n<t.length;n++)e+=ik[t[n]];return e}function qs(t){const e=t.toString(16);return e.length&1?"0"+e:e}function V0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vu:BigInt("0x"+t)}const Nr={_0:48,_9:57,A:65,F:70,a:97,f:102};function um(t){if(t>=Nr._0&&t<=Nr._9)return t-Nr._0;if(t>=Nr.A&&t<=Nr.F)return t-(Nr.A-10);if(t>=Nr.a&&t<=Nr.f)return t-(Nr.a-10)}function fo(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=um(t.charCodeAt(s)),a=um(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function ns(t){return V0(hs(t))}function to(t){return Qa(t),V0(hs(Uint8Array.from(t).reverse()))}function po(t,e){return fo(t.toString(16).padStart(e*2,"0"))}function Ua(t,e){return po(t,e).reverse()}function sk(t){return fo(qs(t))}function Lt(t,e,n){let r;if(typeof e=="string")try{r=fo(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ds(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function fs(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Qa(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function ok(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function ak(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Dd=t=>typeof t=="bigint"&&vu<=t;function bu(t,e,n){return Dd(t)&&Dd(e)&&Dd(n)&&e<=t&&t<n}function Jn(t,e,n,r){if(!bu(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function cv(t){let e;for(e=0;t>vu;t>>=xu,e+=1);return e}function lk(t,e){return t>>BigInt(e)&xu}function ck(t,e,n){return t|(n?xu:vu)<<BigInt(e)}const G0=t=>(rk<<BigInt(t-1))-xu,Fd=t=>new Uint8Array(t),dm=t=>Uint8Array.from(t);function uv(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Fd(t),i=Fd(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=Fd())=>{i=a(dm([0]),h),r=a(),h.length!==0&&(i=a(dm([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=a();const w=r.slice();m.push(w),h+=r.length}return fs(...m)};return(h,m)=>{o(),l(h);let w;for(;!(w=m(c()));)l();return o(),w}}const uk={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ds(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function No(t,e,n={}){const r=(i,s,o)=>{const a=uk[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const dk=()=>{throw new Error("not implemented")};function Da(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const hk=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Jn,abool:zr,abytes:Qa,bitGet:lk,bitLen:cv,bitMask:G0,bitSet:ck,bytesToHex:hs,bytesToNumberBE:ns,bytesToNumberLE:to,concatBytes:fs,createHmacDrbg:uv,ensureBytes:Lt,equalBytes:ok,hexToBytes:fo,hexToNumber:V0,inRange:bu,isBytes:ds,memoized:Da,notImplemented:dk,numberToBytesBE:po,numberToBytesLE:Ua,numberToHexUnpadded:qs,numberToVarBytesBE:sk,utf8ToBytes:ak,validateObject:No},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kt=BigInt(0),at=BigInt(1),$i=BigInt(2),fk=BigInt(3),vf=BigInt(4),hm=BigInt(5),fm=BigInt(8);function rt(t,e){const n=t%e;return n>=Kt?n:e+n}function pk(t,e,n){if(e<Kt)throw new Error("invalid exponent, negatives unsupported");if(n<=Kt)throw new Error("invalid modulus");if(n===at)return Kt;let r=at;for(;e>Kt;)e&at&&(r=r*t%n),t=t*t%n,e>>=at;return r}function ft(t,e,n){let r=t;for(;e-- >Kt;)r*=r,r%=n;return r}function xf(t,e){if(t===Kt)throw new Error("invert: expected non-zero number");if(e<=Kt)throw new Error("invert: expected positive modulus, got "+e);let n=rt(t,e),r=e,i=Kt,s=at;for(;n!==Kt;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==at)throw new Error("invert: does not exist");return rt(i,e)}function gk(t){const e=(t-at)/$i;let n,r,i;for(n=t-at,r=0;n%$i===Kt;n/=$i,r++);for(i=$i;i<t&&pk(i,e,t)!==t-at;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+at)/vf;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+at)/$i;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),m=a.pow(l,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let w=1;for(let A=a.sqr(m);w<c&&!a.eql(A,a.ONE);w++)A=a.sqr(A);const k=a.pow(u,at<<BigInt(c-w-1));u=a.sqr(k),h=a.mul(h,k),m=a.mul(m,u),c=w}return h}}function mk(t){if(t%vf===fk){const e=(t+at)/vf;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%fm===hm){const e=(t-hm)/fm;return function(r,i){const s=r.mul(i,$i),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,$i),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return gk(t)}const yk=(t,e)=>(rt(t,e)&at)===at,wk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vk(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=wk.reduce((r,i)=>(r[i]="function",r),e);return No(t,n)}function xk(t,e,n){if(n<Kt)throw new Error("invalid exponent, negatives unsupported");if(n===Kt)return t.ONE;if(n===at)return e;let r=t.ONE,i=e;for(;n>Kt;)n&at&&(r=t.mul(r,i)),i=t.sqr(i),n>>=at;return r}function bk(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function dv(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _u(t,e,n=!1,r={}){if(t<=Kt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=dv(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:G0(i),ZERO:Kt,ONE:at,create:l=>rt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Kt<=l&&l<t},is0:l=>l===Kt,isOdd:l=>(l&at)===at,neg:l=>rt(-l,t),eql:(l,c)=>l===c,sqr:l=>rt(l*l,t),add:(l,c)=>rt(l+c,t),sub:(l,c)=>rt(l-c,t),mul:(l,c)=>rt(l*c,t),pow:(l,c)=>xk(a,l,c),div:(l,c)=>rt(l*xf(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>xf(l,t),sqrt:r.sqrt||(l=>(o||(o=mk(t)),o(a,l))),invertBatch:l=>bk(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Ua(l,s):po(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?to(l):ns(l)}});return Object.freeze(a)}function hv(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fv(t){const e=hv(t);return e+Math.ceil(e/2)}function _k(t,e,n=!1){const r=t.length,i=hv(e),s=fv(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?ns(t):to(t),a=rt(o,e-at)+at;return n?Ua(a,i):po(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pm=BigInt(0),kl=BigInt(1);function zd(t,e){const n=e.negate();return t?n:e}function pv(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $d(t,e){pv(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Sk(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Ek(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Wd=new WeakMap,gv=new WeakMap;function Hd(t){return gv.get(t)||1}function mv(t,e){return{constTimeNegate:zd,hasPrecomputes(n){return Hd(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>pm;)r&kl&&(i=i.add(s)),s=s.double(),r>>=kl;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=$d(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=$d(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let m=0;m<s;m++){const w=m*o;let k=Number(i&c);i>>=h,k>o&&(k-=u,i+=kl);const A=w,b=w+Math.abs(k)-1,_=m%2!==0,S=k<0;k===0?l=l.add(zd(_,r[A])):a=a.add(zd(S,r[b]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=$d(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const m=h*a;if(i===pm)break;let w=Number(i&l);if(i>>=u,w>a&&(w-=c,i+=kl),w===0)continue;let k=r[m+Math.abs(w)-1];w<0&&(k=k.negate()),s=s.add(k)}return s},getPrecomputes(n,r,i){let s=Wd.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Wd.set(r,i(s))),s},wNAFCached(n,r,i){const s=Hd(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Hd(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){pv(r,e),gv.set(n,r),Wd.delete(n)}}}function yv(t,e,n,r){if(Sk(n,t),Ek(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=cv(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let w=0;w<r.length;w++){const k=r[w],A=Number(k>>BigInt(h)&BigInt(a));l[A]=l[A].add(n[w])}let m=i;for(let w=l.length-1,k=i;w>0;w--)k=k.add(l[w]),m=m.add(k);if(u=u.add(m),h!==0)for(let w=0;w<o;w++)u=u.double()}return u}function Z0(t){return vk(t.Fp),No(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dv(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ir=BigInt(0),_n=BigInt(1),Al=BigInt(2),kk=BigInt(8),Ak={zip215:!0};function Ck(t){const e=Z0(t);return No(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ik(t){const e=Ck(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=Al<<BigInt(a*8)-_n,u=n.create,h=_u(e.n,e.nBitLength),m=e.uvRatio||((E,I)=>{try{return{isValid:!0,value:n.sqrt(E*n.inv(I))}}catch{return{isValid:!1,value:ir}}}),w=e.adjustScalarBytes||(E=>E),k=e.domain||((E,I,C)=>{if(zr("phflag",C),I.length||C)throw new Error("Contexts/pre-hash are not supported");return E});function A(E,I){Jn("coordinate "+E,I,ir,c)}function b(E){if(!(E instanceof v))throw new Error("ExtendedPoint expected")}const _=Da((E,I)=>{const{ex:C,ey:B,ez:L}=E,T=E.is0();I==null&&(I=T?kk:n.inv(L));const p=u(C*I),j=u(B*I),Z=u(L*I);if(T)return{x:ir,y:_n};if(Z!==_n)throw new Error("invZ was invalid");return{x:p,y:j}}),S=Da(E=>{const{a:I,d:C}=e;if(E.is0())throw new Error("bad point: ZERO");const{ex:B,ey:L,ez:T,et:p}=E,j=u(B*B),Z=u(L*L),ee=u(T*T),te=u(ee*ee),ve=u(j*I),pe=u(ee*u(ve+Z)),ye=u(te+u(C*u(j*Z)));if(pe!==ye)throw new Error("bad point: equation left != right (1)");const ht=u(B*L),Ce=u(T*p);if(ht!==Ce)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(I,C,B,L){this.ex=I,this.ey=C,this.ez=B,this.et=L,A("x",I),A("y",C),A("z",B),A("t",L),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof v)throw new Error("extended point not allowed");const{x:C,y:B}=I||{};return A("x",C),A("y",B),new v(C,B,_n,u(C*B))}static normalizeZ(I){const C=n.invertBatch(I.map(B=>B.ez));return I.map((B,L)=>B.toAffine(C[L])).map(v.fromAffine)}static msm(I,C){return yv(v,h,I,C)}_setWindowSize(I){U.setWindowSize(this,I)}assertValidity(){S(this)}equals(I){b(I);const{ex:C,ey:B,ez:L}=this,{ex:T,ey:p,ez:j}=I,Z=u(C*j),ee=u(T*L),te=u(B*j),ve=u(p*L);return Z===ee&&te===ve}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:I}=e,{ex:C,ey:B,ez:L}=this,T=u(C*C),p=u(B*B),j=u(Al*u(L*L)),Z=u(I*T),ee=C+B,te=u(u(ee*ee)-T-p),ve=Z+p,pe=ve-j,ye=Z-p,ht=u(te*pe),Ce=u(ve*ye),Ae=u(te*ye),yt=u(pe*ve);return new v(ht,Ce,yt,Ae)}add(I){b(I);const{a:C,d:B}=e,{ex:L,ey:T,ez:p,et:j}=this,{ex:Z,ey:ee,ez:te,et:ve}=I;if(C===BigInt(-1)){const qe=u((T-L)*(ee+Z)),$e=u((T+L)*(ee-Z)),Gt=u($e-qe);if(Gt===ir)return this.double();const We=u(p*Al*ve),Ze=u(j*Al*te),bn=Ze+We,Ye=$e+qe,N=Ze-We,f=u(bn*Gt),g=u(Ye*N),M=u(bn*N),F=u(Gt*Ye);return new v(f,g,F,M)}const pe=u(L*Z),ye=u(T*ee),ht=u(j*B*ve),Ce=u(p*te),Ae=u((L+T)*(Z+ee)-pe-ye),yt=Ce-ht,Te=Ce+ht,Pe=u(ye-C*pe),Ss=u(Ae*yt),He=u(Te*Pe),tt=u(Ae*Pe),Es=u(yt*Te);return new v(Ss,He,Es,tt)}subtract(I){return this.add(I.negate())}wNAF(I){return U.wNAFCached(this,I,v.normalizeZ)}multiply(I){const C=I;Jn("scalar",C,_n,r);const{p:B,f:L}=this.wNAF(C);return v.normalizeZ([B,L])[0]}multiplyUnsafe(I,C=v.ZERO){const B=I;return Jn("scalar",B,ir,r),B===ir?O:this.is0()||B===_n?this:U.wNAFCachedUnsafe(this,B,v.normalizeZ,C)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return U.unsafeLadder(this,r).is0()}toAffine(I){return _(this,I)}clearCofactor(){const{h:I}=e;return I===_n?this:this.multiplyUnsafe(I)}static fromHex(I,C=!1){const{d:B,a:L}=e,T=n.BYTES;I=Lt("pointHex",I,T),zr("zip215",C);const p=I.slice(),j=I[T-1];p[T-1]=j&-129;const Z=to(p),ee=C?c:n.ORDER;Jn("pointHex.y",Z,ir,ee);const te=u(Z*Z),ve=u(te-_n),pe=u(B*te-L);let{isValid:ye,value:ht}=m(ve,pe);if(!ye)throw new Error("Point.fromHex: invalid y coordinate");const Ce=(ht&_n)===_n,Ae=(j&128)!==0;if(!C&&ht===ir&&Ae)throw new Error("Point.fromHex: x=0 and x_0=1");return Ae!==Ce&&(ht=u(-ht)),v.fromAffine({x:ht,y:Z})}static fromPrivateKey(I){return V(I).point}toRawBytes(){const{x:I,y:C}=this.toAffine(),B=Ua(C,n.BYTES);return B[B.length-1]|=I&_n?128:0,B}toHex(){return hs(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,_n,u(e.Gx*e.Gy)),v.ZERO=new v(ir,_n,_n,ir);const{BASE:R,ZERO:O}=v,U=mv(v,a*8);function D(E){return rt(E,r)}function H(E){return D(to(E))}function V(E){const I=n.BYTES;E=Lt("private key",E,I);const C=Lt("hashed private key",s(E),2*I),B=w(C.slice(0,I)),L=C.slice(I,2*I),T=H(B),p=R.multiply(T),j=p.toRawBytes();return{head:B,prefix:L,scalar:T,point:p,pointBytes:j}}function Q(E){return V(E).pointBytes}function ne(E=new Uint8Array,...I){const C=fs(...I);return H(s(k(C,Lt("context",E),!!i)))}function oe(E,I,C={}){E=Lt("message",E),i&&(E=i(E));const{prefix:B,scalar:L,pointBytes:T}=V(I),p=ne(C.context,B,E),j=R.multiply(p).toRawBytes(),Z=ne(C.context,j,T,E),ee=D(p+Z*L);Jn("signature.s",ee,ir,r);const te=fs(j,Ua(ee,n.BYTES));return Lt("result",te,n.BYTES*2)}const P=Ak;function d(E,I,C,B=P){const{context:L,zip215:T}=B,p=n.BYTES;E=Lt("signature",E,2*p),I=Lt("message",I),C=Lt("publicKey",C,p),T!==void 0&&zr("zip215",T),i&&(I=i(I));const j=to(E.slice(p,2*p));let Z,ee,te;try{Z=v.fromHex(C,T),ee=v.fromHex(E.slice(0,p),T),te=R.multiplyUnsafe(j)}catch{return!1}if(!T&&Z.isSmallOrder())return!1;const ve=ne(L,ee.toRawBytes(),Z.toRawBytes(),I);return ee.add(Z.multiplyUnsafe(ve)).subtract(te).clearCofactor().equals(v.ZERO)}return R._setWindowSize(8),{CURVE:e,getPublicKey:Q,sign:oe,verify:d,ExtendedPoint:v,utils:{getExtendedPublicKey:V,randomPrivateKey:()=>o(n.BYTES),precompute(E=8,I=v.BASE){return I._setWindowSize(E),I.multiply(BigInt(3)),I}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),gm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Nk=BigInt(1),mm=BigInt(2);BigInt(3);const Tk=BigInt(5),Rk=BigInt(8);function Bk(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Y0,a=t*t%s*t%s,l=ft(a,mm,s)*a%s,c=ft(l,Nk,s)*t%s,u=ft(c,Tk,s)*c%s,h=ft(u,e,s)*u%s,m=ft(h,n,s)*h%s,w=ft(m,r,s)*m%s,k=ft(w,i,s)*w%s,A=ft(k,i,s)*w%s,b=ft(A,e,s)*u%s;return{pow_p_5_8:ft(b,mm,s)*t%s,b2:a}}function Mk(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function jk(t,e){const n=Y0,r=rt(e*e*e,n),i=rt(r*r*e,n),s=Bk(t*i).pow_p_5_8;let o=rt(t*r*s,n);const a=rt(e*o*o,n),l=o,c=rt(o*gm,n),u=a===t,h=a===rt(-t,n),m=a===rt(-t*gm,n);return u&&(o=l),(h||m)&&(o=c),yk(o,n)&&(o=rt(-o,n)),{isValid:u||h,value:o}}const Pk=_u(Y0,void 0,!0),Lk={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pk,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Rk,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:nk,randomBytes:ov,adjustScalarBytes:Mk,uvRatio:jk},J0=Ik(Lk);var Q0={exports:{}};const Ok={},Uk=Object.freeze(Object.defineProperty({__proto__:null,default:Ok},Symbol.toStringTag,{value:"Module"})),Dk=Yc(Uk);Q0.exports;(function(t){(function(e,n){function r(P,d){if(!P)throw new Error(d||"Assertion failed")}function i(P,d){P.super_=d;var y=function(){};y.prototype=d.prototype,P.prototype=new y,P.prototype.constructor=P}function s(P,d,y){if(s.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((d==="le"||d==="be")&&(y=d,d=10),this._init(P||0,d||10,y||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Dk.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,y){return d.cmp(y)>0?d:y},s.min=function(d,y){return d.cmp(y)<0?d:y},s.prototype._init=function(d,y,E){if(typeof d=="number")return this._initNumber(d,y,E);if(typeof d=="object")return this._initArray(d,y,E);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var I=0;d[0]==="-"&&(I++,this.negative=1),I<d.length&&(y===16?this._parseHex(d,I,E):(this._parseBase(d,y,I),E==="le"&&this._initArray(this.toArray(),y,E)))},s.prototype._initNumber=function(d,y,E){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),y,E)},s.prototype._initArray=function(d,y,E){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C,B,L=0;if(E==="be")for(I=d.length-1,C=0;I>=0;I-=3)B=d[I]|d[I-1]<<8|d[I-2]<<16,this.words[C]|=B<<L&67108863,this.words[C+1]=B>>>26-L&67108863,L+=24,L>=26&&(L-=26,C++);else if(E==="le")for(I=0,C=0;I<d.length;I+=3)B=d[I]|d[I+1]<<8|d[I+2]<<16,this.words[C]|=B<<L&67108863,this.words[C+1]=B>>>26-L&67108863,L+=24,L>=26&&(L-=26,C++);return this._strip()};function a(P,d){var y=P.charCodeAt(d);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+P)}function l(P,d,y){var E=a(P,y);return y-1>=d&&(E|=a(P,y-1)<<4),E}s.prototype._parseHex=function(d,y,E){this.length=Math.ceil((d.length-y)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C=0,B=0,L;if(E==="be")for(I=d.length-1;I>=y;I-=2)L=l(d,y,I)<<C,this.words[B]|=L&67108863,C>=18?(C-=18,B+=1,this.words[B]|=L>>>26):C+=8;else{var T=d.length-y;for(I=T%2===0?y+1:y;I<d.length;I+=2)L=l(d,y,I)<<C,this.words[B]|=L&67108863,C>=18?(C-=18,B+=1,this.words[B]|=L>>>26):C+=8}this._strip()};function c(P,d,y,E){for(var I=0,C=0,B=Math.min(P.length,y),L=d;L<B;L++){var T=P.charCodeAt(L)-48;I*=E,T>=49?C=T-49+10:T>=17?C=T-17+10:C=T,r(T>=0&&C<E,"Invalid character"),I+=C}return I}s.prototype._parseBase=function(d,y,E){this.words=[0],this.length=1;for(var I=0,C=1;C<=67108863;C*=y)I++;I--,C=C/y|0;for(var B=d.length-E,L=B%I,T=Math.min(B,B-L)+E,p=0,j=E;j<T;j+=I)p=c(d,j,j+I,y),this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(L!==0){var Z=1;for(p=c(d,j,d.length,y),j=0;j<L;j++)Z*=y;this.imuln(Z),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red};function u(P,d){P.words=d.words,P.length=d.length,P.negative=d.negative,P.red=d.red}if(s.prototype._move=function(d){u(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,y){d=d||10,y=y|0||1;var E;if(d===16||d==="hex"){E="";for(var I=0,C=0,B=0;B<this.length;B++){var L=this.words[B],T=((L<<I|C)&16777215).toString(16);C=L>>>24-I&16777215,I+=2,I>=26&&(I-=26,B--),C!==0||B!==this.length-1?E=m[6-T.length]+T+E:E=T+E}for(C!==0&&(E=C.toString(16)+E);E.length%y!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(d===(d|0)&&d>=2&&d<=36){var p=w[d],j=k[d];E="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var ee=Z.modrn(j).toString(d);Z=Z.idivn(j),Z.isZero()?E=ee+E:E=m[p-ee.length]+ee+E}for(this.isZero()&&(E="0"+E);E.length%y!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,y){return this.toArrayLike(o,d,y)}),s.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)};var A=function(d,y){return d.allocUnsafe?d.allocUnsafe(y):new d(y)};s.prototype.toArrayLike=function(d,y,E){this._strip();var I=this.byteLength(),C=E||Math.max(1,I);r(I<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var B=A(d,C),L=y==="le"?"LE":"BE";return this["_toArrayLike"+L](B,I),B},s.prototype._toArrayLikeLE=function(d,y){for(var E=0,I=0,C=0,B=0;C<this.length;C++){var L=this.words[C]<<B|I;d[E++]=L&255,E<d.length&&(d[E++]=L>>8&255),E<d.length&&(d[E++]=L>>16&255),B===6?(E<d.length&&(d[E++]=L>>24&255),I=0,B=0):(I=L>>>24,B+=2)}if(E<d.length)for(d[E++]=I;E<d.length;)d[E++]=0},s.prototype._toArrayLikeBE=function(d,y){for(var E=d.length-1,I=0,C=0,B=0;C<this.length;C++){var L=this.words[C]<<B|I;d[E--]=L&255,E>=0&&(d[E--]=L>>8&255),E>=0&&(d[E--]=L>>16&255),B===6?(E>=0&&(d[E--]=L>>24&255),I=0,B=0):(I=L>>>24,B+=2)}if(E>=0)for(d[E--]=I;E>=0;)d[E--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var y=d,E=0;return y>=4096&&(E+=13,y>>>=13),y>=64&&(E+=7,y>>>=7),y>=8&&(E+=4,y>>>=4),y>=2&&(E+=2,y>>>=2),E+y},s.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,E=0;return y&8191||(E+=13,y>>>=13),y&127||(E+=7,y>>>=7),y&15||(E+=4,y>>>=4),y&3||(E+=2,y>>>=2),y&1||E++,E},s.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function b(P){for(var d=new Array(P.bitLength()),y=0;y<d.length;y++){var E=y/26|0,I=y%26;d[y]=P.words[E]>>>I&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var E=this._zeroBits(this.words[y]);if(d+=E,E!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this._strip()},s.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var E=0;E<y.length;E++)this.words[E]=this.words[E]&d.words[E];return this.length=y.length,this._strip()},s.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var y,E;this.length>d.length?(y=this,E=d):(y=d,E=this);for(var I=0;I<E.length;I++)this.words[I]=y.words[I]^E.words[I];if(this!==y)for(;I<y.length;I++)this.words[I]=y.words[I];return this.length=y.length,this._strip()},s.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,E=d%26;this._expand(y),E>0&&y--;for(var I=0;I<y;I++)this.words[I]=~this.words[I]&67108863;return E>0&&(this.words[I]=~this.words[I]&67108863>>26-E),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,y){r(typeof d=="number"&&d>=0);var E=d/26|0,I=d%26;return this._expand(E+1),y?this.words[E]=this.words[E]|1<<I:this.words[E]=this.words[E]&~(1<<I),this._strip()},s.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var E,I;this.length>d.length?(E=this,I=d):(E=d,I=this);for(var C=0,B=0;B<I.length;B++)y=(E.words[B]|0)+(I.words[B]|0)+C,this.words[B]=y&67108863,C=y>>>26;for(;C!==0&&B<E.length;B++)y=(E.words[B]|0)+C,this.words[B]=y&67108863,C=y>>>26;if(this.length=E.length,C!==0)this.words[this.length]=C,this.length++;else if(E!==this)for(;B<E.length;B++)this.words[B]=E.words[B];return this},s.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var E=this.cmp(d);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,C;E>0?(I=this,C=d):(I=d,C=this);for(var B=0,L=0;L<C.length;L++)y=(I.words[L]|0)-(C.words[L]|0)+B,B=y>>26,this.words[L]=y&67108863;for(;B!==0&&L<I.length;L++)y=(I.words[L]|0)+B,B=y>>26,this.words[L]=y&67108863;if(B===0&&L<I.length&&I!==this)for(;L<I.length;L++)this.words[L]=I.words[L];return this.length=Math.max(this.length,L),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function _(P,d,y){y.negative=d.negative^P.negative;var E=P.length+d.length|0;y.length=E,E=E-1|0;var I=P.words[0]|0,C=d.words[0]|0,B=I*C,L=B&67108863,T=B/67108864|0;y.words[0]=L;for(var p=1;p<E;p++){for(var j=T>>>26,Z=T&67108863,ee=Math.min(p,d.length-1),te=Math.max(0,p-P.length+1);te<=ee;te++){var ve=p-te|0;I=P.words[ve]|0,C=d.words[te]|0,B=I*C+Z,j+=B/67108864|0,Z=B&67108863}y.words[p]=Z|0,T=j|0}return T!==0?y.words[p]=T|0:y.length--,y._strip()}var S=function(d,y,E){var I=d.words,C=y.words,B=E.words,L=0,T,p,j,Z=I[0]|0,ee=Z&8191,te=Z>>>13,ve=I[1]|0,pe=ve&8191,ye=ve>>>13,ht=I[2]|0,Ce=ht&8191,Ae=ht>>>13,yt=I[3]|0,Te=yt&8191,Pe=yt>>>13,Ss=I[4]|0,He=Ss&8191,tt=Ss>>>13,Es=I[5]|0,qe=Es&8191,$e=Es>>>13,Gt=I[6]|0,We=Gt&8191,Ze=Gt>>>13,bn=I[7]|0,Ye=bn&8191,N=bn>>>13,f=I[8]|0,g=f&8191,M=f>>>13,F=I[9]|0,$=F&8191,K=F>>>13,_e=C[0]|0,xe=_e&8191,we=_e>>>13,Je=C[1]|0,ge=Je&8191,wt=Je>>>13,Pp=C[2]|0,vt=Pp&8191,xt=Pp>>>13,Lp=C[3]|0,bt=Lp&8191,_t=Lp>>>13,Op=C[4]|0,St=Op&8191,Et=Op>>>13,Up=C[5]|0,kt=Up&8191,At=Up>>>13,Dp=C[6]|0,Ct=Dp&8191,It=Dp>>>13,Fp=C[7]|0,Nt=Fp&8191,Tt=Fp>>>13,zp=C[8]|0,Rt=zp&8191,Bt=zp>>>13,$p=C[9]|0,Mt=$p&8191,jt=$p>>>13;E.negative=d.negative^y.negative,E.length=19,T=Math.imul(ee,xe),p=Math.imul(ee,we),p=p+Math.imul(te,xe)|0,j=Math.imul(te,we);var qu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(qu>>>26)|0,qu&=67108863,T=Math.imul(pe,xe),p=Math.imul(pe,we),p=p+Math.imul(ye,xe)|0,j=Math.imul(ye,we),T=T+Math.imul(ee,ge)|0,p=p+Math.imul(ee,wt)|0,p=p+Math.imul(te,ge)|0,j=j+Math.imul(te,wt)|0;var Ku=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,T=Math.imul(Ce,xe),p=Math.imul(Ce,we),p=p+Math.imul(Ae,xe)|0,j=Math.imul(Ae,we),T=T+Math.imul(pe,ge)|0,p=p+Math.imul(pe,wt)|0,p=p+Math.imul(ye,ge)|0,j=j+Math.imul(ye,wt)|0,T=T+Math.imul(ee,vt)|0,p=p+Math.imul(ee,xt)|0,p=p+Math.imul(te,vt)|0,j=j+Math.imul(te,xt)|0;var Vu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,T=Math.imul(Te,xe),p=Math.imul(Te,we),p=p+Math.imul(Pe,xe)|0,j=Math.imul(Pe,we),T=T+Math.imul(Ce,ge)|0,p=p+Math.imul(Ce,wt)|0,p=p+Math.imul(Ae,ge)|0,j=j+Math.imul(Ae,wt)|0,T=T+Math.imul(pe,vt)|0,p=p+Math.imul(pe,xt)|0,p=p+Math.imul(ye,vt)|0,j=j+Math.imul(ye,xt)|0,T=T+Math.imul(ee,bt)|0,p=p+Math.imul(ee,_t)|0,p=p+Math.imul(te,bt)|0,j=j+Math.imul(te,_t)|0;var Gu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,T=Math.imul(He,xe),p=Math.imul(He,we),p=p+Math.imul(tt,xe)|0,j=Math.imul(tt,we),T=T+Math.imul(Te,ge)|0,p=p+Math.imul(Te,wt)|0,p=p+Math.imul(Pe,ge)|0,j=j+Math.imul(Pe,wt)|0,T=T+Math.imul(Ce,vt)|0,p=p+Math.imul(Ce,xt)|0,p=p+Math.imul(Ae,vt)|0,j=j+Math.imul(Ae,xt)|0,T=T+Math.imul(pe,bt)|0,p=p+Math.imul(pe,_t)|0,p=p+Math.imul(ye,bt)|0,j=j+Math.imul(ye,_t)|0,T=T+Math.imul(ee,St)|0,p=p+Math.imul(ee,Et)|0,p=p+Math.imul(te,St)|0,j=j+Math.imul(te,Et)|0;var Zu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,T=Math.imul(qe,xe),p=Math.imul(qe,we),p=p+Math.imul($e,xe)|0,j=Math.imul($e,we),T=T+Math.imul(He,ge)|0,p=p+Math.imul(He,wt)|0,p=p+Math.imul(tt,ge)|0,j=j+Math.imul(tt,wt)|0,T=T+Math.imul(Te,vt)|0,p=p+Math.imul(Te,xt)|0,p=p+Math.imul(Pe,vt)|0,j=j+Math.imul(Pe,xt)|0,T=T+Math.imul(Ce,bt)|0,p=p+Math.imul(Ce,_t)|0,p=p+Math.imul(Ae,bt)|0,j=j+Math.imul(Ae,_t)|0,T=T+Math.imul(pe,St)|0,p=p+Math.imul(pe,Et)|0,p=p+Math.imul(ye,St)|0,j=j+Math.imul(ye,Et)|0,T=T+Math.imul(ee,kt)|0,p=p+Math.imul(ee,At)|0,p=p+Math.imul(te,kt)|0,j=j+Math.imul(te,At)|0;var Yu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,T=Math.imul(We,xe),p=Math.imul(We,we),p=p+Math.imul(Ze,xe)|0,j=Math.imul(Ze,we),T=T+Math.imul(qe,ge)|0,p=p+Math.imul(qe,wt)|0,p=p+Math.imul($e,ge)|0,j=j+Math.imul($e,wt)|0,T=T+Math.imul(He,vt)|0,p=p+Math.imul(He,xt)|0,p=p+Math.imul(tt,vt)|0,j=j+Math.imul(tt,xt)|0,T=T+Math.imul(Te,bt)|0,p=p+Math.imul(Te,_t)|0,p=p+Math.imul(Pe,bt)|0,j=j+Math.imul(Pe,_t)|0,T=T+Math.imul(Ce,St)|0,p=p+Math.imul(Ce,Et)|0,p=p+Math.imul(Ae,St)|0,j=j+Math.imul(Ae,Et)|0,T=T+Math.imul(pe,kt)|0,p=p+Math.imul(pe,At)|0,p=p+Math.imul(ye,kt)|0,j=j+Math.imul(ye,At)|0,T=T+Math.imul(ee,Ct)|0,p=p+Math.imul(ee,It)|0,p=p+Math.imul(te,Ct)|0,j=j+Math.imul(te,It)|0;var Ju=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,T=Math.imul(Ye,xe),p=Math.imul(Ye,we),p=p+Math.imul(N,xe)|0,j=Math.imul(N,we),T=T+Math.imul(We,ge)|0,p=p+Math.imul(We,wt)|0,p=p+Math.imul(Ze,ge)|0,j=j+Math.imul(Ze,wt)|0,T=T+Math.imul(qe,vt)|0,p=p+Math.imul(qe,xt)|0,p=p+Math.imul($e,vt)|0,j=j+Math.imul($e,xt)|0,T=T+Math.imul(He,bt)|0,p=p+Math.imul(He,_t)|0,p=p+Math.imul(tt,bt)|0,j=j+Math.imul(tt,_t)|0,T=T+Math.imul(Te,St)|0,p=p+Math.imul(Te,Et)|0,p=p+Math.imul(Pe,St)|0,j=j+Math.imul(Pe,Et)|0,T=T+Math.imul(Ce,kt)|0,p=p+Math.imul(Ce,At)|0,p=p+Math.imul(Ae,kt)|0,j=j+Math.imul(Ae,At)|0,T=T+Math.imul(pe,Ct)|0,p=p+Math.imul(pe,It)|0,p=p+Math.imul(ye,Ct)|0,j=j+Math.imul(ye,It)|0,T=T+Math.imul(ee,Nt)|0,p=p+Math.imul(ee,Tt)|0,p=p+Math.imul(te,Nt)|0,j=j+Math.imul(te,Tt)|0;var Qu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,T=Math.imul(g,xe),p=Math.imul(g,we),p=p+Math.imul(M,xe)|0,j=Math.imul(M,we),T=T+Math.imul(Ye,ge)|0,p=p+Math.imul(Ye,wt)|0,p=p+Math.imul(N,ge)|0,j=j+Math.imul(N,wt)|0,T=T+Math.imul(We,vt)|0,p=p+Math.imul(We,xt)|0,p=p+Math.imul(Ze,vt)|0,j=j+Math.imul(Ze,xt)|0,T=T+Math.imul(qe,bt)|0,p=p+Math.imul(qe,_t)|0,p=p+Math.imul($e,bt)|0,j=j+Math.imul($e,_t)|0,T=T+Math.imul(He,St)|0,p=p+Math.imul(He,Et)|0,p=p+Math.imul(tt,St)|0,j=j+Math.imul(tt,Et)|0,T=T+Math.imul(Te,kt)|0,p=p+Math.imul(Te,At)|0,p=p+Math.imul(Pe,kt)|0,j=j+Math.imul(Pe,At)|0,T=T+Math.imul(Ce,Ct)|0,p=p+Math.imul(Ce,It)|0,p=p+Math.imul(Ae,Ct)|0,j=j+Math.imul(Ae,It)|0,T=T+Math.imul(pe,Nt)|0,p=p+Math.imul(pe,Tt)|0,p=p+Math.imul(ye,Nt)|0,j=j+Math.imul(ye,Tt)|0,T=T+Math.imul(ee,Rt)|0,p=p+Math.imul(ee,Bt)|0,p=p+Math.imul(te,Rt)|0,j=j+Math.imul(te,Bt)|0;var Xu=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,T=Math.imul($,xe),p=Math.imul($,we),p=p+Math.imul(K,xe)|0,j=Math.imul(K,we),T=T+Math.imul(g,ge)|0,p=p+Math.imul(g,wt)|0,p=p+Math.imul(M,ge)|0,j=j+Math.imul(M,wt)|0,T=T+Math.imul(Ye,vt)|0,p=p+Math.imul(Ye,xt)|0,p=p+Math.imul(N,vt)|0,j=j+Math.imul(N,xt)|0,T=T+Math.imul(We,bt)|0,p=p+Math.imul(We,_t)|0,p=p+Math.imul(Ze,bt)|0,j=j+Math.imul(Ze,_t)|0,T=T+Math.imul(qe,St)|0,p=p+Math.imul(qe,Et)|0,p=p+Math.imul($e,St)|0,j=j+Math.imul($e,Et)|0,T=T+Math.imul(He,kt)|0,p=p+Math.imul(He,At)|0,p=p+Math.imul(tt,kt)|0,j=j+Math.imul(tt,At)|0,T=T+Math.imul(Te,Ct)|0,p=p+Math.imul(Te,It)|0,p=p+Math.imul(Pe,Ct)|0,j=j+Math.imul(Pe,It)|0,T=T+Math.imul(Ce,Nt)|0,p=p+Math.imul(Ce,Tt)|0,p=p+Math.imul(Ae,Nt)|0,j=j+Math.imul(Ae,Tt)|0,T=T+Math.imul(pe,Rt)|0,p=p+Math.imul(pe,Bt)|0,p=p+Math.imul(ye,Rt)|0,j=j+Math.imul(ye,Bt)|0,T=T+Math.imul(ee,Mt)|0,p=p+Math.imul(ee,jt)|0,p=p+Math.imul(te,Mt)|0,j=j+Math.imul(te,jt)|0;var ed=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(ed>>>26)|0,ed&=67108863,T=Math.imul($,ge),p=Math.imul($,wt),p=p+Math.imul(K,ge)|0,j=Math.imul(K,wt),T=T+Math.imul(g,vt)|0,p=p+Math.imul(g,xt)|0,p=p+Math.imul(M,vt)|0,j=j+Math.imul(M,xt)|0,T=T+Math.imul(Ye,bt)|0,p=p+Math.imul(Ye,_t)|0,p=p+Math.imul(N,bt)|0,j=j+Math.imul(N,_t)|0,T=T+Math.imul(We,St)|0,p=p+Math.imul(We,Et)|0,p=p+Math.imul(Ze,St)|0,j=j+Math.imul(Ze,Et)|0,T=T+Math.imul(qe,kt)|0,p=p+Math.imul(qe,At)|0,p=p+Math.imul($e,kt)|0,j=j+Math.imul($e,At)|0,T=T+Math.imul(He,Ct)|0,p=p+Math.imul(He,It)|0,p=p+Math.imul(tt,Ct)|0,j=j+Math.imul(tt,It)|0,T=T+Math.imul(Te,Nt)|0,p=p+Math.imul(Te,Tt)|0,p=p+Math.imul(Pe,Nt)|0,j=j+Math.imul(Pe,Tt)|0,T=T+Math.imul(Ce,Rt)|0,p=p+Math.imul(Ce,Bt)|0,p=p+Math.imul(Ae,Rt)|0,j=j+Math.imul(Ae,Bt)|0,T=T+Math.imul(pe,Mt)|0,p=p+Math.imul(pe,jt)|0,p=p+Math.imul(ye,Mt)|0,j=j+Math.imul(ye,jt)|0;var td=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(td>>>26)|0,td&=67108863,T=Math.imul($,vt),p=Math.imul($,xt),p=p+Math.imul(K,vt)|0,j=Math.imul(K,xt),T=T+Math.imul(g,bt)|0,p=p+Math.imul(g,_t)|0,p=p+Math.imul(M,bt)|0,j=j+Math.imul(M,_t)|0,T=T+Math.imul(Ye,St)|0,p=p+Math.imul(Ye,Et)|0,p=p+Math.imul(N,St)|0,j=j+Math.imul(N,Et)|0,T=T+Math.imul(We,kt)|0,p=p+Math.imul(We,At)|0,p=p+Math.imul(Ze,kt)|0,j=j+Math.imul(Ze,At)|0,T=T+Math.imul(qe,Ct)|0,p=p+Math.imul(qe,It)|0,p=p+Math.imul($e,Ct)|0,j=j+Math.imul($e,It)|0,T=T+Math.imul(He,Nt)|0,p=p+Math.imul(He,Tt)|0,p=p+Math.imul(tt,Nt)|0,j=j+Math.imul(tt,Tt)|0,T=T+Math.imul(Te,Rt)|0,p=p+Math.imul(Te,Bt)|0,p=p+Math.imul(Pe,Rt)|0,j=j+Math.imul(Pe,Bt)|0,T=T+Math.imul(Ce,Mt)|0,p=p+Math.imul(Ce,jt)|0,p=p+Math.imul(Ae,Mt)|0,j=j+Math.imul(Ae,jt)|0;var nd=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(nd>>>26)|0,nd&=67108863,T=Math.imul($,bt),p=Math.imul($,_t),p=p+Math.imul(K,bt)|0,j=Math.imul(K,_t),T=T+Math.imul(g,St)|0,p=p+Math.imul(g,Et)|0,p=p+Math.imul(M,St)|0,j=j+Math.imul(M,Et)|0,T=T+Math.imul(Ye,kt)|0,p=p+Math.imul(Ye,At)|0,p=p+Math.imul(N,kt)|0,j=j+Math.imul(N,At)|0,T=T+Math.imul(We,Ct)|0,p=p+Math.imul(We,It)|0,p=p+Math.imul(Ze,Ct)|0,j=j+Math.imul(Ze,It)|0,T=T+Math.imul(qe,Nt)|0,p=p+Math.imul(qe,Tt)|0,p=p+Math.imul($e,Nt)|0,j=j+Math.imul($e,Tt)|0,T=T+Math.imul(He,Rt)|0,p=p+Math.imul(He,Bt)|0,p=p+Math.imul(tt,Rt)|0,j=j+Math.imul(tt,Bt)|0,T=T+Math.imul(Te,Mt)|0,p=p+Math.imul(Te,jt)|0,p=p+Math.imul(Pe,Mt)|0,j=j+Math.imul(Pe,jt)|0;var rd=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(rd>>>26)|0,rd&=67108863,T=Math.imul($,St),p=Math.imul($,Et),p=p+Math.imul(K,St)|0,j=Math.imul(K,Et),T=T+Math.imul(g,kt)|0,p=p+Math.imul(g,At)|0,p=p+Math.imul(M,kt)|0,j=j+Math.imul(M,At)|0,T=T+Math.imul(Ye,Ct)|0,p=p+Math.imul(Ye,It)|0,p=p+Math.imul(N,Ct)|0,j=j+Math.imul(N,It)|0,T=T+Math.imul(We,Nt)|0,p=p+Math.imul(We,Tt)|0,p=p+Math.imul(Ze,Nt)|0,j=j+Math.imul(Ze,Tt)|0,T=T+Math.imul(qe,Rt)|0,p=p+Math.imul(qe,Bt)|0,p=p+Math.imul($e,Rt)|0,j=j+Math.imul($e,Bt)|0,T=T+Math.imul(He,Mt)|0,p=p+Math.imul(He,jt)|0,p=p+Math.imul(tt,Mt)|0,j=j+Math.imul(tt,jt)|0;var id=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(id>>>26)|0,id&=67108863,T=Math.imul($,kt),p=Math.imul($,At),p=p+Math.imul(K,kt)|0,j=Math.imul(K,At),T=T+Math.imul(g,Ct)|0,p=p+Math.imul(g,It)|0,p=p+Math.imul(M,Ct)|0,j=j+Math.imul(M,It)|0,T=T+Math.imul(Ye,Nt)|0,p=p+Math.imul(Ye,Tt)|0,p=p+Math.imul(N,Nt)|0,j=j+Math.imul(N,Tt)|0,T=T+Math.imul(We,Rt)|0,p=p+Math.imul(We,Bt)|0,p=p+Math.imul(Ze,Rt)|0,j=j+Math.imul(Ze,Bt)|0,T=T+Math.imul(qe,Mt)|0,p=p+Math.imul(qe,jt)|0,p=p+Math.imul($e,Mt)|0,j=j+Math.imul($e,jt)|0;var sd=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(sd>>>26)|0,sd&=67108863,T=Math.imul($,Ct),p=Math.imul($,It),p=p+Math.imul(K,Ct)|0,j=Math.imul(K,It),T=T+Math.imul(g,Nt)|0,p=p+Math.imul(g,Tt)|0,p=p+Math.imul(M,Nt)|0,j=j+Math.imul(M,Tt)|0,T=T+Math.imul(Ye,Rt)|0,p=p+Math.imul(Ye,Bt)|0,p=p+Math.imul(N,Rt)|0,j=j+Math.imul(N,Bt)|0,T=T+Math.imul(We,Mt)|0,p=p+Math.imul(We,jt)|0,p=p+Math.imul(Ze,Mt)|0,j=j+Math.imul(Ze,jt)|0;var od=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(od>>>26)|0,od&=67108863,T=Math.imul($,Nt),p=Math.imul($,Tt),p=p+Math.imul(K,Nt)|0,j=Math.imul(K,Tt),T=T+Math.imul(g,Rt)|0,p=p+Math.imul(g,Bt)|0,p=p+Math.imul(M,Rt)|0,j=j+Math.imul(M,Bt)|0,T=T+Math.imul(Ye,Mt)|0,p=p+Math.imul(Ye,jt)|0,p=p+Math.imul(N,Mt)|0,j=j+Math.imul(N,jt)|0;var ad=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(ad>>>26)|0,ad&=67108863,T=Math.imul($,Rt),p=Math.imul($,Bt),p=p+Math.imul(K,Rt)|0,j=Math.imul(K,Bt),T=T+Math.imul(g,Mt)|0,p=p+Math.imul(g,jt)|0,p=p+Math.imul(M,Mt)|0,j=j+Math.imul(M,jt)|0;var ld=(L+T|0)+((p&8191)<<13)|0;L=(j+(p>>>13)|0)+(ld>>>26)|0,ld&=67108863,T=Math.imul($,Mt),p=Math.imul($,jt),p=p+Math.imul(K,Mt)|0,j=Math.imul(K,jt);var cd=(L+T|0)+((p&8191)<<13)|0;return L=(j+(p>>>13)|0)+(cd>>>26)|0,cd&=67108863,B[0]=qu,B[1]=Ku,B[2]=Vu,B[3]=Gu,B[4]=Zu,B[5]=Yu,B[6]=Ju,B[7]=Qu,B[8]=Xu,B[9]=ed,B[10]=td,B[11]=nd,B[12]=rd,B[13]=id,B[14]=sd,B[15]=od,B[16]=ad,B[17]=ld,B[18]=cd,L!==0&&(B[19]=L,E.length++),E};Math.imul||(S=_);function v(P,d,y){y.negative=d.negative^P.negative,y.length=P.length+d.length;for(var E=0,I=0,C=0;C<y.length-1;C++){var B=I;I=0;for(var L=E&67108863,T=Math.min(C,d.length-1),p=Math.max(0,C-P.length+1);p<=T;p++){var j=C-p,Z=P.words[j]|0,ee=d.words[p]|0,te=Z*ee,ve=te&67108863;B=B+(te/67108864|0)|0,ve=ve+L|0,L=ve&67108863,B=B+(ve>>>26)|0,I+=B>>>26,B&=67108863}y.words[C]=L,E=B,B=I}return E!==0?y.words[C]=E:y.length--,y._strip()}function R(P,d,y){return v(P,d,y)}s.prototype.mulTo=function(d,y){var E,I=this.length+d.length;return this.length===10&&d.length===10?E=S(this,d,y):I<63?E=_(this,d,y):I<1024?E=v(this,d,y):E=R(this,d,y),E},s.prototype.mul=function(d){var y=new s(null);return y.words=new Array(this.length+d.length),this.mulTo(d,y)},s.prototype.mulf=function(d){var y=new s(null);return y.words=new Array(this.length+d.length),R(this,d,y)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var y=d<0;y&&(d=-d),r(typeof d=="number"),r(d<67108864);for(var E=0,I=0;I<this.length;I++){var C=(this.words[I]|0)*d,B=(C&67108863)+(E&67108863);E>>=26,E+=C/67108864|0,E+=B>>>26,this.words[I]=B&67108863}return E!==0&&(this.words[I]=E,this.length++),y?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var y=b(d);if(y.length===0)return new s(1);for(var E=this,I=0;I<y.length&&y[I]===0;I++,E=E.sqr());if(++I<y.length)for(var C=E.sqr();I<y.length;I++,C=C.sqr())y[I]!==0&&(E=E.mul(C));return E},s.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var y=d%26,E=(d-y)/26,I=67108863>>>26-y<<26-y,C;if(y!==0){var B=0;for(C=0;C<this.length;C++){var L=this.words[C]&I,T=(this.words[C]|0)-L<<y;this.words[C]=T|B,B=L>>>26-y}B&&(this.words[C]=B,this.length++)}if(E!==0){for(C=this.length-1;C>=0;C--)this.words[C+E]=this.words[C];for(C=0;C<E;C++)this.words[C]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,y,E){r(typeof d=="number"&&d>=0);var I;y?I=(y-y%26)/26:I=0;var C=d%26,B=Math.min((d-C)/26,this.length),L=67108863^67108863>>>C<<C,T=E;if(I-=B,I=Math.max(0,I),T){for(var p=0;p<B;p++)T.words[p]=this.words[p];T.length=B}if(B!==0)if(this.length>B)for(this.length-=B,p=0;p<this.length;p++)this.words[p]=this.words[p+B];else this.words[0]=0,this.length=1;var j=0;for(p=this.length-1;p>=0&&(j!==0||p>=I);p--){var Z=this.words[p]|0;this.words[p]=j<<26-C|Z>>>C,j=Z&L}return T&&j!==0&&(T.words[T.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,y,E){return r(this.negative===0),this.iushrn(d,y,E)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var y=d%26,E=(d-y)/26,I=1<<y;if(this.length<=E)return!1;var C=this.words[E];return!!(C&I)},s.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var y=d%26,E=(d-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(y!==0&&E++,this.length=Math.min(E,this.length),y!==0){var I=67108863^67108863>>>y<<y;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,y,E){var I=d.length+E,C;this._expand(I);var B,L=0;for(C=0;C<d.length;C++){B=(this.words[C+E]|0)+L;var T=(d.words[C]|0)*y;B-=T&67108863,L=(B>>26)-(T/67108864|0),this.words[C+E]=B&67108863}for(;C<this.length-E;C++)B=(this.words[C+E]|0)+L,L=B>>26,this.words[C+E]=B&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,C=0;C<this.length;C++)B=-(this.words[C]|0)+L,L=B>>26,this.words[C]=B&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,y){var E=this.length-d.length,I=this.clone(),C=d,B=C.words[C.length-1]|0,L=this._countBits(B);E=26-L,E!==0&&(C=C.ushln(E),I.iushln(E),B=C.words[C.length-1]|0);var T=I.length-C.length,p;if(y!=="mod"){p=new s(null),p.length=T+1,p.words=new Array(p.length);for(var j=0;j<p.length;j++)p.words[j]=0}var Z=I.clone()._ishlnsubmul(C,1,T);Z.negative===0&&(I=Z,p&&(p.words[T]=1));for(var ee=T-1;ee>=0;ee--){var te=(I.words[C.length+ee]|0)*67108864+(I.words[C.length+ee-1]|0);for(te=Math.min(te/B|0,67108863),I._ishlnsubmul(C,te,ee);I.negative!==0;)te--,I.negative=0,I._ishlnsubmul(C,1,ee),I.isZero()||(I.negative^=1);p&&(p.words[ee]=te)}return p&&p._strip(),I._strip(),y!=="div"&&E!==0&&I.iushrn(E),{div:p||null,mod:I}},s.prototype.divmod=function(d,y,E){if(r(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,C,B;return this.negative!==0&&d.negative===0?(B=this.neg().divmod(d,y),y!=="mod"&&(I=B.div.neg()),y!=="div"&&(C=B.mod.neg(),E&&C.negative!==0&&C.iadd(d)),{div:I,mod:C}):this.negative===0&&d.negative!==0?(B=this.divmod(d.neg(),y),y!=="mod"&&(I=B.div.neg()),{div:I,mod:B.mod}):this.negative&d.negative?(B=this.neg().divmod(d.neg(),y),y!=="div"&&(C=B.mod.neg(),E&&C.negative!==0&&C.isub(d)),{div:B.div,mod:C}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,y)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var E=y.div.negative!==0?y.mod.isub(d):y.mod,I=d.ushrn(1),C=d.andln(1),B=E.cmp(I);return B<0||C===1&&B===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(d){var y=d<0;y&&(d=-d),r(d<=67108863);for(var E=(1<<26)%d,I=0,C=this.length-1;C>=0;C--)I=(E*I+(this.words[C]|0))%d;return y?-I:I},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var y=d<0;y&&(d=-d),r(d<=67108863);for(var E=0,I=this.length-1;I>=0;I--){var C=(this.words[I]|0)+E*67108864;this.words[I]=C/d|0,E=C%d}return this._strip(),y?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var y=this,E=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var I=new s(1),C=new s(0),B=new s(0),L=new s(1),T=0;y.isEven()&&E.isEven();)y.iushrn(1),E.iushrn(1),++T;for(var p=E.clone(),j=y.clone();!y.isZero();){for(var Z=0,ee=1;!(y.words[0]&ee)&&Z<26;++Z,ee<<=1);if(Z>0)for(y.iushrn(Z);Z-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(p),C.isub(j)),I.iushrn(1),C.iushrn(1);for(var te=0,ve=1;!(E.words[0]&ve)&&te<26;++te,ve<<=1);if(te>0)for(E.iushrn(te);te-- >0;)(B.isOdd()||L.isOdd())&&(B.iadd(p),L.isub(j)),B.iushrn(1),L.iushrn(1);y.cmp(E)>=0?(y.isub(E),I.isub(B),C.isub(L)):(E.isub(y),B.isub(I),L.isub(C))}return{a:B,b:L,gcd:E.iushln(T)}},s.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var y=this,E=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var I=new s(1),C=new s(0),B=E.clone();y.cmpn(1)>0&&E.cmpn(1)>0;){for(var L=0,T=1;!(y.words[0]&T)&&L<26;++L,T<<=1);if(L>0)for(y.iushrn(L);L-- >0;)I.isOdd()&&I.iadd(B),I.iushrn(1);for(var p=0,j=1;!(E.words[0]&j)&&p<26;++p,j<<=1);if(p>0)for(E.iushrn(p);p-- >0;)C.isOdd()&&C.iadd(B),C.iushrn(1);y.cmp(E)>=0?(y.isub(E),I.isub(C)):(E.isub(y),C.isub(I))}var Z;return y.cmpn(1)===0?Z=I:Z=C,Z.cmpn(0)<0&&Z.iadd(d),Z},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),E=d.clone();y.negative=0,E.negative=0;for(var I=0;y.isEven()&&E.isEven();I++)y.iushrn(1),E.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;E.isEven();)E.iushrn(1);var C=y.cmp(E);if(C<0){var B=y;y=E,E=B}else if(C===0||E.cmpn(1)===0)break;y.isub(E)}while(!0);return E.iushln(I)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){r(typeof d=="number");var y=d%26,E=(d-y)/26,I=1<<y;if(this.length<=E)return this._expand(E+1),this.words[E]|=I,this;for(var C=I,B=E;C!==0&&B<this.length;B++){var L=this.words[B]|0;L+=C,C=L>>>26,L&=67108863,this.words[B]=L}return C!==0&&(this.words[B]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var E;if(this.length>1)E=1;else{y&&(d=-d),r(d<=67108863,"Number is too big");var I=this.words[0]|0;E=I===d?0:I<d?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,E=this.length-1;E>=0;E--){var I=this.words[E]|0,C=d.words[E]|0;if(I!==C){I<C?y=-1:I>C&&(y=1);break}}return y},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new ne(d)},s.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var O={k256:null,p224:null,p192:null,p25519:null};function U(P,d){this.name=P,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},U.prototype.ireduce=function(d){var y=d,E;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),E=y.bitLength();while(E>this.n);var I=E<this.n?-1:y.ucmp(this.p);return I===0?(y.words[0]=0,y.length=1):I>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},U.prototype.split=function(d,y){d.iushrn(this.n,0,y)},U.prototype.imulK=function(d){return d.imul(this.k)};function D(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,U),D.prototype.split=function(d,y){for(var E=4194303,I=Math.min(d.length,9),C=0;C<I;C++)y.words[C]=d.words[C];if(y.length=I,d.length<=9){d.words[0]=0,d.length=1;return}var B=d.words[9];for(y.words[y.length++]=B&E,C=10;C<d.length;C++){var L=d.words[C]|0;d.words[C-10]=(L&E)<<4|B>>>22,B=L}B>>>=22,d.words[C-10]=B,B===0&&d.length>10?d.length-=10:d.length-=9},D.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,E=0;E<d.length;E++){var I=d.words[E]|0;y+=I*977,d.words[E]=y&67108863,y=I*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function H(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,U);function V(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(V,U);function Q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Q,U),Q.prototype.imulK=function(d){for(var y=0,E=0;E<d.length;E++){var I=(d.words[E]|0)*19+y,C=I&67108863;I>>>=26,d.words[E]=C,y=I}return y!==0&&(d.words[d.length++]=y),d},s._prime=function(d){if(O[d])return O[d];var y;if(d==="k256")y=new D;else if(d==="p224")y=new H;else if(d==="p192")y=new V;else if(d==="p25519")y=new Q;else throw new Error("Unknown prime "+d);return O[d]=y,y};function ne(P){if(typeof P=="string"){var d=s._prime(P);this.m=d.p,this.prime=d}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}ne.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},ne.prototype._verify2=function(d,y){r((d.negative|y.negative)===0,"red works only with positives"),r(d.red&&d.red===y.red,"red works only with red numbers")},ne.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(u(d,d.umod(this.m)._forceRed(this)),d)},ne.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ne.prototype.add=function(d,y){this._verify2(d,y);var E=d.add(y);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},ne.prototype.iadd=function(d,y){this._verify2(d,y);var E=d.iadd(y);return E.cmp(this.m)>=0&&E.isub(this.m),E},ne.prototype.sub=function(d,y){this._verify2(d,y);var E=d.sub(y);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},ne.prototype.isub=function(d,y){this._verify2(d,y);var E=d.isub(y);return E.cmpn(0)<0&&E.iadd(this.m),E},ne.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},ne.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},ne.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},ne.prototype.isqr=function(d){return this.imul(d,d.clone())},ne.prototype.sqr=function(d){return this.mul(d,d)},ne.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(d,E)}for(var I=this.m.subn(1),C=0;!I.isZero()&&I.andln(1)===0;)C++,I.iushrn(1);r(!I.isZero());var B=new s(1).toRed(this),L=B.redNeg(),T=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,T).cmp(L)!==0;)p.redIAdd(L);for(var j=this.pow(p,I),Z=this.pow(d,I.addn(1).iushrn(1)),ee=this.pow(d,I),te=C;ee.cmp(B)!==0;){for(var ve=ee,pe=0;ve.cmp(B)!==0;pe++)ve=ve.redSqr();r(pe<te);var ye=this.pow(j,new s(1).iushln(te-pe-1));Z=Z.redMul(ye),j=ye.redSqr(),ee=ee.redMul(j),te=pe}return Z},ne.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},ne.prototype.pow=function(d,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var E=4,I=new Array(1<<E);I[0]=new s(1).toRed(this),I[1]=d;for(var C=2;C<I.length;C++)I[C]=this.mul(I[C-1],d);var B=I[0],L=0,T=0,p=y.bitLength()%26;for(p===0&&(p=26),C=y.length-1;C>=0;C--){for(var j=y.words[C],Z=p-1;Z>=0;Z--){var ee=j>>Z&1;if(B!==I[0]&&(B=this.sqr(B)),ee===0&&L===0){T=0;continue}L<<=1,L|=ee,T++,!(T!==E&&(C!==0||Z!==0))&&(B=this.mul(B,I[L]),T=0,L=0)}p=26}return B},ne.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},ne.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},s.mont=function(d){return new oe(d)};function oe(P){ne.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(oe,ne),oe.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},oe.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},oe.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var E=d.imul(y),I=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(I).iushrn(this.shift),B=C;return C.cmp(this.m)>=0?B=C.isub(this.m):C.cmpn(0)<0&&(B=C.iadd(this.m)),B._forceRed(this)},oe.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new s(0)._forceRed(this);var E=d.mul(y),I=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(I).iushrn(this.shift),B=C;return C.cmp(this.m)>=0?B=C.isub(this.m):C.cmpn(0)<0&&(B=C.iadd(this.m)),B._forceRed(this)},oe.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,ct)})(Q0);var wv=Q0.exports;const ym=Ri(wv);var bf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=be,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(bf,bf.exports);var X0=bf.exports,Cl=X0.Buffer;function Fk(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=Cl.from(w)),!Cl.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var k=0,A=0,b=0,_=w.length;b!==_&&w[b]===0;)b++,k++;for(var S=(_-b)*c+1>>>0,v=new Uint8Array(S);b!==_;){for(var R=w[b],O=0,U=S-1;(R!==0||O<A)&&U!==-1;U--,O++)R+=256*v[U]>>>0,v[U]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,b++}for(var D=S-A;D!==S&&v[D]===0;)D++;for(var H=a.repeat(k);D<S;++D)H+=t.charAt(v[D]);return H}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return Cl.alloc(0);for(var k=0,A=0,b=0;w[k]===a;)A++,k++;for(var _=(w.length-k)*l+1>>>0,S=new Uint8Array(_);k<w.length;){var v=e[w.charCodeAt(k)];if(v===255)return;for(var R=0,O=_-1;(v!==0||R<b)&&O!==-1;O--,R++)v+=o*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=R,k++}for(var U=_-b;U!==_&&S[U]===0;)U++;var D=Cl.allocUnsafe(A+(_-U));D.fill(0,0,A);for(var H=A;U!==_;)D[H++]=S[U++];return D}function m(w){var k=h(w);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:m}}var zk=Fk,$k=zk,Wk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Hk=$k(Wk);const tn=Ri(Hk),qk=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ei=new Uint32Array(64);class Kk extends av{constructor(){super(64,32,8,!1),this.A=Xr[0]|0,this.B=Xr[1]|0,this.C=Xr[2]|0,this.D=Xr[3]|0,this.E=Xr[4]|0,this.F=Xr[5]|0,this.G=Xr[6]|0,this.H=Xr[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)ei[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=ei[h-15],w=ei[h-2],k=yr(m,7)^yr(m,18)^m>>>3,A=yr(w,17)^yr(w,19)^w>>>10;ei[h]=A+ei[h-7]+k+ei[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const m=yr(a,6)^yr(a,11)^yr(a,25),w=u+m+TE(a,l,c)+qk[h]+ei[h]|0,A=(yr(r,2)^yr(r,13)^yr(r,22))+RE(r,i,s)|0;u=c,c=l,l=a,a=o+w|0,o=s,s=i,i=r,r=w+A|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){ei.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _f=sv(()=>new Kk);var en={},Il=X0.Buffer;function Vk(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=Il.from(w)),!Il.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var k=0,A=0,b=0,_=w.length;b!==_&&w[b]===0;)b++,k++;for(var S=(_-b)*c+1>>>0,v=new Uint8Array(S);b!==_;){for(var R=w[b],O=0,U=S-1;(R!==0||O<A)&&U!==-1;U--,O++)R+=256*v[U]>>>0,v[U]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,b++}for(var D=S-A;D!==S&&v[D]===0;)D++;for(var H=a.repeat(k);D<S;++D)H+=t.charAt(v[D]);return H}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return Il.alloc(0);for(var k=0,A=0,b=0;w[k]===a;)A++,k++;for(var _=(w.length-k)*l+1>>>0,S=new Uint8Array(_);k<w.length;){var v=e[w.charCodeAt(k)];if(v===255)return;for(var R=0,O=_-1;(v!==0||R<b)&&O!==-1;O--,R++)v+=o*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=R,k++}for(var U=_-b;U!==_&&S[U]===0;)U++;var D=Il.allocUnsafe(A+(_-U));D.fill(0,0,A);for(var H=A;U!==_;)D[H++]=S[U++];return D}function m(w){var k=h(w);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:m}}var Gk=Vk,Zk=Gk,Yk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Jk=Zk(Yk);function jr(t,e,n){return e<=t&&t<=n}function Su(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Qk(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function Xk(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Pc=-1;function ep(t){this.tokens=[].slice.call(t)}ep.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Pc},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var go=-1;function qd(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Lc="utf-8";function Oc(t,e){if(!(this instanceof Oc))return new Oc(t,e);if(t=t!==void 0?String(t).toLowerCase():Lc,t!==Lc)throw new Error("Encoding not supported. Only utf-8 is supported");e=Su(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Oc.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Su(n),this._streaming||(this._decoder=new e4({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new ep(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==go);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===go)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),Xk(s)}};function Uc(t,e){if(!(this instanceof Uc))return new Uc(t,e);if(t=t!==void 0?String(t).toLowerCase():Lc,t!==Lc)throw new Error("Encoding not supported. Only utf-8 is supported");e=Su(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Uc.prototype={encode:function(e,n){e=e?String(e):"",n=Su(n),this._streaming||(this._encoder=new t4(this._options)),this._streaming=!!n.stream;for(var r=[],i=new ep(Qk(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==go);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==go;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function e4(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Pc&&i!==0)return i=0,qd(e);if(l===Pc)return go;if(i===0){if(jr(l,0,127))return l;if(jr(l,194,223))i=1,n=l-192;else if(jr(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(jr(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return qd(e);return n=n<<6*i,null}if(!jr(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),qd(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function t4(t){t.fatal,this.handler=function(e,n){if(n===Pc)return go;if(jr(n,0,127))return n;var r,i;jr(n,128,2047)?(r=1,i=192):jr(n,2048,65535)?(r=2,i=224):jr(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const n4=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Oc,TextEncoder:Uc},Symbol.toStringTag,{value:"Module"})),r4=Yc(n4);var i4=ct&&ct.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),s4=ct&&ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kr=ct&&ct.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},o4=ct&&ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&i4(e,t,n);return s4(e,t),e},vv=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});var xv=en.deserializeUnchecked=Av=en.deserialize=kv=en.serialize=en.BinaryReader=en.BinaryWriter=en.BorshError=en.baseDecode=en.baseEncode=void 0;const gi=vv(wv),bv=vv(Jk),a4=o4(r4),l4=typeof TextDecoder!="function"?a4.TextDecoder:TextDecoder,c4=new l4("utf-8",{fatal:!0});function u4(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),bv.default.encode(Buffer.from(t))}en.baseEncode=u4;function d4(t){return Buffer.from(bv.default.decode(t))}en.baseDecode=d4;const Kd=1024;class mn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}en.BorshError=mn;class _v{constructor(){this.buf=Buffer.alloc(Kd),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Kd)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new gi.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new gi.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new gi.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new gi.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Kd)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}en.BinaryWriter=_v;function Ar(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new mn("Reached the end of buffer when deserializing")}throw s}}}class qn{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new gi.default(e,"le")}readU128(){const e=this.readBuffer(16);return new gi.default(e,"le")}readU256(){const e=this.readBuffer(32);return new gi.default(e,"le")}readU512(){const e=this.readBuffer(64);return new gi.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new mn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return c4.decode(n)}catch(r){throw new mn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}kr([Ar],qn.prototype,"readU8",null);kr([Ar],qn.prototype,"readU16",null);kr([Ar],qn.prototype,"readU32",null);kr([Ar],qn.prototype,"readU64",null);kr([Ar],qn.prototype,"readU128",null);kr([Ar],qn.prototype,"readU256",null);kr([Ar],qn.prototype,"readU512",null);kr([Ar],qn.prototype,"readString",null);kr([Ar],qn.prototype,"readFixedArray",null);kr([Ar],qn.prototype,"readArray",null);en.BinaryReader=qn;function Sv(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Wi(t,e,n,r,i){try{if(typeof r=="string")i[`write${Sv(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new mn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new mn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Wi(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Wi(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Wi(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Wi(t,e,o,r.key,i),Wi(t,e,s,r.value,i)});break}default:throw new mn(`FieldType ${r} unrecognized`)}else Ev(t,n,i)}catch(s){throw s instanceof mn&&s.addToFieldPath(e),s}}function Ev(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new mn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Wi(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Wi(t,o,e[o],a,n);break}}}else throw new mn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function h4(t,e,n=_v){const r=new n;return Ev(t,e,r),r.toArray()}var kv=en.serialize=h4;function Hi(t,e,n,r){try{if(typeof n=="string")return r[`read${Sv(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Hi(t,null,n[0],r));return i}else return r.readArray(()=>Hi(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Hi(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Hi(t,e,n.key,r),l=Hi(t,e,n.value,r);i.set(a,l)}return i}return tp(t,n,r)}catch(i){throw i instanceof mn&&i.addToFieldPath(e),i}}function tp(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new mn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Hi(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new mn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Hi(t,s,o,n);return new e({[s]:a})}throw new mn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function f4(t,e,n,r=qn){const i=new r(n),s=tp(t,e,i);if(i.offset<n.length)throw new mn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var Av=en.deserialize=f4;function p4(t,e,n,r=qn){const i=new r(n);return tp(t,e,i)}xv=en.deserializeUnchecked=p4;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=Yt=q.nu64=q.u48=q.u40=de=q.u32=q.u24=Gn=q.u16=De=q.u8=rs=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=Xe=q.blob=q.unionLayoutDiscriminator=q.union=hn=q.seq=q.bits=le=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=Ln=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;const np=be;function To(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=To;function Ue(t){return To(t),np.Buffer.from(t.buffer,t.byteOffset,t.length)}q.uint8ArrayToBuffer=Ue;class ze{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}q.Layout=ze;function rp(t,e){return e.property?t+"["+e.property+"]":t}q.nameWithProperty=rp;function g4(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ze))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}q.bindConstructorLayout=g4;class Cn extends ze{isCount(){throw new Error("ExternalLayout is abstract")}}q.ExternalLayout=Cn;class Cv extends Cn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){To(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}q.GreedyCount=Cv;class ip extends Cn{constructor(e,n=0,r){if(!(e instanceof ze))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof er||this.layout instanceof fr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}q.OffsetLayout=ip;class er extends ze{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Ue(n).writeUIntLE(e,r,this.span),this.span}}q.UInt=er;class fr extends ze{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Ue(n).writeUIntBE(e,r,this.span),this.span}}q.UIntBE=fr;class ms extends ze{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readIntLE(n,this.span)}encode(e,n,r=0){return Ue(n).writeIntLE(e,r,this.span),this.span}}q.Int=ms;class Ro extends ze{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readIntBE(n,this.span)}encode(e,n,r=0){return Ue(n).writeIntBE(e,r,this.span),this.span}}q.IntBE=Ro;const Sf=Math.pow(2,32);function Eu(t){const e=Math.floor(t/Sf),n=t-e*Sf;return{hi32:e,lo32:n}}function ku(t,e){return t*Sf+e}class Iv extends ze{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return ku(s,i)}encode(e,n,r=0){const i=Eu(e),s=Ue(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}q.NearUInt64=Iv;class Nv extends ze{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return ku(i,s)}encode(e,n,r=0){const i=Eu(e),s=Ue(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearUInt64BE=Nv;class Tv extends ze{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return ku(s,i)}encode(e,n,r=0){const i=Eu(e),s=Ue(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}q.NearInt64=Tv;class Rv extends ze{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return ku(i,s)}encode(e,n,r=0){const i=Eu(e),s=Ue(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearInt64BE=Rv;class Bv extends ze{constructor(e){super(4,e)}decode(e,n=0){return Ue(e).readFloatLE(n)}encode(e,n,r=0){return Ue(n).writeFloatLE(e,r),4}}q.Float=Bv;class Mv extends ze{constructor(e){super(4,e)}decode(e,n=0){return Ue(e).readFloatBE(n)}encode(e,n,r=0){return Ue(n).writeFloatBE(e,r),4}}q.FloatBE=Mv;class jv extends ze{constructor(e){super(8,e)}decode(e,n=0){return Ue(e).readDoubleLE(n)}encode(e,n,r=0){return Ue(n).writeDoubleLE(e,r),8}}q.Double=jv;class Pv extends ze{constructor(e){super(8,e)}decode(e,n=0){return Ue(e).readDoubleBE(n)}encode(e,n,r=0){return Ue(n).writeDoubleBE(e,r),8}}q.DoubleBE=Pv;class Lv extends ze{constructor(e,n,r){if(!(e instanceof ze))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Cn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Cn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Cn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Cn&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Cn&&this.count.encode(e.length,n,r),s}}q.Sequence=Lv;class Ov extends ze{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof ze,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){To(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}q.Structure=Ov;class sp{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}q.UnionDiscriminator=sp;class Dc extends sp{constructor(e,n){if(!(e instanceof Cn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}q.UnionLayoutDiscriminator=Dc;class op extends ze{constructor(e,n,r){let i;if(e instanceof er||e instanceof fr)i=new Dc(new ip(e));else if(e instanceof Cn&&e.isCount())i=new Dc(e);else if(e instanceof sp)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ze))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof er||e instanceof fr)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof er||e instanceof fr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new Uv(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}q.Union=op;class Uv extends ze{constructor(e,n,r,i){if(!(e instanceof op))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ze))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}q.VariantLayout=Uv;function Rs(t){return 0>t&&(t+=4294967296),t}class ap extends ze{constructor(e,n,r){if(!(e instanceof er||e instanceof fr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Rs(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new lp(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Dv(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}q.BitStructure=ap;class lp{constructor(e,n,r){if(!(e instanceof ap))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Rs(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Rs(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Rs(e&this.valueMask))throw new TypeError(rp("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Rs(e<<this.start);this.container._packedSetValue(Rs(n&~this.wordMask)|r)}}q.BitField=lp;let Dv=class extends lp{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=Dv;let Fv=class extends ze{constructor(e,n){if(!(e instanceof Cn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Cn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Ue(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Cn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(rp("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Ue(e);return Ue(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Cn&&this.length.encode(i,n,r),i}};q.Blob=Fv;class zv extends ze{constructor(e){super(-1,e)}getSpan(e,n=0){To(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Ue(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=np.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Ue(n);return i.copy(o,r),o[r+s]=0,s+1}}q.CString=zv;class $v extends ze{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return To(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Ue(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=np.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ue(n),r),s}}q.UTF8=$v;class Wv extends ze{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}q.Constant=Wv;q.greedy=(t,e)=>new Cv(t,e);var rs=q.offset=(t,e,n)=>new ip(t,e,n),De=q.u8=t=>new er(1,t),Gn=q.u16=t=>new er(2,t);q.u24=t=>new er(3,t);var de=q.u32=t=>new er(4,t);q.u40=t=>new er(5,t);q.u48=t=>new er(6,t);var Yt=q.nu64=t=>new Iv(t);q.u16be=t=>new fr(2,t);q.u24be=t=>new fr(3,t);q.u32be=t=>new fr(4,t);q.u40be=t=>new fr(5,t);q.u48be=t=>new fr(6,t);q.nu64be=t=>new Nv(t);q.s8=t=>new ms(1,t);q.s16=t=>new ms(2,t);q.s24=t=>new ms(3,t);q.s32=t=>new ms(4,t);q.s40=t=>new ms(5,t);q.s48=t=>new ms(6,t);var Ln=q.ns64=t=>new Tv(t);q.s16be=t=>new Ro(2,t);q.s24be=t=>new Ro(3,t);q.s32be=t=>new Ro(4,t);q.s40be=t=>new Ro(5,t);q.s48be=t=>new Ro(6,t);q.ns64be=t=>new Rv(t);q.f32=t=>new Bv(t);q.f32be=t=>new Mv(t);q.f64=t=>new jv(t);q.f64be=t=>new Pv(t);var le=q.struct=(t,e,n)=>new Ov(t,e,n);q.bits=(t,e,n)=>new ap(t,e,n);var hn=q.seq=(t,e,n)=>new Lv(t,e,n);q.union=(t,e,n)=>new op(t,e,n);q.unionLayoutDiscriminator=(t,e)=>new Dc(t,e);var Xe=q.blob=(t,e)=>new Fv(t,e);q.cstr=t=>new zv(t);q.utf8=(t,e)=>new $v(t,e);q.constant=(t,e)=>new Wv(t,e);var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});function m4(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var y4=Xa.toBigIntLE=m4;function w4(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Xa.toBigIntBE=w4;function v4(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var x4=Xa.toBufferLE=v4;function b4(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}Xa.toBufferBE=b4;class _4 extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function S4(t){return el(t)&&typeof t[Symbol.iterator]=="function"}function el(t){return typeof t=="object"&&t!=null}function Fc(t){return el(t)&&!Array.isArray(t)}function gr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function E4(t){const{done:e,value:n}=t.next();return e?void 0:n}function k4(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${gr(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*wm(t,e,n,r){S4(t)||(t=[t]);for(const i of t){const s=k4(i,e,n,r);s&&(yield s)}}function*cp(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,h]of e.entries(t,a)){const m=cp(u,h,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const w of m)w[0]?(l=w[0].refinement!=null?"not_refined":"not_valid",yield[w[0],void 0]):s&&(u=w[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):el(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Cr=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return wm(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return wm(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return A4(e,this,n)}create(e,n){return re(e,this,n)}is(e){return Hv(e,this)}mask(e,n){return C4(e,this,n)}validate(e,n={}){return tl(e,this,n)}};function A4(t,e,n){const r=tl(t,e,{message:n});if(r[0])throw r[0]}function re(t,e,n){const r=tl(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function C4(t,e,n){const r=tl(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Hv(t,e){return!tl(t,e)[0]}function tl(t,e,n={}){const r=cp(t,e,n),i=E4(r);return i[0]?[new _4(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ys(t,e){return new Cr({type:t,schema:null,validator:e})}function I4(){return ys("any",()=>!0)}function ie(t){return new Cr({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${gr(e)}`}})}function Er(){return ys("boolean",t=>typeof t=="boolean")}function up(t){return ys("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${gr(e)}`)}function ot(t){const e=gr(t),n=typeof t;return new Cr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${gr(r)}`}})}function N4(){return ys("never",()=>!1)}function se(t){return new Cr({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function W(){return ys("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${gr(t)}`)}function he(t){return new Cr({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function qv(t,e){return new Cr({type:"record",schema:null,*entries(n){if(el(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Fc(n)||`Expected an object, but received: ${gr(n)}`},coercer(n){return Fc(n)?{...n}:n}})}function X(){return ys("string",t=>typeof t=="string"||`Expected a string, but received: ${gr(t)}`)}function dp(t){const e=N4();return new Cr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${gr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function G(t){const e=Object.keys(t);return new Cr({type:"type",schema:t,*entries(n){if(el(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Fc(n)||`Expected an object, but received: ${gr(n)}`},coercer(n){return Fc(n)?{...n}:n}})}function wn(t){const e=t.map(n=>n.type).join(" | ");return new Cr({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=cp(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${gr(n)}`,...i]}})}function Bo(){return ys("unknown",()=>!0)}function nl(t,e,n){return new Cr({...t,coercer:(r,i)=>Hv(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Nl,T4=new Uint8Array(16);function Kv(){if(!Nl&&(Nl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Nl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nl(T4)}const R4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Au(t){return typeof t=="string"&&R4.test(t)}var Zt=[];for(var Vd=0;Vd<256;++Vd)Zt.push((Vd+256).toString(16).substr(1));function Cu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Zt[t[e+0]]+Zt[t[e+1]]+Zt[t[e+2]]+Zt[t[e+3]]+"-"+Zt[t[e+4]]+Zt[t[e+5]]+"-"+Zt[t[e+6]]+Zt[t[e+7]]+"-"+Zt[t[e+8]]+Zt[t[e+9]]+"-"+Zt[t[e+10]]+Zt[t[e+11]]+Zt[t[e+12]]+Zt[t[e+13]]+Zt[t[e+14]]+Zt[t[e+15]]).toLowerCase();if(!Au(n))throw TypeError("Stringified UUID is invalid");return n}var vm,Gd,Zd=0,Yd=0;function B4(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||vm,o=t.clockseq!==void 0?t.clockseq:Gd;if(s==null||o==null){var a=t.random||(t.rng||Kv)();s==null&&(s=vm=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Gd=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Yd+1,u=l-Zd+(c-Yd)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>Zd)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Zd=l,Yd=c,Gd=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=h&255;var m=l/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=m&255,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=s[w];return e||Cu(i)}function Vv(t){if(!Au(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function M4(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var j4="6ba7b810-9dad-11d1-80b4-00c04fd430c8",P4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Gv(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=M4(i)),typeof s=="string"&&(s=Vv(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return Cu(l)}try{r.name=t}catch{}return r.DNS=j4,r.URL=P4,r}function L4(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return O4(U4(D4(t),t.length*8))}function O4(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Zv(t){return(t+64>>>9<<4)+14+1}function U4(t,e){t[e>>5]|=128<<e%32,t[Zv(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=an(n,r,i,s,t[o],7,-680876936),s=an(s,n,r,i,t[o+1],12,-389564586),i=an(i,s,n,r,t[o+2],17,606105819),r=an(r,i,s,n,t[o+3],22,-1044525330),n=an(n,r,i,s,t[o+4],7,-176418897),s=an(s,n,r,i,t[o+5],12,1200080426),i=an(i,s,n,r,t[o+6],17,-1473231341),r=an(r,i,s,n,t[o+7],22,-45705983),n=an(n,r,i,s,t[o+8],7,1770035416),s=an(s,n,r,i,t[o+9],12,-1958414417),i=an(i,s,n,r,t[o+10],17,-42063),r=an(r,i,s,n,t[o+11],22,-1990404162),n=an(n,r,i,s,t[o+12],7,1804603682),s=an(s,n,r,i,t[o+13],12,-40341101),i=an(i,s,n,r,t[o+14],17,-1502002290),r=an(r,i,s,n,t[o+15],22,1236535329),n=ln(n,r,i,s,t[o+1],5,-165796510),s=ln(s,n,r,i,t[o+6],9,-1069501632),i=ln(i,s,n,r,t[o+11],14,643717713),r=ln(r,i,s,n,t[o],20,-373897302),n=ln(n,r,i,s,t[o+5],5,-701558691),s=ln(s,n,r,i,t[o+10],9,38016083),i=ln(i,s,n,r,t[o+15],14,-660478335),r=ln(r,i,s,n,t[o+4],20,-405537848),n=ln(n,r,i,s,t[o+9],5,568446438),s=ln(s,n,r,i,t[o+14],9,-1019803690),i=ln(i,s,n,r,t[o+3],14,-187363961),r=ln(r,i,s,n,t[o+8],20,1163531501),n=ln(n,r,i,s,t[o+13],5,-1444681467),s=ln(s,n,r,i,t[o+2],9,-51403784),i=ln(i,s,n,r,t[o+7],14,1735328473),r=ln(r,i,s,n,t[o+12],20,-1926607734),n=cn(n,r,i,s,t[o+5],4,-378558),s=cn(s,n,r,i,t[o+8],11,-2022574463),i=cn(i,s,n,r,t[o+11],16,1839030562),r=cn(r,i,s,n,t[o+14],23,-35309556),n=cn(n,r,i,s,t[o+1],4,-1530992060),s=cn(s,n,r,i,t[o+4],11,1272893353),i=cn(i,s,n,r,t[o+7],16,-155497632),r=cn(r,i,s,n,t[o+10],23,-1094730640),n=cn(n,r,i,s,t[o+13],4,681279174),s=cn(s,n,r,i,t[o],11,-358537222),i=cn(i,s,n,r,t[o+3],16,-722521979),r=cn(r,i,s,n,t[o+6],23,76029189),n=cn(n,r,i,s,t[o+9],4,-640364487),s=cn(s,n,r,i,t[o+12],11,-421815835),i=cn(i,s,n,r,t[o+15],16,530742520),r=cn(r,i,s,n,t[o+2],23,-995338651),n=un(n,r,i,s,t[o],6,-198630844),s=un(s,n,r,i,t[o+7],10,1126891415),i=un(i,s,n,r,t[o+14],15,-1416354905),r=un(r,i,s,n,t[o+5],21,-57434055),n=un(n,r,i,s,t[o+12],6,1700485571),s=un(s,n,r,i,t[o+3],10,-1894986606),i=un(i,s,n,r,t[o+10],15,-1051523),r=un(r,i,s,n,t[o+1],21,-2054922799),n=un(n,r,i,s,t[o+8],6,1873313359),s=un(s,n,r,i,t[o+15],10,-30611744),i=un(i,s,n,r,t[o+6],15,-1560198380),r=un(r,i,s,n,t[o+13],21,1309151649),n=un(n,r,i,s,t[o+4],6,-145523070),s=un(s,n,r,i,t[o+11],10,-1120210379),i=un(i,s,n,r,t[o+2],15,718787259),r=un(r,i,s,n,t[o+9],21,-343485551),n=mi(n,a),r=mi(r,l),i=mi(i,c),s=mi(s,u)}return[n,r,i,s]}function D4(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Zv(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function mi(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function F4(t,e){return t<<e|t>>>32-e}function Iu(t,e,n,r,i,s){return mi(F4(mi(mi(e,t),mi(r,s)),i),n)}function an(t,e,n,r,i,s,o){return Iu(e&n|~e&r,t,e,i,s,o)}function ln(t,e,n,r,i,s,o){return Iu(e&r|n&~r,t,e,i,s,o)}function cn(t,e,n,r,i,s,o){return Iu(e^n^r,t,e,i,s,o)}function un(t,e,n,r,i,s,o){return Iu(n^(e|~r),t,e,i,s,o)}var z4=Gv("v3",48,L4);function $4(t,e,n){t=t||{};var r=t.random||(t.rng||Kv)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Cu(r)}function W4(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Jd(t,e){return t<<e|t>>>32-e}function H4(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var m=new Uint32Array(80),w=0;w<16;++w)m[w]=a[h][w];for(var k=16;k<80;++k)m[k]=Jd(m[k-3]^m[k-8]^m[k-14]^m[k-16],1);for(var A=n[0],b=n[1],_=n[2],S=n[3],v=n[4],R=0;R<80;++R){var O=Math.floor(R/20),U=Jd(A,5)+W4(O,b,_,S)+v+e[O]+m[R]>>>0;v=S,S=_,_=Jd(b,30)>>>0,b=A,A=U}n[0]=n[0]+A>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+_>>>0,n[3]=n[3]+S>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var q4=Gv("v5",80,H4);const K4="00000000-0000-0000-0000-000000000000";function V4(t){if(!Au(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const G4=Object.freeze(Object.defineProperty({__proto__:null,NIL:K4,parse:Vv,stringify:Cu,v1:B4,v3:z4,v4:$4,v5:q4,validate:Au,version:V4},Symbol.toStringTag,{value:"Module"})),Yv=Yc(G4),Z4=Yv.v4,Y4=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Z4()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var J4=Y4;const Q4=Yv.v4,X4=J4,Fa=function(t,e){if(!(this instanceof Fa))return new Fa(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Q4()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var eA=Fa;Fa.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=X4(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){i._parseResponse(c,u,r)}),s};Fa.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const tA=Ri(eA);var Jv={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var w=new i(u,h||l,m),k=n?n+c:c;return l._events[k]?l._events[k].fn?l._events[k]=[l._events[k],w]:l._events[k].push(w):(l._events[k]=w,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,w=h.length,k=new Array(w);m<w;m++)k[m]=h[m].fn;return k},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,m,w,k){var A=n?n+c:c;if(!this._events[A])return!1;var b=this._events[A],_=arguments.length,S,v;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,h),!0;case 4:return b.fn.call(b.context,u,h,m),!0;case 5:return b.fn.call(b.context,u,h,m,w),!0;case 6:return b.fn.call(b.context,u,h,m,w,k),!0}for(v=1,S=new Array(_-1);v<_;v++)S[v-1]=arguments[v];b.fn.apply(b.context,S)}else{var R=b.length,O;for(v=0;v<R;v++)switch(b[v].once&&this.removeListener(c,b[v].fn,void 0,!0),_){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,u);break;case 3:b[v].fn.call(b[v].context,u,h);break;case 4:b[v].fn.call(b[v].context,u,h,m);break;default:if(!S)for(O=1,S=new Array(_-1);O<_;O++)S[O-1]=arguments[O];b[v].fn.apply(b[v].context,S)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,m){var w=n?n+c:c;if(!this._events[w])return this;if(!u)return o(this,w),this;var k=this._events[w];if(k.fn)k.fn===u&&(!m||k.once)&&(!h||k.context===h)&&o(this,w);else{for(var A=0,b=[],_=k.length;A<_;A++)(k[A].fn!==u||m&&!k[A].once||h&&k[A].context!==h)&&b.push(k[A]);b.length?this._events[w]=b.length===1?b[0]:b:o(this,w)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Jv);var nA=Jv.exports;const Qv=Ri(nA);var rA=class extends Qv{constructor(e,n,r){super();$t(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function iA(t,e){return new rA(t,e)}var sA=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},oA=class extends Qv{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},l,c){super();$t(this,"address");$t(this,"rpc_id");$t(this,"queue");$t(this,"options");$t(this,"autoconnect");$t(this,"ready");$t(this,"reconnect");$t(this,"reconnect_timer_id");$t(this,"reconnect_interval");$t(this,"max_reconnects");$t(this,"rest_options");$t(this,"current_reconnects");$t(this,"generate_request_id");$t(this,"socket");$t(this,"webSocketFactory");$t(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),c?this.dataPack=c:this.dataPack=new sA,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return o(c);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=be.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class Xv extends iv{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kE(e);const r=K0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return jc(this),this.iHash.update(e),this}digestInto(e){jc(this),wu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ex=(t,e,n)=>new Xv(t,e).update(n).digest();ex.create=(t,e)=>new Xv(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xm(t){t.lowS!==void 0&&zr("lowS",t.lowS),t.prehash!==void 0&&zr("prehash",t.prehash)}function aA(t){const e=Z0(t);No(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:lA,hexToBytes:cA}=hk,Mr={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=Mr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=qs(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?qs(i.length/2|128):"";return qs(t)+s+i+e},decode(t,e){const{Err:n}=Mr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Mr;if(t<Pr)throw new e("integer: negative integers are not allowed");let n=qs(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Mr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return lA(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Mr,i=typeof t=="string"?cA(t):t;Qa(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Mr,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Pr=BigInt(0),Ht=BigInt(1);BigInt(2);const bm=BigInt(3);BigInt(4);function uA(t){const e=aA(t),{Fp:n}=e,r=_u(e.n,e.nBitLength),i=e.toBytes||((A,b,_)=>{const S=b.toAffine();return fs(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),s=e.fromBytes||(A=>{const b=A.subarray(1),_=n.fromBytes(b.subarray(0,n.BYTES)),S=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:_,y:S}});function o(A){const{a:b,b:_}=e,S=n.sqr(A),v=n.mul(S,A);return n.add(n.add(v,n.mul(A,b)),_)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(A){return bu(A,Ht,e.n)}function l(A){const{allowedPrivateKeyLengths:b,nByteLength:_,wrapPrivateKey:S,n:v}=e;if(b&&typeof A!="bigint"){if(ds(A)&&(A=hs(A)),typeof A!="string"||!b.includes(A.length))throw new Error("invalid private key");A=A.padStart(_*2,"0")}let R;try{R=typeof A=="bigint"?A:ns(Lt("private key",A,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof A)}return S&&(R=rt(R,v)),Jn("private key",R,Ht,v),R}function c(A){if(!(A instanceof m))throw new Error("ProjectivePoint expected")}const u=Da((A,b)=>{const{px:_,py:S,pz:v}=A;if(n.eql(v,n.ONE))return{x:_,y:S};const R=A.is0();b==null&&(b=R?n.ONE:n.inv(v));const O=n.mul(_,b),U=n.mul(S,b),D=n.mul(v,b);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:O,y:U}}),h=Da(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:b,y:_}=A.toAffine();if(!n.isValid(b)||!n.isValid(_))throw new Error("bad point: x or y not FE");const S=n.sqr(_),v=o(b);if(!n.eql(S,v))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,_,S){if(this.px=b,this.py=_,this.pz=S,b==null||!n.isValid(b))throw new Error("x required");if(_==null||!n.isValid(_))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:_,y:S}=b||{};if(!b||!n.isValid(_)||!n.isValid(S))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const v=R=>n.eql(R,n.ZERO);return v(_)&&v(S)?m.ZERO:new m(_,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const _=n.invertBatch(b.map(S=>S.pz));return b.map((S,v)=>S.toAffine(_[v])).map(m.fromAffine)}static fromHex(b){const _=m.fromAffine(s(Lt("pointHex",b)));return _.assertValidity(),_}static fromPrivateKey(b){return m.BASE.multiply(l(b))}static msm(b,_){return yv(m,r,b,_)}_setWindowSize(b){k.setWindowSize(this,b)}assertValidity(){h(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){c(b);const{px:_,py:S,pz:v}=this,{px:R,py:O,pz:U}=b,D=n.eql(n.mul(_,U),n.mul(R,v)),H=n.eql(n.mul(S,U),n.mul(O,v));return D&&H}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:_}=e,S=n.mul(_,bm),{px:v,py:R,pz:O}=this;let U=n.ZERO,D=n.ZERO,H=n.ZERO,V=n.mul(v,v),Q=n.mul(R,R),ne=n.mul(O,O),oe=n.mul(v,R);return oe=n.add(oe,oe),H=n.mul(v,O),H=n.add(H,H),U=n.mul(b,H),D=n.mul(S,ne),D=n.add(U,D),U=n.sub(Q,D),D=n.add(Q,D),D=n.mul(U,D),U=n.mul(oe,U),H=n.mul(S,H),ne=n.mul(b,ne),oe=n.sub(V,ne),oe=n.mul(b,oe),oe=n.add(oe,H),H=n.add(V,V),V=n.add(H,V),V=n.add(V,ne),V=n.mul(V,oe),D=n.add(D,V),ne=n.mul(R,O),ne=n.add(ne,ne),V=n.mul(ne,oe),U=n.sub(U,V),H=n.mul(ne,Q),H=n.add(H,H),H=n.add(H,H),new m(U,D,H)}add(b){c(b);const{px:_,py:S,pz:v}=this,{px:R,py:O,pz:U}=b;let D=n.ZERO,H=n.ZERO,V=n.ZERO;const Q=e.a,ne=n.mul(e.b,bm);let oe=n.mul(_,R),P=n.mul(S,O),d=n.mul(v,U),y=n.add(_,S),E=n.add(R,O);y=n.mul(y,E),E=n.add(oe,P),y=n.sub(y,E),E=n.add(_,v);let I=n.add(R,U);return E=n.mul(E,I),I=n.add(oe,d),E=n.sub(E,I),I=n.add(S,v),D=n.add(O,U),I=n.mul(I,D),D=n.add(P,d),I=n.sub(I,D),V=n.mul(Q,E),D=n.mul(ne,d),V=n.add(D,V),D=n.sub(P,V),V=n.add(P,V),H=n.mul(D,V),P=n.add(oe,oe),P=n.add(P,oe),d=n.mul(Q,d),E=n.mul(ne,E),P=n.add(P,d),d=n.sub(oe,d),d=n.mul(Q,d),E=n.add(E,d),oe=n.mul(P,E),H=n.add(H,oe),oe=n.mul(I,E),D=n.mul(y,D),D=n.sub(D,oe),oe=n.mul(y,P),V=n.mul(I,V),V=n.add(V,oe),new m(D,H,V)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return k.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:_,n:S}=e;Jn("scalar",b,Pr,S);const v=m.ZERO;if(b===Pr)return v;if(this.is0()||b===Ht)return this;if(!_||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:R,k1:O,k2neg:U,k2:D}=_.splitScalar(b),H=v,V=v,Q=this;for(;O>Pr||D>Pr;)O&Ht&&(H=H.add(Q)),D&Ht&&(V=V.add(Q)),Q=Q.double(),O>>=Ht,D>>=Ht;return R&&(H=H.negate()),U&&(V=V.negate()),V=new m(n.mul(V.px,_.beta),V.py,V.pz),H.add(V)}multiply(b){const{endo:_,n:S}=e;Jn("scalar",b,Ht,S);let v,R;if(_){const{k1neg:O,k1:U,k2neg:D,k2:H}=_.splitScalar(b);let{p:V,f:Q}=this.wNAF(U),{p:ne,f:oe}=this.wNAF(H);V=k.constTimeNegate(O,V),ne=k.constTimeNegate(D,ne),ne=new m(n.mul(ne.px,_.beta),ne.py,ne.pz),v=V.add(ne),R=Q.add(oe)}else{const{p:O,f:U}=this.wNAF(b);v=O,R=U}return m.normalizeZ([v,R])[0]}multiplyAndAddUnsafe(b,_,S){const v=m.BASE,R=(U,D)=>D===Pr||D===Ht||!U.equals(v)?U.multiplyUnsafe(D):U.multiply(D),O=R(this,_).add(R(b,S));return O.is0()?void 0:O}toAffine(b){return u(this,b)}isTorsionFree(){const{h:b,isTorsionFree:_}=e;if(b===Ht)return!0;if(_)return _(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:_}=e;return b===Ht?this:_?_(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return zr("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return zr("isCompressed",b),hs(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,k=mv(m,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function dA(t){const e=Z0(t);return No(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function hA(t){const e=dA(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(d){return rt(d,r)}function a(d){return xf(d,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=uA({...e,toBytes(d,y,E){const I=y.toAffine(),C=n.toBytes(I.x),B=fs;return zr("isCompressed",E),E?B(Uint8Array.from([y.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,n.toBytes(I.y))},fromBytes(d){const y=d.length,E=d[0],I=d.subarray(1);if(y===i&&(E===2||E===3)){const C=ns(I);if(!bu(C,Ht,n.ORDER))throw new Error("Point is not on curve");const B=u(C);let L;try{L=n.sqrt(B)}catch(j){const Z=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+Z)}const T=(L&Ht)===Ht;return(E&1)===1!==T&&(L=n.neg(L)),{x:C,y:L}}else if(y===s&&E===4){const C=n.fromBytes(I.subarray(0,n.BYTES)),B=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:C,y:B}}else{const C=i,B=s;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+B+", got "+y)}}}),m=d=>hs(po(d,e.nByteLength));function w(d){const y=r>>Ht;return d>y}function k(d){return w(d)?o(-d):d}const A=(d,y,E)=>ns(d.slice(y,E));class b{constructor(y,E,I){this.r=y,this.s=E,this.recovery=I,this.assertValidity()}static fromCompact(y){const E=e.nByteLength;return y=Lt("compactSignature",y,E*2),new b(A(y,0,E),A(y,E,2*E))}static fromDER(y){const{r:E,s:I}=Mr.toSig(Lt("DER",y));return new b(E,I)}assertValidity(){Jn("r",this.r,Ht,r),Jn("s",this.s,Ht,r)}addRecoveryBit(y){return new b(this.r,this.s,y)}recoverPublicKey(y){const{r:E,s:I,recovery:C}=this,B=U(Lt("msgHash",y));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const L=C===2||C===3?E+e.n:E;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=C&1?"03":"02",p=l.fromHex(T+m(L)),j=a(L),Z=o(-B*j),ee=o(I*j),te=l.BASE.multiplyAndAddUnsafe(p,Z,ee);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return fo(this.toDERHex())}toDERHex(){return Mr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return fo(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const _={isValidPrivateKey(d){try{return c(d),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const d=fv(e.n);return _k(e.randomBytes(d),e.n)},precompute(d=8,y=l.BASE){return y._setWindowSize(d),y.multiply(BigInt(3)),y}};function S(d,y=!0){return l.fromPrivateKey(d).toRawBytes(y)}function v(d){const y=ds(d),E=typeof d=="string",I=(y||E)&&d.length;return y?I===i||I===s:E?I===2*i||I===2*s:d instanceof l}function R(d,y,E=!0){if(v(d))throw new Error("first arg must be private key");if(!v(y))throw new Error("second arg must be public key");return l.fromHex(y).multiply(c(d)).toRawBytes(E)}const O=e.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const y=ns(d),E=d.length*8-e.nBitLength;return E>0?y>>BigInt(E):y},U=e.bits2int_modN||function(d){return o(O(d))},D=G0(e.nBitLength);function H(d){return Jn("num < 2^"+e.nBitLength,d,Pr,D),po(d,e.nByteLength)}function V(d,y,E=Q){if(["recovered","canonical"].some(pe=>pe in E))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:C}=e;let{lowS:B,prehash:L,extraEntropy:T}=E;B==null&&(B=!0),d=Lt("msgHash",d),xm(E),L&&(d=Lt("prehashed msgHash",I(d)));const p=U(d),j=c(y),Z=[H(j),H(p)];if(T!=null&&T!==!1){const pe=T===!0?C(n.BYTES):T;Z.push(Lt("extraEntropy",pe))}const ee=fs(...Z),te=p;function ve(pe){const ye=O(pe);if(!h(ye))return;const ht=a(ye),Ce=l.BASE.multiply(ye).toAffine(),Ae=o(Ce.x);if(Ae===Pr)return;const yt=o(ht*o(te+Ae*j));if(yt===Pr)return;let Te=(Ce.x===Ae?0:2)|Number(Ce.y&Ht),Pe=yt;return B&&w(yt)&&(Pe=k(yt),Te^=1),new b(Ae,Pe,Te)}return{seed:ee,k2sig:ve}}const Q={lowS:e.lowS,prehash:!1},ne={lowS:e.lowS,prehash:!1};function oe(d,y,E=Q){const{seed:I,k2sig:C}=V(d,y,E),B=e;return uv(B.hash.outputLen,B.nByteLength,B.hmac)(I,C)}l.BASE._setWindowSize(8);function P(d,y,E,I=ne){var Te;const C=d;y=Lt("msgHash",y),E=Lt("publicKey",E);const{lowS:B,prehash:L,format:T}=I;if(xm(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const p=typeof C=="string"||ds(C),j=!p&&!T&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!p&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,ee;try{if(j&&(Z=new b(C.r,C.s)),p){try{T!=="compact"&&(Z=b.fromDER(C))}catch(Pe){if(!(Pe instanceof Mr.Err))throw Pe}!Z&&T!=="der"&&(Z=b.fromCompact(C))}ee=l.fromHex(E)}catch{return!1}if(!Z||B&&Z.hasHighS())return!1;L&&(y=e.hash(y));const{r:te,s:ve}=Z,pe=U(y),ye=a(ve),ht=o(pe*ye),Ce=o(te*ye),Ae=(Te=l.BASE.multiplyAndAddUnsafe(ee,ht,Ce))==null?void 0:Te.toAffine();return Ae?o(Ae.x)===te:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:R,sign:oe,verify:P,ProjectivePoint:l,Signature:b,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fA(t){return{hash:t,hmac:(e,...n)=>ex(t,e,IE(...n)),randomBytes:ov}}function pA(t,e){const n=r=>hA({...t,...fA(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tx=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_m=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),gA=BigInt(1),Ef=BigInt(2),Sm=(t,e)=>(t+e/Ef)/e;function mA(t){const e=tx,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=ft(u,n,e)*u%e,m=ft(h,n,e)*u%e,w=ft(m,Ef,e)*c%e,k=ft(w,i,e)*w%e,A=ft(k,s,e)*k%e,b=ft(A,a,e)*A%e,_=ft(b,l,e)*b%e,S=ft(_,a,e)*A%e,v=ft(S,n,e)*u%e,R=ft(v,o,e)*k%e,O=ft(R,r,e)*c%e,U=ft(O,Ef,e);if(!kf.eql(kf.sqr(U),t))throw new Error("Cannot find square root");return U}const kf=_u(tx,void 0,void 0,{sqrt:mA}),hp=pA({a:BigInt(0),b:BigInt(7),Fp:kf,n:_m,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=_m,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-gA*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Sm(s*t,e),l=Sm(-r*t,e);let c=rt(t-a*n-l*i,e),u=rt(-a*r-l*s,e);const h=c>o,m=u>o;if(h&&(c=e-c),m&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:m,k2:u}}}},_f);BigInt(0);hp.ProjectivePoint;function Em(t){try{return J0.ExtendedPoint.fromHex(t),!0}catch{return!1}}const nx=(t,e)=>J0.sign(t,e.slice(0,32)),yA=J0.verify,mo=t=>be.Buffer.isBuffer(t)?t:t instanceof Uint8Array?be.Buffer.from(t.buffer,t.byteOffset,t.byteLength):be.Buffer.from(t);class wA{constructor(e){Object.assign(this,e)}encode(){return be.Buffer.from(kv(sc,this))}static decode(e){return Av(sc,this,e)}static decodeUnchecked(e){return xv(sc,this,e)}}const sc=new Map;var rx;const vA=32,Ii=32;function xA(t){return t._bn!==void 0}let km=1;class fe extends wA{constructor(e){if(super({}),this._bn=void 0,xA(e))this._bn=e._bn;else{if(typeof e=="string"){const n=tn.decode(e);if(n.length!=Ii)throw new Error("Invalid public key input");this._bn=new ym(n)}else this._bn=new ym(e);if(this._bn.byteLength()>Ii)throw new Error("Invalid public key input")}}static unique(){const e=new fe(km);return km+=1,new fe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return tn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(be.Buffer);if(e.length===Ii)return e;const n=be.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=be.Buffer.concat([e.toBuffer(),be.Buffer.from(n),r.toBuffer()]),s=_f(i);return new fe(s)}static createProgramAddressSync(e,n){let r=be.Buffer.alloc(0);e.forEach(function(s){if(s.length>vA)throw new TypeError("Max seed length exceeded");r=be.Buffer.concat([r,mo(s)])}),r=be.Buffer.concat([r,n.toBuffer(),be.Buffer.from("ProgramDerivedAddress")]);const i=_f(r);if(Em(i))throw new Error("Invalid seeds, address must fall off the curve");return new fe(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(be.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new fe(e);return Em(n.toBytes())}}rx=fe;fe.default=new rx("11111111111111111111111111111111");sc.set(fe,{kind:"struct",fields:[["_bn","u256"]]});new fe("BPFLoader1111111111111111111111111111111111");const no=1232,fp=127,za=64;class ix extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ix.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class sx extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(sx.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ea extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ea.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class zc{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Ie=(t="publicKey")=>Xe(32,t),bA=(t="signature")=>Xe(64,t),Ks=(t="string")=>{const e=le([de("length"),de("lengthPadding"),Xe(rs(de(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:be.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>de().span+de().span+be.Buffer.from(s,"utf8").length,i},_A=(t="authorized")=>le([Ie("staker"),Ie("withdrawer")],t),SA=(t="lockup")=>le([Ln("unixTimestamp"),Ln("epoch"),Ie("custodian")],t),EA=(t="voteInit")=>le([Ie("nodePubkey"),Ie("authorizedVoter"),Ie("authorizedWithdrawer"),De("commission")],t),kA=(t="voteAuthorizeWithSeedArgs")=>le([de("voteAuthorizationType"),Ie("currentAuthorityDerivedKeyOwnerPubkey"),Ks("currentAuthorityDerivedKeySeed"),Ie("newAuthorized")],t);function On(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Un(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function nt(t,e){if(!t)throw new Error(e||"Assertion failed")}class Nu{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Nu(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];nt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{nt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];nt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new fe(l)),...r.map(([l])=>new fe(l)),...i.map(([l])=>new fe(l)),...s.map(([l])=>new fe(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new fe(s),l=e.findIndex(c=>c.equals(a));l>=0&&(nt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const ox="Reached end of buffer unexpectedly";function Lr(t){if(t.length===0)throw new Error(ox);return t.shift()}function Dn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(ox);return t.splice(...e)}class Kr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new fe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:tn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new zc(this.staticAccountKeys)}static compile(e){const n=Nu.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new zc(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:tn.encode(a.data)}));return new Kr({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Un(n,e);const r=this.instructions.map(h=>{const{accounts:m,programIdIndex:w}=h,k=Array.from(tn.decode(h.data));let A=[];Un(A,m.length);let b=[];return Un(b,k.length),{programIdIndex:w,keyIndicesCount:be.Buffer.from(A),keyIndices:m,dataLength:be.Buffer.from(b),data:k}});let i=[];Un(i,r.length);let s=be.Buffer.alloc(no);be.Buffer.from(i).copy(s);let o=i.length;r.forEach(h=>{const w=le([De("programIdIndex"),Xe(h.keyIndicesCount.length,"keyIndicesCount"),hn(De("keyIndex"),h.keyIndices.length,"keyIndices"),Xe(h.dataLength.length,"dataLength"),hn(De("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=w}),s=s.slice(0,o);const a=le([Xe(1,"numRequiredSignatures"),Xe(1,"numReadonlySignedAccounts"),Xe(1,"numReadonlyUnsignedAccounts"),Xe(n.length,"keyCount"),hn(Ie("key"),e,"keys"),Ie("recentBlockhash")]),l={numRequiredSignatures:be.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:be.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:be.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:be.Buffer.from(n),keys:this.accountKeys.map(h=>mo(h.toBytes())),recentBlockhash:tn.decode(this.recentBlockhash)};let c=be.Buffer.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=Lr(n);if(r!==(r&fp))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Lr(n),s=Lr(n),o=On(n);let a=[];for(let m=0;m<o;m++){const w=Dn(n,0,Ii);a.push(new fe(be.Buffer.from(w)))}const l=Dn(n,0,Ii),c=On(n);let u=[];for(let m=0;m<c;m++){const w=Lr(n),k=On(n),A=Dn(n,0,k),b=On(n),_=Dn(n,0,b),S=tn.encode(be.Buffer.from(_));u.push({programIdIndex:w,accounts:A,data:S})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:tn.encode(be.Buffer.from(l)),accountKeys:a,instructions:u};return new Kr(h)}}class $a{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new zc(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Nu.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const h=n.extractTableLookup(u);if(h!==void 0){const[m,{writable:w,readonly:k}]=h;r.push(m),i.writable.push(...w),i.readonly.push(...k)}}const[o,a]=n.getMessageComponents(),c=new zc(a,i).compileInstructions(e.instructions);return new $a({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Un(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Un(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Un(s,this.addressTableLookups.length);const o=le([De("prefix"),le([De("numRequiredSignatures"),De("numReadonlySignedAccounts"),De("numReadonlyUnsignedAccounts")],"header"),Xe(e.length,"staticAccountKeysLength"),hn(Ie(),this.staticAccountKeys.length,"staticAccountKeys"),Ie("recentBlockhash"),Xe(r.length,"instructionsLength"),Xe(n.length,"serializedInstructions"),Xe(s.length,"addressTableLookupsLength"),Xe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(no),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:tn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(no);for(const r of this.compiledInstructions){const i=Array();Un(i,r.accountKeyIndexes.length);const s=Array();Un(s,r.data.length);const o=le([De("programIdIndex"),Xe(i.length,"encodedAccountKeyIndexesLength"),hn(De(),r.accountKeyIndexes.length,"accountKeyIndexes"),Xe(s.length,"encodedDataLength"),Xe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(no);for(const r of this.addressTableLookups){const i=Array();Un(i,r.writableIndexes.length);const s=Array();Un(s,r.readonlyIndexes.length);const o=le([Ie("accountKey"),Xe(i.length,"encodedWritableIndexesLength"),hn(De(),r.writableIndexes.length,"writableIndexes"),Xe(s.length,"encodedReadonlyIndexesLength"),hn(De(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Lr(n),i=r&fp;nt(r!==i,"Expected versioned message but received legacy message");const s=i;nt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Lr(n),numReadonlySignedAccounts:Lr(n),numReadonlyUnsignedAccounts:Lr(n)},a=[],l=On(n);for(let k=0;k<l;k++)a.push(new fe(Dn(n,0,Ii)));const c=tn.encode(Dn(n,0,Ii)),u=On(n),h=[];for(let k=0;k<u;k++){const A=Lr(n),b=On(n),_=Dn(n,0,b),S=On(n),v=new Uint8Array(Dn(n,0,S));h.push({programIdIndex:A,accountKeyIndexes:_,data:v})}const m=On(n),w=[];for(let k=0;k<m;k++){const A=new fe(Dn(n,0,Ii)),b=On(n),_=Dn(n,0,b),S=On(n),v=Dn(n,0,S);w.push({accountKey:A,writableIndexes:_,readonlyIndexes:v})}return new $a({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:w})}}const pp={deserializeMessageVersion(t){const e=t[0],n=e&fp;return n===e?"legacy":n},deserialize:t=>{const e=pp.deserializeMessageVersion(t);if(e==="legacy")return Kr.from(t);if(e===0)return $a.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ti=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const AA=be.Buffer.alloc(za).fill(0);class Am{constructor(e){this.keys=void 0,this.programId=void 0,this.data=be.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ur{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Am(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<n.length;A++)if(n[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);const i=[],s=[];n.forEach(A=>{A.keys.forEach(_=>{s.push({..._})});const b=A.programId.toString();i.includes(b)||i.push(b)}),i.forEach(A=>{s.push({pubkey:new fe(A),isSigner:!1,isWritable:!1})});const o=[];s.forEach(A=>{const b=A.pubkey.toString(),_=o.findIndex(S=>S.pubkey.toString()===b);_>-1?(o[_].isWritable=o[_].isWritable||A.isWritable,o[_].isSigner=o[_].isSigner||A.isSigner):o.push(A)}),o.sort(function(A,b){if(A.isSigner!==b.isSigner)return A.isSigner?-1:1;if(A.isWritable!==b.isWritable)return A.isWritable?-1:1;const _={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return A.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",_)});const a=o.findIndex(A=>A.pubkey.equals(r));if(a>-1){const[A]=o.splice(a,1);A.isSigner=!0,A.isWritable=!0,o.unshift(A)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const A of this.signatures){const b=o.findIndex(_=>_.pubkey.equals(A.publicKey));if(b>-1)o[b].isSigner||(o[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let l=0,c=0,u=0;const h=[],m=[];o.forEach(({pubkey:A,isSigner:b,isWritable:_})=>{b?(h.push(A.toString()),l+=1,_||(c+=1)):(m.push(A.toString()),_||(u+=1))});const w=h.concat(m),k=n.map(A=>{const{data:b,programId:_}=A;return{programIdIndex:w.indexOf(_.toString()),accounts:A.keys.map(S=>w.indexOf(S.pubkey.toString())),data:tn.encode(b)}});return k.forEach(A=>{nt(A.programIdIndex>=0),A.accounts.forEach(b=>nt(b>=0))}),new Kr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:w,recentBlockhash:e,instructions:k})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=nx(r,i.secretKey);this._addSignature(i.publicKey,mo(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){nt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=be.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):yA(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Un(r,n.length);const i=r.length+n.length*64+e.length,s=be.Buffer.alloc(i);return nt(n.length<256),be.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(nt(o.length===64,"signature has invalid length"),be.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),nt(s.length<=no,`Transaction too large: ${s.length} > ${no}`),s}get keys(){return nt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return nt(this.instructions.length===1),this.instructions[0].programId}get data(){return nt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=On(n);let i=[];for(let s=0;s<r;s++){const o=Dn(n,0,za);i.push(tn.encode(be.Buffer.from(o)))}return ur.populate(Kr.from(n),i)}static populate(e,n=[]){const r=new ur;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==tn.encode(AA)?null:tn.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Am({keys:s,programId:e.accountKeys[i.programIdIndex],data:tn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Wa{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)nt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(za));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Un(n,this.signatures.length);const r=le([Xe(n.length,"encodedSignaturesLength"),hn(bA(),this.signatures.length,"signatures"),Xe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=On(n);for(let o=0;o<i;o++)r.push(new Uint8Array(Dn(n,0,za)));const s=pp.deserialize(new Uint8Array(n));return new Wa(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));nt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=nx(n,i.secretKey)}}addSignature(e,n){nt(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));nt(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const CA=160,IA=64,NA=CA/IA,TA=1e3/NA;new fe("SysvarC1ock11111111111111111111111111111111");new fe("SysvarEpochSchedu1e111111111111111111111111");new fe("Sysvar1nstructions1111111111111111111111111");new fe("SysvarRecentB1ockHashes11111111111111111111");new fe("SysvarRent111111111111111111111111111111111");new fe("SysvarRewards111111111111111111111111111111");new fe("SysvarS1otHashes111111111111111111111111111");new fe("SysvarS1otHistory11111111111111111111111111");new fe("SysvarStakeHistory1111111111111111111111111");class Cm extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ue extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Bs(t){return new Promise(e=>setTimeout(e,t))}const RA=Yt("lamportsPerSignature"),ax=le([de("version"),de("state"),Ie("authorizedPubkey"),Ie("nonce"),le([RA],"feeCalculator")]);ax.span;class gp{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=ax.decode(mo(e),0);return new gp({authorizedPubkey:new fe(n.authorizedPubkey),nonce:new fe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const BA=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},MA=t=>e=>{const n=Xe(t,e),{encode:r,decode:i}=BA(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return y4(be.Buffer.from(l))},s.encode=(o,a,l)=>{const c=x4(o,t);return r(c,a,l)},s},yo=MA(8);Object.freeze({Create:{index:0,layout:le([de("instruction"),Ln("lamports"),Ln("space"),Ie("programId")])},Assign:{index:1,layout:le([de("instruction"),Ie("programId")])},Transfer:{index:2,layout:le([de("instruction"),yo("lamports")])},CreateWithSeed:{index:3,layout:le([de("instruction"),Ie("base"),Ks("seed"),Ln("lamports"),Ln("space"),Ie("programId")])},AdvanceNonceAccount:{index:4,layout:le([de("instruction")])},WithdrawNonceAccount:{index:5,layout:le([de("instruction"),Ln("lamports")])},InitializeNonceAccount:{index:6,layout:le([de("instruction"),Ie("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([de("instruction"),Ie("authorized")])},Allocate:{index:8,layout:le([de("instruction"),Ln("space")])},AllocateWithSeed:{index:9,layout:le([de("instruction"),Ie("base"),Ks("seed"),Ln("space"),Ie("programId")])},AssignWithSeed:{index:10,layout:le([de("instruction"),Ie("base"),Ks("seed"),Ie("programId")])},TransferWithSeed:{index:11,layout:le([de("instruction"),yo("lamports"),Ks("seed"),Ie("programId")])},UpgradeNonceAccount:{index:12,layout:le([de("instruction")])}});new fe("11111111111111111111111111111111");new fe("BPFLoader2111111111111111111111111111111111");function jA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qd,Im;function PA(){if(Im)return Qd;Im=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,l,c,u,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(h=t.call(r),h==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(h==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",s=0;s<o;)c=l[s],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Qd=function(r){var i=n(r,!1);if(i!==void 0)return""+i},Qd}var LA=PA(),Nm=jA(LA);const qo=32;function Xd(t){let e=0;for(;t>1;)t/=2,e++;return e}function OA(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class UA{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Xd(OA(e+qo+1))-Xd(qo)-1,r=this.getSlotsInEpoch(n),i=e-(r-qo);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*qo:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Xd(qo)):this.slotsPerEpoch}}var DA=globalThis.fetch;class FA extends oA{constructor(e,n,r){const i=s=>{const o=iA(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function zA(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const Tm=56;class Rm{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=zA($A,e),r=e.length-Tm;nt(r>=0,"lookup table is invalid"),nt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=le([hn(Ie(),i,"addresses")]).decode(e.slice(Tm));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new fe(n.authority[0]):void 0,addresses:s.map(o=>new fe(o))}}}const $A={index:1,layout:le([de("typeIndex"),yo("deactivationSlot"),Yt("lastExtendedSlot"),De("lastExtendedStartIndex"),De(),hn(Ie(),rs(De(),-1),"authority")])},WA=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function HA(t){const e=t.match(WA);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const dt=nl(up(fe),X(),t=>new fe(t)),lx=dp([X(),ot("base64")]),mp=nl(up(be.Buffer),lx,t=>be.Buffer.from(t[0],"base64")),qA=30*1e3;function KA(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Ke(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function Bm(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function cx(t){return wn([G({jsonrpc:ot("2.0"),id:X(),result:t}),G({jsonrpc:ot("2.0"),id:X(),error:G({code:Bo(),message:X(),data:he(I4())})})])}const VA=cx(Bo());function ke(t){return nl(cx(t),VA,e=>"error"in e?e:{...e,result:re(e.result,t)})}function gt(t){return ke(G({context:G({slot:W()}),value:t}))}function Tu(t){return G({context:G({slot:W()}),value:t})}function eh(t,e){return t===0?new $a({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new fe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:tn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Kr(e)}const GA=G({foundation:W(),foundationTerm:W(),initial:W(),taper:W(),terminal:W()}),ZA=ke(ie(se(G({epoch:W(),effectiveSlot:W(),amount:W(),postBalance:W(),commission:he(se(W()))})))),YA=ie(G({slot:W(),prioritizationFee:W()})),JA=G({total:W(),validator:W(),foundation:W(),epoch:W()}),QA=G({epoch:W(),slotIndex:W(),slotsInEpoch:W(),absoluteSlot:W(),blockHeight:he(W()),transactionCount:he(W())}),XA=G({slotsPerEpoch:W(),leaderScheduleSlotOffset:W(),warmup:Er(),firstNormalEpoch:W(),firstNormalSlot:W()}),e3=qv(X(),ie(W())),ws=se(wn([G({}),X()])),t3=G({err:ws}),n3=ot("receivedSignature"),r3=G({"solana-core":X(),"feature-set":he(W())}),i3=G({program:X(),programId:dt,parsed:Bo()}),s3=G({programId:dt,accounts:ie(dt),data:X()}),Mm=gt(G({err:se(wn([G({}),X()])),logs:se(ie(X())),accounts:he(se(ie(se(G({executable:Er(),owner:X(),lamports:W(),data:ie(X()),rentEpoch:he(W())}))))),unitsConsumed:he(W()),returnData:he(se(G({programId:X(),data:dp([X(),ot("base64")])}))),innerInstructions:he(se(ie(G({index:W(),instructions:ie(wn([i3,s3]))}))))})),o3=gt(G({byIdentity:qv(X(),ie(W())),range:G({firstSlot:W(),lastSlot:W()})}));function a3(t,e,n,r,i,s){const o=n||DA;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,h)=>{const m=await new Promise((w,k)=>{try{r(u,h,(A,b)=>w([A,b]))}catch(A){k(A)}});return await o(...m)}),new tA(async(u,h)=>{const m={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},aC)};try{let w=5,k,A=500;for(;l?k=await l(t,m):k=await o(t,m),!(k.status!==429||i===!0||(w-=1,w===0));)console.error(`Server responded with ${k.status} ${k.statusText}.  Retrying after ${A}ms delay...`),await Bs(A),A*=2;const b=await k.text();k.ok?h(null,b):h(new Error(`${k.status} ${k.statusText}: ${b}`))}catch(w){w instanceof Error&&h(w)}},{})}function l3(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function c3(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const u3=ke(GA),d3=ke(JA),h3=ke(YA),f3=ke(QA),p3=ke(XA),g3=ke(e3),m3=ke(W()),y3=gt(G({total:W(),circulating:W(),nonCirculating:W(),nonCirculatingAccounts:ie(dt)})),Af=G({amount:X(),uiAmount:se(W()),decimals:W(),uiAmountString:he(X())}),w3=gt(ie(G({address:dt,amount:X(),uiAmount:se(W()),decimals:W(),uiAmountString:he(X())}))),v3=gt(ie(G({pubkey:dt,account:G({executable:Er(),owner:dt,lamports:W(),data:mp,rentEpoch:W()})}))),Cf=G({program:X(),parsed:Bo(),space:W()}),x3=gt(ie(G({pubkey:dt,account:G({executable:Er(),owner:dt,lamports:W(),data:Cf,rentEpoch:W()})}))),b3=gt(ie(G({lamports:W(),address:dt}))),Ha=G({executable:Er(),owner:dt,lamports:W(),data:mp,rentEpoch:W()}),_3=G({pubkey:dt,account:Ha}),S3=nl(wn([up(be.Buffer),Cf]),wn([lx,Cf]),t=>Array.isArray(t)?re(t,mp):t),If=G({executable:Er(),owner:dt,lamports:W(),data:S3,rentEpoch:W()}),E3=G({pubkey:dt,account:If}),k3=G({state:wn([ot("active"),ot("inactive"),ot("activating"),ot("deactivating")]),active:W(),inactive:W()}),A3=ke(ie(G({signature:X(),slot:W(),err:ws,memo:se(X()),blockTime:he(se(W()))}))),C3=ke(ie(G({signature:X(),slot:W(),err:ws,memo:se(X()),blockTime:he(se(W()))}))),I3=G({subscription:W(),result:Tu(Ha)}),N3=G({pubkey:dt,account:Ha}),T3=G({subscription:W(),result:Tu(N3)}),R3=G({parent:W(),slot:W(),root:W()}),B3=G({subscription:W(),result:R3}),M3=wn([G({type:wn([ot("firstShredReceived"),ot("completed"),ot("optimisticConfirmation"),ot("root")]),slot:W(),timestamp:W()}),G({type:ot("createdBank"),parent:W(),slot:W(),timestamp:W()}),G({type:ot("frozen"),slot:W(),timestamp:W(),stats:G({numTransactionEntries:W(),numSuccessfulTransactions:W(),numFailedTransactions:W(),maxTransactionsPerEntry:W()})}),G({type:ot("dead"),slot:W(),timestamp:W(),err:X()})]),j3=G({subscription:W(),result:M3}),P3=G({subscription:W(),result:Tu(wn([t3,n3]))}),L3=G({subscription:W(),result:W()}),O3=G({pubkey:X(),gossip:se(X()),tpu:se(X()),rpc:se(X()),version:se(X())}),jm=G({votePubkey:X(),nodePubkey:X(),activatedStake:W(),epochVoteAccount:Er(),epochCredits:ie(dp([W(),W(),W()])),commission:W(),lastVote:W(),rootSlot:se(W())}),U3=ke(G({current:ie(jm),delinquent:ie(jm)})),D3=wn([ot("processed"),ot("confirmed"),ot("finalized")]),F3=G({slot:W(),confirmations:se(W()),err:ws,confirmationStatus:he(D3)}),z3=gt(ie(se(F3))),$3=ke(W()),ux=G({accountKey:dt,writableIndexes:ie(W()),readonlyIndexes:ie(W())}),yp=G({signatures:ie(X()),message:G({accountKeys:ie(X()),header:G({numRequiredSignatures:W(),numReadonlySignedAccounts:W(),numReadonlyUnsignedAccounts:W()}),instructions:ie(G({accounts:ie(W()),data:X(),programIdIndex:W()})),recentBlockhash:X(),addressTableLookups:he(ie(ux))})}),dx=G({pubkey:dt,signer:Er(),writable:Er(),source:he(wn([ot("transaction"),ot("lookupTable")]))}),hx=G({accountKeys:ie(dx),signatures:ie(X())}),fx=G({parsed:Bo(),program:X(),programId:dt}),px=G({accounts:ie(dt),data:X(),programId:dt}),W3=wn([px,fx]),H3=wn([G({parsed:Bo(),program:X(),programId:X()}),G({accounts:ie(X()),data:X(),programId:X()})]),gx=nl(W3,H3,t=>"accounts"in t?re(t,px):re(t,fx)),mx=G({signatures:ie(X()),message:G({accountKeys:ie(dx),instructions:ie(gx),recentBlockhash:X(),addressTableLookups:he(se(ie(ux)))})}),$c=G({accountIndex:W(),mint:X(),owner:he(X()),programId:he(X()),uiTokenAmount:Af}),yx=G({writable:ie(dt),readonly:ie(dt)}),Ru=G({err:ws,fee:W(),innerInstructions:he(se(ie(G({index:W(),instructions:ie(G({accounts:ie(W()),data:X(),programIdIndex:W()}))})))),preBalances:ie(W()),postBalances:ie(W()),logMessages:he(se(ie(X()))),preTokenBalances:he(se(ie($c))),postTokenBalances:he(se(ie($c))),loadedAddresses:he(yx),computeUnitsConsumed:he(W())}),wp=G({err:ws,fee:W(),innerInstructions:he(se(ie(G({index:W(),instructions:ie(gx)})))),preBalances:ie(W()),postBalances:ie(W()),logMessages:he(se(ie(X()))),preTokenBalances:he(se(ie($c))),postTokenBalances:he(se(ie($c))),loadedAddresses:he(yx),computeUnitsConsumed:he(W())}),Mo=wn([ot(0),ot("legacy")]),vs=G({pubkey:X(),lamports:W(),postBalance:se(W()),rewardType:se(X()),commission:he(se(W()))}),q3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),transactions:ie(G({transaction:yp,meta:se(Ru),version:he(Mo)})),rewards:he(ie(vs)),blockTime:se(W()),blockHeight:se(W())}))),K3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),rewards:he(ie(vs)),blockTime:se(W()),blockHeight:se(W())}))),V3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),transactions:ie(G({transaction:hx,meta:se(Ru),version:he(Mo)})),rewards:he(ie(vs)),blockTime:se(W()),blockHeight:se(W())}))),G3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),transactions:ie(G({transaction:mx,meta:se(wp),version:he(Mo)})),rewards:he(ie(vs)),blockTime:se(W()),blockHeight:se(W())}))),Z3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),transactions:ie(G({transaction:hx,meta:se(wp),version:he(Mo)})),rewards:he(ie(vs)),blockTime:se(W()),blockHeight:se(W())}))),Y3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),rewards:he(ie(vs)),blockTime:se(W()),blockHeight:se(W())}))),J3=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),transactions:ie(G({transaction:yp,meta:se(Ru)})),rewards:he(ie(vs)),blockTime:se(W())}))),Pm=ke(se(G({blockhash:X(),previousBlockhash:X(),parentSlot:W(),signatures:ie(X()),blockTime:se(W())}))),th=ke(se(G({slot:W(),meta:se(Ru),blockTime:he(se(W())),transaction:yp,version:he(Mo)}))),Tl=ke(se(G({slot:W(),transaction:mx,meta:se(wp),blockTime:he(se(W())),version:he(Mo)}))),Q3=gt(G({blockhash:X(),lastValidBlockHeight:W()})),X3=gt(Er()),eC=G({slot:W(),numTransactions:W(),numSlots:W(),samplePeriodSecs:W()}),tC=ke(ie(eC)),nC=gt(se(G({feeCalculator:G({lamportsPerSignature:W()})}))),rC=ke(X()),iC=ke(X()),sC=G({err:ws,logs:ie(X()),signature:X()}),oC=G({result:Tu(sC),subscription:W()}),aC={"solana-client":"js/1.0.0-maintenance"};class lC{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:h,config:m}=Ke(u),w=this._buildArgs([],h,void 0,m),k=Nm(w);return c[k]=c[k]??(async()=>{try{const A=await this._rpcRequest("getBlockHeight",w),b=re(A,ke(W()));if("error"in b)throw new ue(b.error,"failed to get block height information");return b.result}finally{delete c[k]}})(),await c[k]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=KA(e),this._rpcWsEndpoint=r||HA(e),this._rpcClient=a3(e,i,s,o,a,l),this._rpcRequest=l3(this._rpcClient),this._rpcBatchRequest=c3(this._rpcClient),this._rpcWebSocket=new FA(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=re(o,gt(W()));if("error"in a)throw new ue(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=re(n,ke(se(W())));if("error"in r)throw new ue(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=re(e,ke(W()));if("error"in n)throw new ue(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=re(e,m3);if("error"in n)throw new ue(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=re(r,y3);if("error"in i)throw new ue(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=re(i,gt(Af));if("error"in s)throw new ue(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=re(i,gt(Af));if("error"in s)throw new ue(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=Ke(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=re(l,v3);if("error"in c)throw new ue(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=re(o,x3);if("error"in a)throw new ue(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=re(i,b3);if("error"in s)throw new ue(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=re(i,w3);if("error"in s)throw new ue(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=re(o,gt(se(Ha)));if("error"in a)throw new ue(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=re(o,gt(se(If)));if("error"in a)throw new ue(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=Ke(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=re(a,gt(ie(se(If))));if("error"in l)throw new ue(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=Ke(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=re(a,gt(ie(se(Ha))));if("error"in l)throw new ue(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=Ke(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=re(a,ke(k3));if("error"in l)throw new ue(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=Ke(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:Bm(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=ie(_3),u=o.withContext===!0?re(l,gt(c)):re(l,ke(c));if("error"in u)throw new ue(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=re(o,ke(ie(E3)));if("error"in a)throw new ue(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=tn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return nt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(h,m)=>{r=void 0;const w={context:m,value:h};l({__type:ti.PROCESSED,response:w})},e);const u=new Promise(h=>{r==null?h():i=this._onSubscriptionStateChange(r,m=>{m==="subscribed"&&h()})});(async()=>{if(await u,s)return;const h=await this.getSignatureStatus(n);if(s||h==null)return;const{context:m,value:w}=h;if(w!=null)if(w!=null&&w.err)c(w.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(w.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(w.confirmationStatus==="processed"||w.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:ti.PROCESSED,response:{context:m,value:w}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(h=>{const m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let w=await m();if(!s){for(;w<=r;)if(await Bs(1e3),s||(w=await m(),s))return;h({__type:ti.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let u;try{const h=await Promise.race([c,l,o]);if(h.__type===ti.PROCESSED)u=h.response;else throw new ix(i)}finally{s=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(w=>{let k=s,A=null;const b=async()=>{try{const{context:_,value:S}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return A=_.slot,S==null?void 0:S.nonce}catch{return k}};(async()=>{if(k=await b(),!a)for(;;){if(s!==k){w({__type:ti.NONCE_INVALID,slotInWhichNonceDidAdvance:A});return}if(await Bs(2e3),a||(k=await b(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(n);let m;try{const w=await Promise.race([h,u,l]);if(w.__type===ti.PROCESSED)m=w.response;else{let k;for(;;){const A=await this.getSignatureStatus(o);if(A==null)break;if(A.context.slot<(w.slotInWhichNonceDidAdvance??r)){await Bs(400);continue}k=A;break}if(k!=null&&k.value){const A=e||"finalized",{confirmationStatus:b}=k.value;switch(A){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new ea(o);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new ea(o);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new ea(o);break;default:}m={context:k.context,value:{err:k.value.err}}}else throw new ea(o)}}finally{a=!0,c()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:ti.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===ti.PROCESSED)a=l.response;else throw new sx(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=re(e,ke(ie(O3)));if("error"in n)throw new ue(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=re(r,U3);if("error"in i)throw new ue(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=Ke(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=re(s,ke(W()));if("error"in o)throw new ue(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=Ke(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=re(s,ke(X()));if("error"in o)throw new ue(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=re(i,ke(ie(dt)));if("error"in s)throw new ue(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);nt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=re(i,z3);if("error"in s)throw new ue(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=Ke(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=re(s,ke(W()));if("error"in o)throw new ue(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=re(r,u3);if("error"in i)throw new ue(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=Ke(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=re(a,ZA);if("error"in l)throw new ue(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=re(e,d3);if("error"in n)throw new ue(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Ke(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=re(s,f3);if("error"in o)throw new ue(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=re(e,p3);if("error"in n)throw new ue(n.error,"failed to get epoch schedule");const r=n.result;return new UA(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=re(e,g3);if("error"in n)throw new ue(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=re(i,$3);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=re(n,tC);if("error"in r)throw new ue(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=re(i,nC);if("error"in s)throw new ue(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=mo(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=re(s,gt(se(W())));if("error"in o)throw new ue(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=re(i,h3);if("error"in s)throw new ue(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Ke(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=re(s,Q3);if("error"in o)throw new ue(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=re(o,X3);if("error"in a)throw new ue(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=re(e,ke(r3));if("error"in n)throw new ue(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=re(e,ke(X()));if("error"in n)throw new ue(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=re(o,V3);if("error"in a)throw a.error;return a.result}case"none":{const a=re(o,K3);if("error"in a)throw a.error;return a.result}default:{const a=re(o,q3);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:h})=>({meta:u,transaction:{...c,message:eh(h,c.message)},version:h}))}:null}}}catch(a){throw new ue(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=re(o,Z3);if("error"in a)throw a.error;return a.result}case"none":{const a=re(o,Y3);if("error"in a)throw a.error;return a.result}default:{const a=re(o,G3);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ue(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=re(s,o3);if("error"in o)throw new ue(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=re(o,th);if("error"in a)throw new ue(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:eh(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=Ke(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=re(o,Tl);if("error"in a)throw new ue(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=Ke(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=re(l,Tl);if("error"in c)throw new ue(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=Ke(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=re(l,th);if("error"in c)throw new ue(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:eh(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=re(i,J3);if("error"in s)throw new ue(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new Kr(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:ur.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=re(s,ke(ie(W())));if("error"in o)throw new ue(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=re(i,Pm);if("error"in s)throw new ue(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=re(i,Pm);if("error"in s)throw new ue(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=re(i,th);if("error"in s)throw new ue(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Kr(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:ur.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=re(i,Tl);if("error"in s)throw new ue(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=re(o,Tl);if("error"in a)throw new ue(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=re(s,A3);if("error"in o)throw new ue(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=re(s,C3);if("error"in o)throw new ue(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new Rm({key:e,state:Rm.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=gp.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=re(r,rC);if("error"in i)throw new ue(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Bs(100);const r=Date.now()-this._blockhashInfo.lastFetch>=qA;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Bs(TA/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Ke(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=re(s,gt(W()));if("error"in o)throw new ue(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const A=e.serialize(),b=be.Buffer.from(A).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const _=n||{};_.encoding="base64","commitment"in _||(_.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(_.innerInstructions=n.innerInstructions);const S=[b,_],v=await this._rpcRequest("simulateTransaction",S),R=re(v,Mm);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(e instanceof ur){let k=e;i=new ur,i.feePayer=k.feePayer,i.instructions=e.instructions,i.nonceInfo=k.nonceInfo,i.signatures=k.signatures}else i=ur.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let k=this._disableBlockhashCaching;for(;;){const A=await this._blockhashWithExpiryBlockHeight(k);if(i.lastValidBlockHeight=A.lastValidBlockHeight,i.recentBlockhash=A.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const b=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else k=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const k=(Array.isArray(r)?r:o.nonProgramIds()).map(A=>A.toBase58());u.accounts={encoding:"base64",addresses:k}}s&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const h=[c,u],m=await this._rpcRequest("simulateTransaction",h),w=re(m,Mm);if("error"in w){let k;if("data"in w.error&&(k=w.error.data.logs,k&&Array.isArray(k))){const A=`
    `,b=A+k.join(A);console.error(w.error.message,b)}throw new Cm({action:"simulate",signature:"",transactionMessage:w.error.message,logs:k})}return w.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=mo(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=re(a,iC);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new Cm({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=re(e,I3);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=Nm([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];nt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=Ke(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=re(e,T3);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=Ke(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:Bm(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=re(e,oC);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=re(e,B3);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=re(e,j3);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=re(e,P3);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=re(e,L3);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:le([de("instruction"),yo("recentSlot"),De("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([de("instruction")])},ExtendLookupTable:{index:2,layout:le([de("instruction"),yo(),hn(Ie(),rs(de(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([de("instruction")])},CloseLookupTable:{index:4,layout:le([de("instruction")])}});new fe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([De("instruction"),de("units"),de("additionalFee")])},RequestHeapFrame:{index:1,layout:le([De("instruction"),de("bytes")])},SetComputeUnitLimit:{index:2,layout:le([De("instruction"),de("units")])},SetComputeUnitPrice:{index:3,layout:le([De("instruction"),yo("microLamports")])}});new fe("ComputeBudget111111111111111111111111111111");le([De("numSignatures"),De("padding"),Gn("signatureOffset"),Gn("signatureInstructionIndex"),Gn("publicKeyOffset"),Gn("publicKeyInstructionIndex"),Gn("messageDataOffset"),Gn("messageDataSize"),Gn("messageInstructionIndex")]);new fe("Ed25519SigVerify111111111111111111111111111");hp.utils.isValidPrivateKey;hp.getPublicKey;le([De("numSignatures"),Gn("signatureOffset"),De("signatureInstructionIndex"),Gn("ethAddressOffset"),De("ethAddressInstructionIndex"),Gn("messageDataOffset"),Gn("messageDataSize"),De("messageInstructionIndex"),Xe(20,"ethAddress"),Xe(64,"signature"),De("recoveryId")]);new fe("KeccakSecp256k11111111111111111111111111111");var wx;new fe("StakeConfig11111111111111111111111111111111");class vx{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}wx=vx;vx.default=new wx(0,0,fe.default);Object.freeze({Initialize:{index:0,layout:le([de("instruction"),_A(),SA()])},Authorize:{index:1,layout:le([de("instruction"),Ie("newAuthorized"),de("stakeAuthorizationType")])},Delegate:{index:2,layout:le([de("instruction")])},Split:{index:3,layout:le([de("instruction"),Ln("lamports")])},Withdraw:{index:4,layout:le([de("instruction"),Ln("lamports")])},Deactivate:{index:5,layout:le([de("instruction")])},Merge:{index:7,layout:le([de("instruction")])},AuthorizeWithSeed:{index:8,layout:le([de("instruction"),Ie("newAuthorized"),de("stakeAuthorizationType"),Ks("authoritySeed"),Ie("authorityOwner")])}});new fe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([de("instruction"),EA()])},Authorize:{index:1,layout:le([de("instruction"),Ie("newAuthorized"),de("voteAuthorizationType")])},Withdraw:{index:3,layout:le([de("instruction"),Ln("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([de("instruction")])},AuthorizeWithSeed:{index:10,layout:le([de("instruction"),kA()])}});new fe("Vote111111111111111111111111111111111111111");new fe("Va1idator1nfo111111111111111111111111111111");G({name:X(),website:he(X()),details:he(X()),iconUrl:he(X()),keybaseUsername:he(X())});new fe("Vote111111111111111111111111111111111111111");le([Ie("nodePubkey"),Ie("authorizedWithdrawer"),De("commission"),Yt(),hn(le([Yt("slot"),de("confirmationCount")]),rs(de(),-8),"votes"),De("rootSlotValid"),Yt("rootSlot"),Yt(),hn(le([Yt("epoch"),Ie("authorizedVoter")]),rs(de(),-8),"authorizedVoters"),le([hn(le([Ie("authorizedPubkey"),Yt("epochOfLastAuthorizedSwitch"),Yt("targetEpoch")]),32,"buf"),Yt("idx"),De("isEmpty")],"priorVoters"),Yt(),hn(le([Yt("epoch"),Yt("credits"),Yt("prevCredits")]),rs(de(),-8),"epochCredits"),le([Yt("slot"),Yt("timestamp")],"lastTimestamp")]);const Lm={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function cC(t,e){const n="https";if(!t)return Lm[n].devnet;const r=Lm[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}const xx=z.createContext({});function uC(){return z.useContext(xx)}const dC=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=z.useMemo(()=>new lC(e,n),[e,n]);return Y.createElement(xx.Provider,{value:{connection:r}},t)};var bx={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var w=new i(u,h||l,m),k=n?n+c:c;return l._events[k]?l._events[k].fn?l._events[k]=[l._events[k],w]:l._events[k].push(w):(l._events[k]=w,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,w=h.length,k=new Array(w);m<w;m++)k[m]=h[m].fn;return k},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,m,w,k){var A=n?n+c:c;if(!this._events[A])return!1;var b=this._events[A],_=arguments.length,S,v;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,h),!0;case 4:return b.fn.call(b.context,u,h,m),!0;case 5:return b.fn.call(b.context,u,h,m,w),!0;case 6:return b.fn.call(b.context,u,h,m,w,k),!0}for(v=1,S=new Array(_-1);v<_;v++)S[v-1]=arguments[v];b.fn.apply(b.context,S)}else{var R=b.length,O;for(v=0;v<R;v++)switch(b[v].once&&this.removeListener(c,b[v].fn,void 0,!0),_){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,u);break;case 3:b[v].fn.call(b[v].context,u,h);break;case 4:b[v].fn.call(b[v].context,u,h,m);break;default:if(!S)for(O=1,S=new Array(_-1);O<_;O++)S[O-1]=arguments[O];b[v].fn.apply(b[v].context,S)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,m){var w=n?n+c:c;if(!this._events[w])return this;if(!u)return o(this,w),this;var k=this._events[w];if(k.fn)k.fn===u&&(!m||k.once)&&(!h||k.context===h)&&o(this,w);else{for(var A=0,b=[],_=k.length;A<_;A++)(k[A].fn!==u||m&&!k[A].once||h&&k[A].context!==h)&&b.push(k[A]);b.length?this._events[w]=b.length===1?b[0]:b:o(this,w)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(bx);var hC=bx.exports;const fC=Ri(hC);class pn extends Error{constructor(e,n){super(e),this.error=n}}class is extends pn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class ta extends pn{constructor(){super(...arguments),this.name="WalletConfigError"}}class Vs extends pn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class vp extends pn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class _x extends pn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Zi extends pn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Wc extends pn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Nn extends pn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class yi extends pn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Dr extends pn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class xp extends pn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Om extends pn{constructor(){super(...arguments),this.name="WalletSignInError"}}var Me;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Me||(Me={}));class Sx extends fC{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new Nn;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function pC(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const s of e)s()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function gC(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function wi(t){return"version"in t}class mC extends Sx{async sendTransaction(e,n,r={}){let i=!0;try{if(wi(e)){if(!this.supportedTransactionVersions)throw new yi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new yi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof Dr?(i=!1,s):new yi(s==null?void 0:s.message,s)}}else try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof Dr?(i=!1,s):new yi(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(wi(r)){if(!this.supportedTransactionVersions)throw new Dr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Dr(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Ex extends mC{}class yC extends Ex{}const ui="solana:signAndSendTransaction",nh="solana:signIn",Ko="solana:signMessage",Qt="solana:signTransaction",kx="standard:connect",Um="standard:disconnect",Ax="standard:events";function wC(t){return kx in t.features&&Ax in t.features&&(ui in t.features||Qt in t.features)}class Dm extends pn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const vC=[],Bu={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){or("call","select")},connect(){return Promise.reject(or("call","connect"))},disconnect(){return Promise.reject(or("call","disconnect"))},sendTransaction(){return Promise.reject(or("call","sendTransaction"))},signTransaction(){return Promise.reject(or("call","signTransaction"))},signAllTransactions(){return Promise.reject(or("call","signAllTransactions"))},signMessage(){return Promise.reject(or("call","signMessage"))},signIn(){return Promise.reject(or("call","signIn"))}};Object.defineProperty(Bu,"wallets",{get(){return or("read","wallets"),vC}});Object.defineProperty(Bu,"wallet",{get(){return or("read","wallet"),null}});Object.defineProperty(Bu,"publicKey",{get(){return or("read","publicKey"),null}});function or(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const Cx=z.createContext(Bu);function xs(){return z.useContext(Cx)}function xC(t,e){const n=z.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=n[0],i=z.useRef(!0);return z.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,t]),n}function rh(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Fm="solana:mainnet",bC="solana:devnet",_C="solana:testnet",SC="solana:localnet",EC="https://api.mainnet-beta.solana.com";function kC(t){return t.includes(EC)?Fm:/\bdevnet\b/i.test(t)?bC:/\btestnet\b/i.test(t)?_C:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?SC:Fm}function AC(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Vr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Gr extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class Ix extends Error{constructor(...e){const[n,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ot(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function ih(t,e){return Ot(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function CC(t){return window.btoa(t)}function IC(t){return AC(t)}function NC(t){return CC(IC(t))}const TC="solana:signTransactions",zm="solana:cloneAuthorization";function RC(t,e){return new Proxy({},{get(n,r){return n[r]==null&&(n[r]=function(i){return Ot(this,void 0,void 0,function*(){const{method:s,params:o}=BC(r,i,t),a=yield e(s,o);return s==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield jC(o.sign_in_payload,a,e)),MC(r,a,t)})}),n[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function BC(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:s}=r;if(n==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=r.cluster}r.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}r.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=r;if(s)switch(n){case"legacy":{i="reauthorize",r={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function MC(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[TC];return r.supports_clone_authorization===!0&&i.push(zm),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(zm)})}}}return e}function jC(t,e,n){var r;return Ot(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,s=e.accounts[0].address,o=NC(Object.assign(Object.assign({},t),{domain:i,address:s})),a=yield n("sign_messages",{addresses:[s],payloads:[o]});return{address:s,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const Yi=4;function PC(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Yi);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Nf=12,Nx=65;function LC(t,e,n){return Ot(this,void 0,void 0,function*(){const r=PC(e),i=new Uint8Array(Nf);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(Rx(r,i),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function Tx(t,e){return Ot(this,void 0,void 0,function*(){const n=t.slice(0,Yi),r=t.slice(Yi,Yi+Nf),i=t.slice(Yi+Nf),s=yield crypto.subtle.decrypt(Rx(n,r),e,i);return OC().decode(s)})}function Rx(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let sh;function OC(){return sh===void 0&&(sh=new TextDecoder("utf-8")),sh}function UC(){return Ot(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function oh(){return Ot(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function DC(t,e){return Ot(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return LC(n,r,e)})}function FC(t,e){return Ot(this,void 0,void 0,function*(){const n=yield Tx(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Ix(r.id,r.error.code,r.error.message);return r})}function zC(t,e,n){return Ot(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,Nx),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function $C(t,e){return Ot(this,void 0,void 0,function*(){const n=yield Tx(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Gr(Vr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}function WC(){return Bx(49152+Math.floor(Math.random()*16384))}function Bx(t){if(t<49152||t>65535)throw new Gr(Vr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function HC(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function qC(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const KC="solana-wallet";function $m(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function VC(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Gr(Vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${KC}:/`));const r=t.startsWith("/")?t:[...$m(n.pathname),...$m(t)].join("/");return new URL(r,n)}function GC(t,e,n,r=["v1"]){return Ot(this,void 0,void 0,function*(){const i=Bx(e),s=yield crypto.subtle.exportKey("raw",t),o=HC(s),a=VC("v1/associate/local",n);return a.searchParams.set("association",qC(o)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}const Hc={Firefox:0,Other:1};function ZC(){return navigator.userAgent.indexOf("Firefox/")!==-1?Hc.Firefox:Hc.Other}function YC(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},2e3)})}let Vo=null;function JC(t){Vo==null&&(Vo=document.createElement("iframe"),Vo.style.display="none",document.body.appendChild(Vo)),Vo.contentWindow.location.href=t.toString()}function QC(t){return Ot(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=ZC();switch(e){case Hc.Firefox:JC(t);break;case Hc.Other:{const n=YC();window.location.assign(t),yield n;break}default:}}catch{throw new Gr(Vr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function XC(t,e){return Ot(this,void 0,void 0,function*(){const n=WC(),r=yield GC(t,n,e);return yield QC(r),n})}const Wm={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},eI="com.solana.mobilewalletadapter.v1";function tI(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Gr(Vr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function nI(t){let e;try{e=new URL(t)}catch{throw new Gr(Vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Gr(Vr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Hm(t){return new DataView(t).getUint32(0,!1)}function rI(t,e){return Ot(this,void 0,void 0,function*(){tI();const n=yield UC(),i=`ws://localhost:${yield XC(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let s;const o=(()=>{const u=[...Wm.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((u,h)=>{let m;const w={},k=()=>Ot(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}m.removeEventListener("open",k);const{associationKeypair:O}=c,U=yield oh();m.send(yield ih(U.publicKey,O.privateKey)),c={__type:"hello_req_sent",associationPublicKey:O.publicKey,ecdhPrivateKey:U.privateKey}}),A=O=>{O.wasClean?c={__type:"disconnected"}:h(new Gr(Vr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${O.code}: ${O.reason}).`,{closeEvent:O})),S()},b=O=>Ot(this,void 0,void 0,function*(){S(),Date.now()-s>=Wm.timeoutMs?h(new Gr(Vr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(U=>{const D=o();v=window.setTimeout(U,D)}),R())}),_=O=>Ot(this,void 0,void 0,function*(){const U=yield O.data.arrayBuffer();switch(c.__type){case"connecting":if(U.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const D=yield oh();m.send(yield ih(D.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:D.privateKey};break;case"connected":try{const H=U.slice(0,Yi),V=Hm(H);if(V!==l+1)throw new Error("Encrypted message has invalid sequence number");l=V;const Q=yield FC(U,c.sharedSecret),ne=w[Q.id];delete w[Q.id],ne.resolve(Q.result)}catch(H){if(H instanceof Ix){const V=w[H.jsonRpcMessageId];delete w[H.jsonRpcMessageId],V.reject(H)}else throw H}break;case"hello_req_sent":{if(U.byteLength===0){const oe=yield oh();m.send(yield ih(oe.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:oe.privateKey};break}const H=yield zC(U,c.associationPublicKey,c.ecdhPrivateKey),V=U.slice(Nx),Q=V.byteLength!==0?yield Ot(this,void 0,void 0,function*(){const oe=V.slice(0,Yi),P=Hm(oe);if(P!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=P,$C(V,H)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:H,sessionProperties:Q};const ne=RC(Q.protocol_version,(oe,P)=>Ot(this,void 0,void 0,function*(){const d=a++;return m.send(yield DC({id:d,jsonrpc:"2.0",method:oe,params:P??{}},H)),new Promise((y,E)=>{w[d]={resolve(I){switch(oe){case"authorize":case"reauthorize":{const{wallet_uri_base:C}=I;if(C!=null)try{nI(C)}catch(B){E(B);return}break}}y(I)},reject:E}})}));try{u(yield t(ne))}catch(oe){h(oe)}finally{S(),m.close()}break}}});let S,v;const R=()=>{S&&S(),c={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),m=new WebSocket(i,[eI]),m.addEventListener("open",k),m.addEventListener("close",A),m.addEventListener("error",b),m.addEventListener("message",_),S=()=>{window.clearTimeout(v),m.removeEventListener("open",k),m.removeEventListener("close",A),m.removeEventListener("error",b),m.removeEventListener("message",_)}};R()})})}function iI(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var k=0,A=0,b=0,_=w.length;b!==_&&w[b]===0;)b++,k++;for(var S=(_-b)*c+1>>>0,v=new Uint8Array(S);b!==_;){for(var R=w[b],O=0,U=S-1;(R!==0||O<A)&&U!==-1;U--,O++)R+=256*v[U]>>>0,v[U]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,b++}for(var D=S-A;D!==S&&v[D]===0;)D++;for(var H=a.repeat(k);D<S;++D)H+=t.charAt(v[D]);return H}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var k=0,A=0,b=0;w[k]===a;)A++,k++;for(var _=(w.length-k)*l+1>>>0,S=new Uint8Array(_);w[k];){var v=e[w.charCodeAt(k)];if(v===255)return;for(var R=0,O=_-1;(v!==0||R<b)&&O!==-1;O--,R++)v+=o*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=R,k++}for(var U=_-b;U!==_&&S[U]===0;)U++;for(var D=new Uint8Array(A+(_-U)),H=A;U!==_;)D[H++]=S[U++];return D}function m(w){var k=h(w);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:m}}var sI=iI;const oI=sI,aI="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var lI=oI(aI);const cI=Ri(lI);function ah(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rl(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Mx(t){return window.btoa(String.fromCharCode.call(null,...t))}function lh(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function qm(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return Mx(e)}function uI(t){const n=t[0]*za+1;return pp.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?ur.from(t):Wa.deserialize(t)}function dI(t,e){return Rl(this,void 0,void 0,function*(){return yield rI(r=>{const i=new Proxy({},{get(s,o){if(s[o]==null)switch(o){case"signAndSendTransactions":s[o]=function(a){var{minContextSlot:l,commitment:c,skipPreflight:u,maxRetries:h,waitForCommitmentToSendNextTransaction:m,transactions:w}=a,k=ah(a,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Rl(this,void 0,void 0,function*(){const A=w.map(qm),b={min_context_slot:l,commitment:c,skip_preflight:u,max_retries:h,wait_for_commitment_to_send_next_transaction:m},{signatures:_}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},k),Object.values(b).some(v=>v!=null)?{options:b}:null),{payloads:A}));return _.map(lh).map(cI.encode)})};break;case"signMessages":s[o]=function(a){var{payloads:l}=a,c=ah(a,["payloads"]);return Rl(this,void 0,void 0,function*(){const u=l.map(Mx),{signed_payloads:h}=yield r.signMessages(Object.assign(Object.assign({},c),{payloads:u}));return h.map(lh)})};break;case"signTransactions":s[o]=function(a){var{transactions:l}=a,c=ah(a,["transactions"]);return Rl(this,void 0,void 0,function*(){const u=l.map(qm),{signed_payloads:h}=yield r.signTransactions(Object.assign(Object.assign({},c),{payloads:u}));return h.map(lh).map(uI)})};break;default:{s[o]=r[o];break}}return s[o]},defineProperty(){return!1},deleteProperty(){return!1}});return t(i)},e)})}var hI=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},jx={},Kn={};let bp;const fI=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Kn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Kn.getSymbolTotalCodewords=function(e){return fI[e]};Kn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Kn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');bp=e};Kn.isKanjiModeEnabled=function(){return typeof bp<"u"};Kn.toSJIS=function(e){return bp(e)};var Mu={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Mu);function Px(){this.buffer=[],this.length=0}Px.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var pI=Px;function rl(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}rl.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};rl.prototype.get=function(t,e){return this.data[t*this.size+e]};rl.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};rl.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var gI=rl,Lx={};(function(t){const e=Kn.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(Lx);var Ox={};const mI=Kn.getSymbolSize,Km=7;Ox.getPositions=function(e){const n=mI(e);return[[0,0],[n-Km,0],[0,n-Km]]};var Ux={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let m=0;m<s;m++){let w=i.get(h,m);w===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=w,a=1),w=i.get(m,h),w===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=w,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(Ux);var ju={};const vi=Mu,Bl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ml=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ju.getBlocksCount=function(e,n){switch(n){case vi.L:return Bl[(e-1)*4+0];case vi.M:return Bl[(e-1)*4+1];case vi.Q:return Bl[(e-1)*4+2];case vi.H:return Bl[(e-1)*4+3];default:return}};ju.getTotalCodewordsCount=function(e,n){switch(n){case vi.L:return Ml[(e-1)*4+0];case vi.M:return Ml[(e-1)*4+1];case vi.Q:return Ml[(e-1)*4+2];case vi.H:return Ml[(e-1)*4+3];default:return}};var Dx={},Pu={};const fa=new Uint8Array(512),qc=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)fa[n]=e,qc[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)fa[n]=fa[n-255]})();Pu.log=function(e){if(e<1)throw new Error("log("+e+")");return qc[e]};Pu.exp=function(e){return fa[e]};Pu.mul=function(e,n){return e===0||n===0?0:fa[qc[e]+qc[n]]};(function(t){const e=Pu;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Dx);const Fx=Dx;function _p(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}_p.prototype.initialize=function(e){this.degree=e,this.genPoly=Fx.generateECPolynomial(this.degree)};_p.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Fx.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var yI=_p,zx={},Pi={},Sp={};Sp.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ir={};const $x="[0-9]+",wI="[A-Z $%*+\\-./:]+";let qa="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";qa=qa.replace(/u/g,"\\u");const vI="(?:(?![A-Z0-9 $%*+\\-./:]|"+qa+`)(?:.|[\r
]))+`;Ir.KANJI=new RegExp(qa,"g");Ir.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ir.BYTE=new RegExp(vI,"g");Ir.NUMERIC=new RegExp($x,"g");Ir.ALPHANUMERIC=new RegExp(wI,"g");const xI=new RegExp("^"+qa+"$"),bI=new RegExp("^"+$x+"$"),_I=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ir.testKanji=function(e){return xI.test(e)};Ir.testNumeric=function(e){return bI.test(e)};Ir.testAlphanumeric=function(e){return _I.test(e)};(function(t){const e=Sp,n=Ir;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Pi);(function(t){const e=Kn,n=ju,r=Mu,i=Pi,s=Sp,o=7973,a=e.getBCHDigit(o);function l(m,w,k){for(let A=1;A<=40;A++)if(w<=t.getCapacity(A,k,m))return A}function c(m,w){return i.getCharCountIndicator(m,w)+4}function u(m,w){let k=0;return m.forEach(function(A){const b=c(A.mode,w);k+=b+A.getBitsLength()}),k}function h(m,w){for(let k=1;k<=40;k++)if(u(m,k)<=t.getCapacity(k,w,i.MIXED))return k}t.from=function(w,k){return s.isValid(w)?parseInt(w,10):k},t.getCapacity=function(w,k,A){if(!s.isValid(w))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=i.BYTE);const b=e.getSymbolTotalCodewords(w),_=n.getTotalCodewordsCount(w,k),S=(b-_)*8;if(A===i.MIXED)return S;const v=S-c(A,w);switch(A){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(w,k){let A;const b=r.from(k,r.M);if(Array.isArray(w)){if(w.length>1)return h(w,b);if(w.length===0)return 1;A=w[0]}else A=w;return l(A.mode,A.getLength(),b)},t.getEncodedBits=function(w){if(!s.isValid(w)||w<7)throw new Error("Invalid QR Code version");let k=w<<12;for(;e.getBCHDigit(k)-a>=0;)k^=o<<e.getBCHDigit(k)-a;return w<<12|k}})(zx);var Wx={};const Tf=Kn,Hx=1335,SI=21522,Vm=Tf.getBCHDigit(Hx);Wx.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Tf.getBCHDigit(i)-Vm>=0;)i^=Hx<<Tf.getBCHDigit(i)-Vm;return(r<<10|i)^SI};var qx={};const EI=Pi;function wo(t){this.mode=EI.NUMERIC,this.data=t.toString()}wo.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};wo.prototype.getLength=function(){return this.data.length};wo.prototype.getBitsLength=function(){return wo.getBitsLength(this.data.length)};wo.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var kI=wo;const AI=Pi,ch=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function vo(t){this.mode=AI.ALPHANUMERIC,this.data=t}vo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};vo.prototype.getLength=function(){return this.data.length};vo.prototype.getBitsLength=function(){return vo.getBitsLength(this.data.length)};vo.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=ch.indexOf(this.data[n])*45;r+=ch.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(ch.indexOf(this.data[n]),6)};var CI=vo;const II=Pi;function xo(t){this.mode=II.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}xo.getBitsLength=function(e){return e*8};xo.prototype.getLength=function(){return this.data.length};xo.prototype.getBitsLength=function(){return xo.getBitsLength(this.data.length)};xo.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var NI=xo;const TI=Pi,RI=Kn;function bo(t){this.mode=TI.KANJI,this.data=t}bo.getBitsLength=function(e){return e*13};bo.prototype.getLength=function(){return this.data.length};bo.prototype.getBitsLength=function(){return bo.getBitsLength(this.data.length)};bo.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=RI.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var BI=bo,Kx={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,m,w,k,A,b;!a.empty();){l=a.pop(),c=l.value,h=l.cost,m=n[c]||{};for(u in m)m.hasOwnProperty(u)&&(w=m[u],k=h+w,A=o[u],b=typeof o[u]>"u",(b||A>k)&&(o[u]=k,a.push(u,k),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var _=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(_)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Kx);var MI=Kx.exports;(function(t){const e=Pi,n=kI,r=CI,i=NI,s=BI,o=Ir,a=Kn,l=MI;function c(_){return unescape(encodeURIComponent(_)).length}function u(_,S,v){const R=[];let O;for(;(O=_.exec(v))!==null;)R.push({data:O[0],index:O.index,mode:S,length:O[0].length});return R}function h(_){const S=u(o.NUMERIC,e.NUMERIC,_),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,_);let R,O;return a.isKanjiModeEnabled()?(R=u(o.BYTE,e.BYTE,_),O=u(o.KANJI,e.KANJI,_)):(R=u(o.BYTE_KANJI,e.BYTE,_),O=[]),S.concat(v,R,O).sort(function(D,H){return D.index-H.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function m(_,S){switch(S){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return r.getBitsLength(_);case e.KANJI:return s.getBitsLength(_);case e.BYTE:return i.getBitsLength(_)}}function w(_){return _.reduce(function(S,v){const R=S.length-1>=0?S[S.length-1]:null;return R&&R.mode===v.mode?(S[S.length-1].data+=v.data,S):(S.push(v),S)},[])}function k(_){const S=[];for(let v=0;v<_.length;v++){const R=_[v];switch(R.mode){case e.NUMERIC:S.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:S.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:S.push([R,{data:R.data,mode:e.BYTE,length:c(R.data)}]);break;case e.BYTE:S.push([{data:R.data,mode:e.BYTE,length:c(R.data)}])}}return S}function A(_,S){const v={},R={start:{}};let O=["start"];for(let U=0;U<_.length;U++){const D=_[U],H=[];for(let V=0;V<D.length;V++){const Q=D[V],ne=""+U+V;H.push(ne),v[ne]={node:Q,lastCount:0},R[ne]={};for(let oe=0;oe<O.length;oe++){const P=O[oe];v[P]&&v[P].node.mode===Q.mode?(R[P][ne]=m(v[P].lastCount+Q.length,Q.mode)-m(v[P].lastCount,Q.mode),v[P].lastCount+=Q.length):(v[P]&&(v[P].lastCount=Q.length),R[P][ne]=m(Q.length,Q.mode)+4+e.getCharCountIndicator(Q.mode,S))}}O=H}for(let U=0;U<O.length;U++)R[O[U]].end=0;return{map:R,table:v}}function b(_,S){let v;const R=e.getBestModeForData(_);if(v=e.from(S,R),v!==e.BYTE&&v.bit<R.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(R));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new r(_);case e.KANJI:return new s(_);case e.BYTE:return new i(_)}}t.fromArray=function(S){return S.reduce(function(v,R){return typeof R=="string"?v.push(b(R,null)):R.data&&v.push(b(R.data,R.mode)),v},[])},t.fromString=function(S,v){const R=h(S,a.isKanjiModeEnabled()),O=k(R),U=A(O,v),D=l.find_path(U.map,"start","end"),H=[];for(let V=1;V<D.length-1;V++)H.push(U.table[D[V]].node);return t.fromArray(w(H))},t.rawSplit=function(S){return t.fromArray(h(S,a.isKanjiModeEnabled()))}})(qx);const Lu=Kn,uh=Mu,jI=pI,PI=gI,LI=Lx,OI=Ox,Rf=Ux,Bf=ju,UI=yI,Kc=zx,DI=Wx,FI=Pi,dh=qx;function zI(t,e){const n=t.size,r=OI.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function $I(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function WI(t,e){const n=LI.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function HI(t,e){const n=t.size,r=Kc.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function hh(t,e,n){const r=t.size,i=DI.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function qI(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function KI(t,e,n){const r=new jI;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),FI.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Lu.getSymbolTotalCodewords(t),s=Bf.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return VI(r,t,e)}function VI(t,e,n){const r=Lu.getSymbolTotalCodewords(e),i=Bf.getTotalCodewordsCount(e,n),s=r-i,o=Bf.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,m=c-u,w=new UI(m);let k=0;const A=new Array(o),b=new Array(o);let _=0;const S=new Uint8Array(t.buffer);for(let D=0;D<o;D++){const H=D<l?u:h;A[D]=S.slice(k,k+H),b[D]=w.encode(A[D]),k+=H,_=Math.max(_,H)}const v=new Uint8Array(r);let R=0,O,U;for(O=0;O<_;O++)for(U=0;U<o;U++)O<A[U].length&&(v[R++]=A[U][O]);for(O=0;O<m;O++)for(U=0;U<o;U++)v[R++]=b[U][O];return v}function GI(t,e,n,r){let i;if(Array.isArray(t))i=dh.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=dh.rawSplit(t);c=Kc.getBestVersionForData(u,n)}i=dh.fromString(t,c||40)}else throw new Error("Invalid data");const s=Kc.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=KI(e,n,i),a=Lu.getSymbolSize(e),l=new PI(a);return zI(l,e),$I(l),WI(l,e),hh(l,n,0),e>=7&&HI(l,e),qI(l,o),isNaN(r)&&(r=Rf.getBestMask(l,hh.bind(null,l,n))),Rf.applyMask(r,l),hh(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}jx.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=uh.M,i,s;return typeof n<"u"&&(r=uh.from(n.errorCorrectionLevel,uh.M),i=Kc.from(n.version),s=Rf.from(n.maskPattern),n.toSJISFunc&&Lu.setToSJISFunction(n.toSJISFunc)),GI(e,i,r,s)};var Vx={},Ep={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let m=0;m<c;m++)for(let w=0;w<c;w++){let k=(m*c+w)*4,A=s.color.light;if(m>=u&&w>=u&&m<c-u&&w<c-u){const b=Math.floor((m-u)/l),_=Math.floor((w-u)/l);A=h[a[b*o+_]?1:0]}r[k++]=A.r,r[k++]=A.g,r[k++]=A.b,r[k]=A.a}}})(Ep);(function(t){const e=Ep;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),m=h.createImageData(u,u);return e.qrToImageData(m.data,s,l),n(h,c,u),h.putImageData(m,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(Vx);var Gx={};const ZI=Ep;function Gm(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function fh(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function YI(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?fh("M",l+n,.5+c+n):fh("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=fh("h",o),o=0)):i++}return r}Gx.render=function(e,n,r){const i=ZI.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+Gm(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Gm(i.color.dark,"stroke")+' d="'+YI(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,m),m};const JI=hI,Mf=jx,Zx=Vx,QI=Gx;function kp(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!JI())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=Mf.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=Mf.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Mf.create;kp.bind(null,Zx.render);kp.bind(null,Zx.renderToDataURL);kp.bind(null,function(t,e,n){return QI.render(t,n)});function Le(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function oc(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function XI(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const oi="Mobile Wallet Adapter",e5=64;function t5(t){const e=oc(t);return new fe(e)}function Zm(t){return"version"in t}function n5(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class r5 extends yC{constructor(e){var n;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=oi,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=XI()?Me.Loadable:Me.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._chain=(n=e.chain)!==null&&n!==void 0?n:n5(e.cluster),this._hostAuthority=e.remoteHostAuthority,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==Me.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=t5(this._selectedAddress)}catch(e){throw new Wc(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Me.Installed&&this.emit("readyStateChange",this._readyState=Me.Installed)}runWithGuard(e){return Le(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Le(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Le(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){if(this._readyState!==Me.Installed&&this._readyState!==Me.Loadable)throw new is;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new Vs(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return Le(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){if(this._readyState!==Me.Installed&&this._readyState!==Me.Loadable)throw new is;this._connecting=!0;try{yield this.performAuthorization()}catch(e){throw new Vs(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}performAuthorization(e){return Le(this,void 0,void 0,function*(){try{const n=yield this._authorizationResultCache.get();return n?(this.handleAuthorizationResult(n),n):yield this.transact(r=>Le(this,void 0,void 0,function*(){const i=yield r.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:e});return Promise.all([this._authorizationResultCache.set(i),this.handleAuthorizationResult(i)]),i}))}catch(n){throw new Vs(n instanceof Error&&n.message||"Unknown error",n)}})}handleAuthorizationResult(e){var n;return Le(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((n=this._authorizationResult)===null||n===void 0?void 0:n.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some((i,s)=>i.address!==e.accounts[s].address);if(this._authorizationResult=e,this.declareWalletAsInstalled(),r){const i=yield this._addressSelector.select(e.accounts.map(({address:s})=>s));i!==this._selectedAddress&&(this._selectedAddress=i,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(e,n){return Le(this,void 0,void 0,function*(){try{const r=yield e.authorize({auth_token:n,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new vp(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return Le(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(e){var n;return Le(this,void 0,void 0,function*(){const r=(n=this._authorizationResult)===null||n===void 0?void 0:n.wallet_uri_base,i=r?{baseUri:r}:void 0,s=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield dI(e,Object.assign(Object.assign({},i),s))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Nn;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return Le(this,void 0,void 0,function*(){const{authToken:n}=this.assertIsAuthorized();try{return yield this.transact(r=>Le(this,void 0,void 0,function*(){return yield this.performReauthorization(r,n),yield r.signTransactions({transactions:e})}))}catch(r){throw new Dr(r==null?void 0:r.message,r)}})}sendTransaction(e,n,r){return Le(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){const{authToken:i}=this.assertIsAuthorized(),s=r==null?void 0:r.minContextSlot;try{return yield this.transact(o=>Le(this,void 0,void 0,function*(){function a(){let h;switch(n.commitment){case"confirmed":case"finalized":case"processed":h=n.commitment;break;default:h="finalized"}let m;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":m=r.preflightCommitment;break;case void 0:m=h;break;default:m="finalized"}return(m==="finalized"?2:m==="confirmed"?1:0)<(h==="finalized"?2:h==="confirmed"?1:0)?m:h}const[l,c,u]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,i),Zm(e)?null:Le(this,void 0,void 0,function*(){var h;if(e.feePayer||(e.feePayer=(h=this.publicKey)!==null&&h!==void 0?h:void 0),e.recentBlockhash==null){const{blockhash:m}=yield n.getLatestBlockhash({commitment:a()});e.recentBlockhash=m}})]);if(l.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:s,transactions:[e]}))[0];{const[h]=yield o.signTransactions({transactions:[e]});if(Zm(h))return yield n.sendTransaction(h);{const m=h.serialize();return yield n.sendRawTransaction(m,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}))}catch(o){throw new yi(o==null?void 0:o.message,o)}}))})}signTransaction(e){return Le(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){const[n]=yield this.performSignTransactions([e]);return n}))})}signAllTransactions(e){return Le(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){return yield this.performSignTransactions(e)}))})}signMessage(e){return Le(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){const{authToken:n,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(i=>Le(this,void 0,void 0,function*(){yield this.performReauthorization(i,n);const[s]=yield i.signMessages({addresses:[r],payloads:[e]});return s.slice(-e5)}))}catch(i){throw new xp(i==null?void 0:i.message,i)}}))})}signIn(e){return Le(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Le(this,void 0,void 0,function*(){var n,r;if(this._readyState!==Me.Installed&&this._readyState!==Me.Loadable)throw new is;this._connecting=!0;try{const i=yield this.performAuthorization(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(r=i.accounts.find(a=>a.address==s))!==null&&r!==void 0?r:{address:s}),{publicKey:oc(s)}),signedMessage:oc(i.sign_in_result.signed_message),signature:oc(i.sign_in_result.signature)}}catch(i){throw new Vs(i instanceof Error&&i.message||"Unknown error",i)}finally{this._connecting=!1}}))})}}function i5(){return{select(t){return Le(this,void 0,void 0,function*(){return t[0]})}}}const ph="SolanaMobileWalletAdapterDefaultAuthorizationCache";function s5(){let t;try{t=window.localStorage}catch{}return{clear(){return Le(this,void 0,void 0,function*(){if(t)try{t.removeItem(ph)}catch{}})},get(){return Le(this,void 0,void 0,function*(){if(t)try{return JSON.parse(t.getItem(ph))||void 0}catch{}})},set(e){return Le(this,void 0,void 0,function*(){if(t)try{t.setItem(ph,JSON.stringify(e))}catch{}})}}}function o5(t){return Le(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(t.url)})}function a5(){return o5}function l5(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var jl=X0.Buffer;function c5(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=jl.from(w)),!jl.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var k=0,A=0,b=0,_=w.length;b!==_&&w[b]===0;)b++,k++;for(var S=(_-b)*c+1>>>0,v=new Uint8Array(S);b!==_;){for(var R=w[b],O=0,U=S-1;(R!==0||O<A)&&U!==-1;U--,O++)R+=256*v[U]>>>0,v[U]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,b++}for(var D=S-A;D!==S&&v[D]===0;)D++;for(var H=a.repeat(k);D<S;++D)H+=t.charAt(v[D]);return H}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return jl.alloc(0);for(var k=0,A=0,b=0;w[k]===a;)A++,k++;for(var _=(w.length-k)*l+1>>>0,S=new Uint8Array(_);k<w.length;){var v=e[w.charCodeAt(k)];if(v===255)return;for(var R=0,O=_-1;(v!==0||R<b)&&O!==-1;O--,R++)v+=o*S[O]>>>0,S[O]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=R,k++}for(var U=_-b;U!==_&&S[U]===0;)U++;var D=jl.allocUnsafe(A+(_-U));D.fill(0,0,A);for(var H=A;U!==_;)D[H++]=S[U++];return D}function m(w){var k=h(w);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:m}}var u5=c5,d5=u5,h5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",f5=d5(h5);const p5=Ri(f5);var Pt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Xt,En,Ji,Qi,Fi,na,Vc,Oe,Gc,jf,ac,Pf,pa,Lf,Ym,Jm,Qm,Xm;class g5 extends Sx{constructor({wallet:e}){super(),Xt.add(this),En.set(this,void 0),Ji.set(this,void 0),Qi.set(this,void 0),Fi.set(this,void 0),na.set(this,void 0),Vc.set(this,void 0),Oe.set(this,void 0),Gc.set(this,typeof window>"u"||typeof document>"u"?Me.Unsupported:Me.Installed),Lf.set(this,n=>{if("accounts"in n){const r=ce(this,Oe,"f").accounts[0];ce(this,En,"f")&&!ce(this,Fi,"f")&&r!==ce(this,En,"f")&&(r?ce(this,Xt,"m",ac).call(this,r):(this.emit("error",new vp),ce(this,Xt,"m",Pf).call(this)))}"features"in n&&ce(this,Xt,"m",pa).call(this)}),Pt(this,Oe,e,"f"),Pt(this,En,null,"f"),Pt(this,Ji,null,"f"),Pt(this,Qi,!1,"f"),Pt(this,Fi,!1,"f"),Pt(this,na,ce(this,Oe,"f").features[Ax].on("change",ce(this,Lf,"f")),"f"),ce(this,Xt,"m",pa).call(this)}get name(){return ce(this,Oe,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ce(this,Oe,"f").icon}get readyState(){return ce(this,Gc,"f")}get publicKey(){return ce(this,Ji,"f")}get connecting(){return ce(this,Qi,"f")}get supportedTransactionVersions(){return ce(this,Vc,"f")}get wallet(){return ce(this,Oe,"f")}get standard(){return!0}destroy(){Pt(this,En,null,"f"),Pt(this,Ji,null,"f"),Pt(this,Qi,!1,"f"),Pt(this,Fi,!1,"f");const e=ce(this,na,"f");e&&(Pt(this,na,null,"f"),e())}async autoConnect(){return ce(this,Xt,"m",jf).call(this,{silent:!0})}async connect(){return ce(this,Xt,"m",jf).call(this)}async disconnect(){if(Um in ce(this,Oe,"f").features)try{Pt(this,Fi,!0,"f"),await ce(this,Oe,"f").features[Um].disconnect()}catch(e){this.emit("error",new _x(e==null?void 0:e.message,e))}finally{Pt(this,Fi,!1,"f")}ce(this,Xt,"m",Pf).call(this)}async sendTransaction(e,n,r={}){try{const i=ce(this,En,"f");if(!i)throw new Nn;let s;if(ui in ce(this,Oe,"f").features)if(i.features.includes(ui))s=ui;else if(Qt in ce(this,Oe,"f").features&&i.features.includes(Qt))s=Qt;else throw new Zi;else if(Qt in ce(this,Oe,"f").features){if(!i.features.includes(Qt))throw new Zi;s=Qt}else throw new ta;const o=kC(n.rpcEndpoint);if(!i.chains.includes(o))throw new yi;try{const{signers:a,...l}=r;let c;if(wi(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===ui){const[u]=await ce(this,Oe,"f").features[ui].signAndSendTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:rh(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return p5.encode(u.signature)}else{const[u]=await ce(this,Oe,"f").features[Qt].signTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:rh(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...l,preflightCommitment:rh(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof pn?a:new yi(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}En=new WeakMap,Ji=new WeakMap,Qi=new WeakMap,Fi=new WeakMap,na=new WeakMap,Vc=new WeakMap,Oe=new WeakMap,Gc=new WeakMap,Lf=new WeakMap,Xt=new WeakSet,jf=async function(e){try{if(this.connected||this.connecting)return;if(ce(this,Gc,"f")!==Me.Installed)throw new is;if(Pt(this,Qi,!0,"f"),!ce(this,Oe,"f").accounts.length)try{await ce(this,Oe,"f").features[kx].connect(e)}catch(r){throw new Vs(r==null?void 0:r.message,r)}const n=ce(this,Oe,"f").accounts[0];if(!n)throw new Zi;ce(this,Xt,"m",ac).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Pt(this,Qi,!1,"f")}},ac=function(e){let n;try{n=new fe(e.address)}catch(r){throw new Wc(r==null?void 0:r.message,r)}Pt(this,En,e,"f"),Pt(this,Ji,n,"f"),ce(this,Xt,"m",pa).call(this),this.emit("connect",n)},Pf=function(){Pt(this,En,null,"f"),Pt(this,Ji,null,"f"),ce(this,Xt,"m",pa).call(this),this.emit("disconnect")},pa=function(){var n,r;const e=ui in ce(this,Oe,"f").features?ce(this,Oe,"f").features[ui].supportedTransactionVersions:ce(this,Oe,"f").features[Qt].supportedTransactionVersions;Pt(this,Vc,l5(e,["legacy"])?null:new Set(e),"f"),Qt in ce(this,Oe,"f").features&&((n=ce(this,En,"f"))!=null&&n.features.includes(Qt))?(this.signTransaction=ce(this,Xt,"m",Ym),this.signAllTransactions=ce(this,Xt,"m",Jm)):(delete this.signTransaction,delete this.signAllTransactions),Ko in ce(this,Oe,"f").features&&((r=ce(this,En,"f"))!=null&&r.features.includes(Ko))?this.signMessage=ce(this,Xt,"m",Qm):delete this.signMessage,nh in ce(this,Oe,"f").features?this.signIn=ce(this,Xt,"m",Xm):delete this.signIn},Ym=async function(e){try{const n=ce(this,En,"f");if(!n)throw new Nn;if(!(Qt in ce(this,Oe,"f").features))throw new ta;if(!n.features.includes(Qt))throw new Zi;try{const i=(await ce(this,Oe,"f").features[Qt].signTransaction({account:n,transaction:wi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return wi(e)?Wa.deserialize(i):ur.from(i)}catch(r){throw r instanceof pn?r:new Dr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Jm=async function(e){try{const n=ce(this,En,"f");if(!n)throw new Nn;if(!(Qt in ce(this,Oe,"f").features))throw new ta;if(!n.features.includes(Qt))throw new Zi;try{const r=await ce(this,Oe,"f").features[Qt].signTransaction(...e.map(i=>({account:n,transaction:wi(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return wi(i)?Wa.deserialize(o):ur.from(o)})}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Qm=async function(e){try{const n=ce(this,En,"f");if(!n)throw new Nn;if(!(Ko in ce(this,Oe,"f").features))throw new ta;if(!n.features.includes(Ko))throw new Zi;try{return(await ce(this,Oe,"f").features[Ko].signMessage({account:n,message:e}))[0].signature}catch(r){throw new xp(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},Xm=async function(e={}){try{if(!(nh in ce(this,Oe,"f").features))throw new ta;let n;try{[n]=await ce(this,Oe,"f").features[nh].signIn(e)}catch(r){throw new Om(r==null?void 0:r.message,r)}if(!n)throw new Om;return ce(this,Xt,"m",ac).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const m5=wC;var y5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},w5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},lc;let Pn;const Ou=new Set;function v5(t){ga=void 0,Ou.add(t)}function x5(t){ga=void 0,Ou.delete(t)}const Gs={};function b5(){if(Pn||(Pn=Object.freeze({register:ey,get:_5,on:S5}),typeof window>"u"))return Pn;const t=Object.freeze({register:ey});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new E5(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Pn}function ey(...t){var e;return t=t.filter(n=>!Ou.has(n)),t.length?(t.forEach(n=>v5(n)),(e=Gs.register)==null||e.forEach(n=>Of(()=>n(...t))),function(){var r;t.forEach(i=>x5(i)),(r=Gs.unregister)==null||r.forEach(i=>Of(()=>i(...t)))}):()=>{}}let ga;function _5(){return ga||(ga=[...Ou]),ga}function S5(t,e){var n;return(n=Gs[t])!=null&&n.push(e)||(Gs[t]=[e]),function(){var i;Gs[t]=(i=Gs[t])==null?void 0:i.filter(s=>e!==s)}}function Of(t){try{t()}catch(e){console.error(e)}}class E5 extends Event{get detail(){return y5(this,lc,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),lc.set(this,void 0),w5(this,lc,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}lc=new WeakMap;function k5(){if(Pn||(Pn=b5(),typeof window>"u"))return Pn;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Pn;const{register:e}=Pn,n=(...r)=>r.forEach(i=>Of(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Pn}return n(...t),Pn}function A5(t){const e=ty(()=>new Set),{get:n,on:r}=ty(()=>k5()),[i,s]=z.useState(()=>ny(n()));z.useEffect(()=>{const a=[r("register",(...l)=>s(c=>[...c,...ny(l)])),r("unregister",(...l)=>s(c=>c.filter(u=>l.some(h=>h===u.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=C5(i);return z.useEffect(()=>{if(!o)return;const a=new Set(i);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,i]),z.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),z.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function ty(t){const e=z.useRef();return e.current||(e.current={value:t()}),e.current.value}function C5(t){const e=z.useRef();return z.useEffect(()=>{e.current=t}),e.current}function ny(t){return t.filter(m5).map(e=>new g5({wallet:e}))}var ro;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(ro||(ro={}));function I5(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function N5({adapters:t,userAgentString:e}){return t.some(n=>n.name!==oi&&n.readyState===Me.Installed)?ro.DESKTOP_WEB:e&&/android/i.test(e)&&!I5(e)?ro.MOBILE_WEB:ro.DESKTOP_WEB}function T5(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function R5({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const l=z.useRef(!1),[c,u]=z.useState(!1),h=z.useRef(!1),[m,w]=z.useState(!1),[k,A]=z.useState(()=>(n==null?void 0:n.publicKey)??null),[b,_]=z.useState(()=>(n==null?void 0:n.connected)??!1),S=z.useRef(o);z.useEffect(()=>(S.current=o,()=>{S.current=void 0}),[o]);const v=z.useRef((y,E)=>(r.current||(S.current?S.current(y,E):(console.error(y,E),y instanceof is&&typeof window<"u"&&E&&window.open(E.url,"_blank"))),y)),[R,O]=z.useState(()=>e.map(y=>({adapter:y,readyState:y.readyState})).filter(({readyState:y})=>y!==Me.Unsupported));z.useEffect(()=>{O(E=>e.map((I,C)=>{const B=E[C];return B&&B.adapter===I&&B.readyState===I.readyState?B:{adapter:I,readyState:I.readyState}}).filter(({readyState:I})=>I!==Me.Unsupported));function y(E){O(I=>{const C=I.findIndex(({adapter:L})=>L===this);if(C===-1)return I;const{adapter:B}=I[C];return[...I.slice(0,C),{adapter:B,readyState:E},...I.slice(C+1)].filter(({readyState:L})=>L!==Me.Unsupported)})}return e.forEach(E=>E.on("readyStateChange",y,E)),()=>{e.forEach(E=>E.off("readyStateChange",y,E))}},[n,e]);const U=z.useMemo(()=>R.find(y=>y.adapter===n)??null,[n,R]);z.useEffect(()=>{if(!n)return;const y=C=>{A(C),l.current=!1,u(!1),_(!0),h.current=!1,w(!1)},E=()=>{r.current||(A(null),l.current=!1,u(!1),_(!1),h.current=!1,w(!1))},I=C=>{v.current(C,n)};return n.on("connect",y),n.on("disconnect",E),n.on("error",I),()=>{n.off("connect",y),n.off("disconnect",E),n.off("error",I),E()}},[n,r]);const D=z.useRef(!1);z.useEffect(()=>()=>{D.current=!1},[n]),z.useEffect(()=>{D.current||l.current||b||!i||!((U==null?void 0:U.readyState)===Me.Installed||(U==null?void 0:U.readyState)===Me.Loadable)||(l.current=!0,u(!0),D.current=!0,async function(){try{await i()}catch{s()}finally{u(!1),l.current=!1}}())},[b,i,s,U]);const H=z.useCallback(async(y,E,I)=>{if(!n)throw v.current(new Dm);if(!b)throw v.current(new Nn,n);return await n.sendTransaction(y,E,I)},[n,b]),V=z.useMemo(()=>n&&"signTransaction"in n?async y=>{if(!b)throw v.current(new Nn,n);return await n.signTransaction(y)}:void 0,[n,b]),Q=z.useMemo(()=>n&&"signAllTransactions"in n?async y=>{if(!b)throw v.current(new Nn,n);return await n.signAllTransactions(y)}:void 0,[n,b]),ne=z.useMemo(()=>n&&"signMessage"in n?async y=>{if(!b)throw v.current(new Nn,n);return await n.signMessage(y)}:void 0,[n,b]),oe=z.useMemo(()=>n&&"signIn"in n?async y=>await n.signIn(y):void 0,[n]),P=z.useCallback(async()=>{if(l.current||h.current||U!=null&&U.adapter.connected)return;if(!U)throw v.current(new Dm);const{adapter:y,readyState:E}=U;if(!(E===Me.Installed||E===Me.Loadable))throw v.current(new is,y);l.current=!0,u(!0);try{await y.connect()}catch(I){throw s(),I}finally{u(!1),l.current=!1}},[s,U]),d=z.useCallback(async()=>{if(!h.current&&n){h.current=!0,w(!0);try{await n.disconnect()}finally{w(!1),h.current=!1}}},[n]);return Y.createElement(Cx.Provider,{value:{autoConnect:!!i,wallets:R,wallet:U,publicKey:k,connected:b,connecting:c,disconnecting:m,select:a,connect:P,disconnect:d,sendTransaction:H,signTransaction:V,signAllTransactions:Q,signMessage:ne,signIn:oe}},t)}let gh;function B5(){var t;return gh===void 0&&(gh=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),gh}function Pl(t){const e=B5();return N5({adapters:t,userAgentString:e})===ro.MOBILE_WEB}function M5(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function j5({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=uC(),o=A5(e),a=z.useMemo(()=>{if(!Pl(o))return null;const S=o.find(v=>v.name===oi);return S||new r5({addressSelector:i5(),appIdentity:{uri:M5()},authorizationResultCache:s5(),cluster:T5(s==null?void 0:s.rpcEndpoint),onWalletNotFound:a5()})},[o,s==null?void 0:s.rpcEndpoint]),l=z.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,u]=xC(r,Pl(o)?oi:null),h=z.useMemo(()=>l.find(S=>S.name===c)??null,[l,c]),m=z.useCallback(S=>{c!==S&&(h&&h.name!==oi&&h.disconnect(),u(S))},[h,u,c]);z.useEffect(()=>{if(!h)return;function S(){A.current||c===oi&&Pl(o)||u(null)}return h.on("disconnect",S),()=>{h.off("disconnect",S)}},[h,o,u,c]);const w=z.useRef(!1),k=z.useMemo(()=>{if(!(!n||!h))return async()=>{(n===!0||await n(h))&&(w.current?await h.connect():await h.autoConnect())}},[n,h]),A=z.useRef(!1);z.useEffect(()=>{if(c===oi&&Pl(o)){A.current=!1;return}function S(){A.current=!0}return window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)}},[o,c]);const b=z.useCallback(()=>{h&&h.name!==oi&&m(null)},[h,m]),_=z.useCallback(S=>{w.current=!0,m(S)},[m]);return Y.createElement(R5,{wallets:l,adapter:h,isUnloadingRef:A,onAutoConnectRequest:k,onConnectError:b,onError:i,onSelectWallet:_},t)}const Yx={setVisible(t){console.error(Jx("call","setVisible"))},visible:!1};Object.defineProperty(Yx,"visible",{get(){return console.error(Jx("read","visible")),!1}});function Jx(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const Qx=z.createContext(Yx);function Xx(){return z.useContext(Qx)}const P5=t=>Y.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&Y.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&Y.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),L5=({wallet:t,...e})=>t&&Y.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),ry=({id:t,children:e,expanded:n=!1})=>{const r=z.useRef(null),i=z.useRef(!0),s="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return z.useLayoutEffect(()=>{n?o():a()},[n]),z.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function u(h){l&&h.target===l&&h.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",u),()=>l.removeEventListener("transitionend",u)},[n]),Y.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},mh=({handleClick:t,tabIndex:e,wallet:n})=>Y.createElement("li",null,Y.createElement(P5,{onClick:t,startIcon:Y.createElement(L5,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Me.Installed&&Y.createElement("span",null,"Detected"))),O5=()=>Y.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Y.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Y.createElement("g",{clipPath:"url(#clip0_880_5115)"},Y.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Y.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Y.createElement("defs",null,Y.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Y.createElement("stop",{stopColor:"#9945FF"}),Y.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Y.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Y.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Y.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Y.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Y.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Y.createElement("stop",{stopColor:"#9945FF"}),Y.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Y.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Y.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Y.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Y.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Y.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Y.createElement("stop",{stopColor:"#9945FF"}),Y.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Y.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Y.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Y.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Y.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Y.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Y.createElement("stop",{stopColor:"#9945FF"}),Y.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Y.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Y.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Y.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Y.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Y.createElement("clipPath",{id:"clip0_880_5115"},Y.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),U5=({className:t="",container:e="body"})=>{const n=z.useRef(null),{wallets:r,select:i}=xs(),{setVisible:s}=Xx(),[o,a]=z.useState(!1),[l,c]=z.useState(!1),[u,h]=z.useState(null),[m,w]=z.useMemo(()=>{const v=[],R=[];for(const O of r)O.readyState===Me.Installed?v.push(O):R.push(O);return v.length?[v,R]:[R,[]]},[r]),k=z.useCallback(()=>{c(!1),setTimeout(()=>s(!1),150)},[s]),A=z.useCallback(v=>{v.preventDefault(),k()},[k]),b=z.useCallback((v,R)=>{i(R),A(v)},[i,A]),_=z.useCallback(()=>a(!o),[o]),S=z.useCallback(v=>{const R=n.current;if(!R)return;const O=R.querySelectorAll("button"),U=O[0],D=O[O.length-1];v.shiftKey?document.activeElement===U&&(D.focus(),v.preventDefault()):document.activeElement===D&&(U.focus(),v.preventDefault())},[n]);return z.useLayoutEffect(()=>{const v=O=>{O.key==="Escape"?k():O.key==="Tab"&&S(O)},{overflow:R}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",v,!1),()=>{document.body.style.overflow=R,window.removeEventListener("keydown",v,!1)}},[k,S]),z.useLayoutEffect(()=>h(document.querySelector(e)),[e]),u&&L1.createPortal(Y.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},Y.createElement("div",{className:"wallet-adapter-modal-container"},Y.createElement("div",{className:"wallet-adapter-modal-wrapper"},Y.createElement("button",{onClick:A,className:"wallet-adapter-modal-button-close"},Y.createElement("svg",{width:"14",height:"14"},Y.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),m.length?Y.createElement(Y.Fragment,null,Y.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Y.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(v=>Y.createElement(mh,{key:v.adapter.name,handleClick:R=>b(R,v.adapter.name),wallet:v})),w.length?Y.createElement(ry,{expanded:o,id:"wallet-adapter-modal-collapse"},w.map(v=>Y.createElement(mh,{key:v.adapter.name,handleClick:R=>b(R,v.adapter.name),tabIndex:o?0:-1,wallet:v}))):null),w.length?Y.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},Y.createElement("span",null,o?"Less ":"More ","options"),Y.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Y.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Y.createElement(Y.Fragment,null,Y.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Y.createElement("div",{className:"wallet-adapter-modal-middle"},Y.createElement(O5,null)),w.length?Y.createElement(Y.Fragment,null,Y.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},Y.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),Y.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Y.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Y.createElement(ry,{expanded:o,id:"wallet-adapter-modal-collapse"},Y.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(v=>Y.createElement(mh,{key:v.adapter.name,handleClick:R=>b(R,v.adapter.name),tabIndex:o?0:-1,wallet:v}))))):null))),Y.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:A})),u)},D5=({children:t,...e})=>{const[n,r]=z.useState(!1);return Y.createElement(Qx.Provider,{value:{visible:n,setVisible:r}},t,n&&Y.createElement(U5,{...e}))},F5=t=>{if(!t)return"";const e=t.toString();return`${e.slice(0,4)}...${e.slice(-4)}`},z5=()=>{const{connected:t,connecting:e,publicKey:n,disconnect:r}=xs(),{setVisible:i}=Xx();return t&&n?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"px-4 py-2 bg-accent-neon/10 border border-accent-neon/40 rounded-lg text-accent-neon text-sm font-light",children:F5(n)}),x.jsx("button",{onClick:()=>r(),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Disconnect wallet",children:x.jsx(iE,{className:"h-4 w-4 text-accent-neon"})})]}):x.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-accent-neon/10 border border-accent-neon/40 rounded-lg text-accent-neon hover:bg-accent-neon/20 transition-all duration-300 text-sm font-light",disabled:e,children:[e?x.jsx(us,{className:"h-4 w-4 animate-spin"}):x.jsx(pE,{className:"h-4 w-4"}),e?"Connecting...":"Connect Wallet"]})},jo={primary:"from-accent-neon to-accent-white",accent:"from-accent-white to-accent-neon/50"},Ll={primary:"text-white",secondary:"text-accent-gray",accent:"text-accent-neon"},me={heading:`${Ll.primary} font-extralight tracking-wider`,body:`${Ll.secondary} font-light tracking-wide`,subtitle:`${Ll.secondary} font-extralight tracking-wider`,nav:`${Ll.primary} font-extralight tracking-[0.2em] text-[13px] uppercase`},$5=({onNavigate:t})=>{const[e,n]=z.useState(!1);return z.useEffect(()=>{const r=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),x.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"bg-background-darker/80 backdrop-blur-md shadow-[0_8px_32px_rgba(0,0,0,0.12)] border-b border-white/5":"bg-background-darker/40 backdrop-blur-sm"}`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center h-16",children:[x.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>t("home"),children:[x.jsx(tE,{className:"h-5 w-5 text-accent-neon"}),x.jsx("span",{className:`ml-3 text-xl font-light tracking-[0.2em] bg-gradient-to-r ${jo.accent} text-transparent bg-clip-text uppercase transition-opacity duration-300 ${e?"opacity-90":"opacity-100"}`,children:"KodeX"})]}),x.jsx("div",{className:"hidden md:flex flex-1 justify-center",children:x.jsxs("div",{className:"flex items-center space-x-6",children:[x.jsx(Ol,{onClick:()=>t("home"),text:"Home"}),x.jsx(Ol,{onClick:()=>t("agents"),text:"Agents"}),x.jsx(Ol,{onClick:()=>t("bounties"),text:"Bounties"}),x.jsx(Ol,{onClick:()=>t("about"),text:"About"})]})}),x.jsx("div",{className:"hidden md:flex items-center",children:x.jsxs("div",{className:"flex items-center space-x-6",children:[x.jsx(z5,{}),x.jsxs("div",{className:"ml-8 flex items-center space-x-4 px-4 py-2 bg-white/5 backdrop-blur-md rounded-full border border-white/10",children:[x.jsx(yh,{href:"https://twitter.com/CodeXProject",icon:x.jsx(ev,{className:"h-4 w-4"}),label:"Twitter"}),x.jsx(yh,{href:"https://t.me/CodeXProject",icon:x.jsx(Q1,{className:"h-4 w-4"}),label:"Telegram"}),x.jsx(yh,{href:"https://github.com/CodeXProject",icon:x.jsx(J1,{className:"h-4 w-4"}),label:"GitHub"})]})]})}),x.jsx("button",{className:"md:hidden p-2 bg-white/5 backdrop-blur-md rounded-lg border border-white/10 text-accent-neon hover:text-accent-neon/80 transition-all duration-300 hover:bg-white/10",children:x.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})})},Ol=({onClick:t,text:e})=>x.jsxs("button",{onClick:t,className:`px-4 py-2 text-[13px] font-extralight tracking-[0.2em] transition-all duration-300 ${me.nav} uppercase hover:text-accent-neon group relative overflow-hidden rounded-lg hover:bg-white/5`,children:[e,x.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-accent-neon/0 via-accent-neon/5 to-accent-neon/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),x.jsx("span",{className:"absolute inset-x-4 bottom-1 h-px bg-gradient-to-r from-accent-neon/0 via-accent-neon to-accent-neon/0 scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),yh=({href:t,icon:e,label:n})=>x.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-white/40 hover:text-accent-neon transition-all duration-300 hover:scale-110","aria-label":n,children:e}),W5=()=>x.jsx("div",{className:"relative w-36 h-36 mx-auto mb-8",children:x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-white/10 blur-2xl"})}),iy=40,H5=70,q5=30,K5=2500,V5=300,G5=1200,Z5=530,sy=["Kodex, Redefining Technology...","Kodex, Shaping Tomorrow...","Kodex, Beyond Boundaries...","Kodex, Future Forward..."],Y5=()=>{const[t,e]=z.useState(0),[n,r]=z.useState(""),[i,s]=z.useState(!1),[o,a]=z.useState(!0),[l,c]=z.useState(!1),u=sy[t],h=z.useCallback(()=>{l||r(m=>i?m.slice(0,-1):m.length<u.length?u.slice(0,m.length+1):m)},[u,i,l]);return z.useEffect(()=>{if(i&&n===""){s(!1),e(A=>(A+1)%sy.length),c(!0),setTimeout(()=>c(!1),G5);return}if(n===u&&!i)return;if(!i&&n===u){c(!0),setTimeout(()=>{c(!1),s(!0)},K5);return}if(l)return;const m=u[n.length],w=i?q5:[",","."," "].includes(m)?V5:Math.random()*(H5-iy)+iy,k=setTimeout(h,w);return()=>clearTimeout(k)},[n,i,u,h,l]),z.useEffect(()=>{const m=setInterval(()=>{a(w=>!w)},Z5);return()=>clearInterval(m)},[]),x.jsx("h1",{className:`text-6xl md:text-7xl font-[200] tracking-tight mb-12 ${me.heading}`,children:x.jsxs("span",{className:`glitch bg-gradient-to-r ${jo.primary} text-transparent bg-clip-text transition-all duration-300 ease-out`,"data-text":n,children:[n,x.jsx("span",{className:`inline-block w-[2px] h-[1em] -mb-1 bg-accent-neon transition-all duration-200 ${o?"opacity-100":"opacity-0"}`,style:{transform:"translateY(0.1em)",marginLeft:"0.2em",boxShadow:"0 0 8px rgba(0, 255, 140, 0.5)"}})]})})},eb=z.createContext({onNavigate:()=>{}}),J5=({children:t,onNavigate:e})=>x.jsx(eb.Provider,{value:{onNavigate:e},children:t}),Q5=()=>{const{onNavigate:t}=z.useContext(eb);return x.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 md:gap-8",children:[x.jsxs("button",{onClick:()=>t("agents"),className:"group relative w-full md:w-56 px-8 py-4 bg-accent-neon/10 backdrop-blur-md border border-accent-neon/20 text-accent-neon font-light tracking-wider uppercase text-sm transition-all duration-300 hover:bg-accent-neon/20 hover:border-accent-neon/40 hover:shadow-[0_0_20px_rgba(0,255,140,0.2)] overflow-hidden",children:[x.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Explore Agents",x.jsx(lm,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-x-1"})]}),x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(0,255,140,0.1)_0%,transparent_70%)] opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),x.jsxs("a",{href:"https://github.com/stackblitz/kodex",target:"_blank",rel:"noopener noreferrer",className:"group relative w-full md:w-56 px-8 py-4 bg-white/5 backdrop-blur-md border border-white/10 text-white font-light tracking-wider uppercase text-sm transition-all duration-300 hover:bg-white/10 hover:border-white/20 hover:shadow-[0_0_20px_rgba(255,255,255,0.1)] overflow-hidden",children:[x.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[x.jsx(J1,{className:"w-4 h-4"}),"GitHub",x.jsx(lm,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-x-1"})]}),x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.05)_0%,transparent_70%)] opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})},X5=[{icon:x.jsx(ev,{className:"h-6 w-6"}),href:"https://twitter.com/CodeXProject",label:"Twitter"},{icon:x.jsx(Q1,{className:"h-6 w-6"}),href:"https://t.me/CodeXProject",label:"Telegram"}],e6=()=>x.jsx("div",{className:"flex justify-center gap-8 mt-16",children:X5.map(t=>x.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"text-white/30 hover:text-accent-neon transition-colors","aria-label":t.label},t.label))}),t6=()=>x.jsx("div",{className:"relative overflow-hidden min-h-[calc(100vh-4rem)] flex items-center justify-center py-20",children:x.jsx("div",{className:"w-full max-w-3xl mx-auto px-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx(W5,{}),x.jsx(Y5,{}),x.jsx("p",{className:`text-xl md:text-2xl font-light mb-16 ${me.body} tracking-wide max-w-2xl mx-auto`,children:"Embrace the next evolution of development with cutting-edge tools and futuristic workflows"}),x.jsx(Q5,{}),x.jsx(e6,{})]})})}),n6="modulepreload",r6=function(t){return"/"+t},oy={},_o=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=r6(l),l in oy)return;oy[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":n6,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,w)=>{h.addEventListener("load",m),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},i6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>_o(async()=>{const{default:r}=await Promise.resolve().then(()=>Po);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ap extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class s6 extends Ap{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o6 extends Ap{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a6 extends Ap{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Uf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Uf||(Uf={}));var l6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class c6{constructor(e,{headers:n={},customFetch:r,region:i=Uf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=i6(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return l6(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(k=>{throw new s6(k)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new o6(u);if(!u.ok)throw new a6(u);let m=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield u.json():m==="application/octet-stream"?w=yield u.blob():m==="text/event-stream"?w=u:m==="multipart/form-data"?w=yield u.formData():w=yield u.text(),{data:w,error:null}}catch(i){return{data:null,error:i}}})}}var An={},Cp={},Uu={},il={},Du={},Fu={},u6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=u6();const d6=So.fetch,tb=So.fetch.bind(So),nb=So.Headers,h6=So.Request,f6=So.Response,Po=Object.freeze(Object.defineProperty({__proto__:null,Headers:nb,Request:h6,Response:f6,default:tb,fetch:d6},Symbol.toStringTag,{value:"Module"})),p6=Yc(Po);var zu={};Object.defineProperty(zu,"__esModule",{value:!0});let g6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zu.default=g6;var rb=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fu,"__esModule",{value:!0});const m6=rb(p6),y6=rb(zu);let w6=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=m6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,m=s.status,w=s.statusText;if(s.ok){if(this.method!=="HEAD"){const _=await s.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const A=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");A&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,w="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const A=await s.text();try{c=JSON.parse(A),Array.isArray(c)&&s.status===404&&(u=[],c=null,m=200,w="OK")}catch{s.status===404&&A===""?(m=204,w="No Content"):c={message:A}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,w="OK"),c&&this.shouldThrowOnError)throw new y6.default(c)}return{error:c,data:u,count:h,status:m,statusText:w}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Fu.default=w6;var v6=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Du,"__esModule",{value:!0});const x6=v6(Fu);let b6=class extends x6.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Du.default=b6;var _6=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(il,"__esModule",{value:!0});const S6=_6(Du);let E6=class extends S6.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};il.default=E6;var k6=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uu,"__esModule",{value:!0});const Go=k6(il);let A6=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Go.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Go.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Go.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Uu.default=A6;var $u={},Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.version=void 0;Wu.version="0.0.0-automated";Object.defineProperty($u,"__esModule",{value:!0});$u.DEFAULT_HEADERS=void 0;const C6=Wu;$u.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${C6.version}`};var ib=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cp,"__esModule",{value:!0});const I6=ib(Uu),N6=ib(il),T6=$u;let R6=class sb{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},T6.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new I6.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new N6.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Cp.default=R6;var Lo=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(An,"__esModule",{value:!0});An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const ob=Lo(Cp);An.PostgrestClient=ob.default;const ab=Lo(Uu);An.PostgrestQueryBuilder=ab.default;const lb=Lo(il);An.PostgrestFilterBuilder=lb.default;const cb=Lo(Du);An.PostgrestTransformBuilder=cb.default;const ub=Lo(Fu);An.PostgrestBuilder=ub.default;const db=Lo(zu);An.PostgrestError=db.default;var B6=An.default={PostgrestClient:ob.default,PostgrestQueryBuilder:ab.default,PostgrestFilterBuilder:lb.default,PostgrestTransformBuilder:cb.default,PostgrestBuilder:ub.default,PostgrestError:db.default};const{PostgrestClient:M6,PostgrestQueryBuilder:cT,PostgrestFilterBuilder:uT,PostgrestTransformBuilder:dT,PostgrestBuilder:hT,PostgrestError:fT}=B6,j6="2.11.2",P6={"X-Client-Info":`realtime-js/${j6}`},L6="1.0.0",hb=1e4,O6=1e3;var io;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(io||(io={}));var Mn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Mn||(Mn={}));var lr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lr||(lr={}));var Df;(function(t){t.websocket="websocket"})(Df||(Df={}));var qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qi||(qi={}));class U6{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class fb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const ay=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=D6(o,t,e,i),s),{})},D6=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?pb(s,o):Ff(o)},pb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return W6(e,n)}switch(t){case Ve.bool:return F6(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return z6(e);case Ve.json:case Ve.jsonb:return $6(e);case Ve.timestamp:return H6(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Ff(e);default:return Ff(e)}},Ff=t=>t,F6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},z6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W6=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>pb(e,a))}return t},H6=t=>typeof t=="string"?t.replace(" ","T"):t,gb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class wh{constructor(e,n,r={},i=hb){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ly;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ly||(ly={}));class ma{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ma.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ma.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ma.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const m=u.map(b=>b.presence_ref),w=h.map(b=>b.presence_ref),k=u.filter(b=>w.indexOf(b.presence_ref)<0),A=h.filter(b=>m.indexOf(b.presence_ref)<0);k.length>0&&(a[c]=k),A.length>0&&(l[c]=A)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(w=>w.presence_ref),m=u.filter(w=>h.indexOf(w.presence_ref)<0);e[a].unshift(...m)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cy||(cy={}));var uy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uy||(uy={}));var Rr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class Ip{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wh(this,lr.join,this.params,this.timeout),this.rejoinTimer=new fb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ma(this),this.broadcastEndpointURL=gb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Rr.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Rr.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Rr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,k=[];for(let A=0;A<w;A++){const b=m[A],{filter:{event:_,schema:S,table:v,filter:R}}=b,O=u&&u[A];if(O&&O.event===_&&O.schema===S&&O.table===v&&O.filter===R)k.push(Object.assign(Object.assign({},b),{id:O.id}));else{this.unsubscribe(),e==null||e(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Rr.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new wh(this,lr.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wh(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=lr;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var k,A,b;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((b=(A=w.filter)===null||A===void 0?void 0:A.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(w=>w.callback(m,r)):(s=this.bindings[o])===null||s===void 0||s.filter(w=>{var k,A,b,_,S,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const R=w.id,O=(k=w.filter)===null||k===void 0?void 0:k.event;return R&&((A=n.ids)===null||A===void 0?void 0:A.includes(R))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const R=(S=(_=w==null?void 0:w.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return R==="*"||R===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof m=="object"&&"ids"in m){const k=m.data,{schema:A,table:b,commit_timestamp:_,type:S,errors:v}=k;m=Object.assign(Object.assign({},{schema:A,table:b,commit_timestamp:_,eventType:S,new:{},old:{},errors:v}),this._getPayloadRecords(k))}w.callback(m,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Ip.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lr.close,{},e)}_onError(e){this._on(lr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ay(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ay(e.columns,e.old_record)),n}}const q6=()=>{},K6=typeof WebSocket<"u",V6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G6{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=P6,this.params={},this.timeout=hb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=q6,this.conn=null,this.sendBuffer=[],this.serializer=new U6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>_o(async()=>{const{default:l}=await Promise.resolve().then(()=>Po);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Df.websocket}`,this.httpEndpoint=gb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(K6){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Z6(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),_o(async()=>{const{default:e}=await import("./browser-zu28KI1m.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L6}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case io.connecting:return qi.Connecting;case io.open:return qi.Open;case io.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}channel(e,n={config:{}}){const r=new Ip(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(lr.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(O6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(lr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([V6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Z6{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=io.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Np extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Y6 extends Np{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zf extends Np{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var J6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const mb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>_o(async()=>{const{default:r}=await Promise.resolve().then(()=>Po);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Q6=()=>J6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _o(()=>Promise.resolve().then(()=>Po),void 0)).Response:Response}),$f=t=>{if(Array.isArray(t))return t.map(n=>$f(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=$f(r)}),e};var bs=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const vh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X6=(t,e,n)=>bs(void 0,void 0,void 0,function*(){const r=yield Q6();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Y6(vh(i),t.status||500))}).catch(i=>{e(new zf(vh(i),i))}):e(new zf(vh(t),t))}),eN=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function sl(t,e,n,r,i,s){return bs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,eN(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>X6(l,a,r))})})}function Zc(t,e,n,r){return bs(this,void 0,void 0,function*(){return sl(t,"GET",e,n,r)})}function ai(t,e,n,r,i){return bs(this,void 0,void 0,function*(){return sl(t,"POST",e,r,i,n)})}function tN(t,e,n,r,i){return bs(this,void 0,void 0,function*(){return sl(t,"PUT",e,r,i,n)})}function nN(t,e,n,r){return bs(this,void 0,void 0,function*(){return sl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yb(t,e,n,r,i){return bs(this,void 0,void 0,function*(){return sl(t,"DELETE",e,r,i,n)})}var Sn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const rN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iN{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=mb(i)}uploadOrUpdate(e,n,r,i){return Sn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},dy),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(s){if(Wt(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Sn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:dy.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),m=yield h.json();return h.ok?{data:{path:s,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(Wt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Sn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ai(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Np("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Sn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Sn(this,void 0,void 0,function*(){try{return{data:{path:(yield ai(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Sn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ai(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Sn(this,void 0,void 0,function*(){try{const i=yield ai(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}download(e,n){return Sn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Zc(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}info(e){return Sn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$f(r),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}exists(e){return Sn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield nN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Wt(r)&&r instanceof zf){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Sn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rN),n),{prefix:e||""});return{data:yield ai(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const sN="2.7.1",oN={"X-Client-Info":`storage-js/${sN}`};var Is=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class aN{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},oN),n),this.fetch=mb(r)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wt(e))return{data:null,error:e};throw e}})}getBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Is(this,void 0,void 0,function*(){try{return{data:yield tN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}}class lN extends aN{constructor(e,n={},r){super(e,n,r)}from(e){return new iN(this.url,this.headers,e,this.fetch)}}const cN="2.47.10";let ra="";typeof Deno<"u"?ra="deno":typeof document<"u"?ra="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ra="react-native":ra="node";const uN={"X-Client-Info":`supabase-js-${ra}/${cN}`},dN={headers:uN},hN={schema:"public"},fN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pN={};var gN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const mN=t=>{let e;return t?e=t:typeof fetch>"u"?e=tb:e=fetch,(...n)=>e(...n)},yN=()=>typeof Headers>"u"?nb:Headers,wN=(t,e,n)=>{const r=mN(n),i=yN();return(s,o)=>gN(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var vN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function xN(t){return t.replace(/\/$/,"")}function bN(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>vN(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const wb="2.67.3",_N="http://localhost:9999",SN="supabase.auth.token",EN={"X-Client-Info":`gotrue-js/${wb}`},hy=10,Wf="X-Supabase-Api-Version",vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function kN(t){return Math.round(Date.now()/1e3)+t}function AN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",Li={tested:!1,writable:!1},ya=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Li.tested)return Li.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Li.tested=!0,Li.writable=!0}catch{Li.tested=!0,Li.writable=!1}return Li.writable};function CN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const xb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>_o(async()=>{const{default:r}=await Promise.resolve().then(()=>Po);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},IN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bb=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ul=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dl=async(t,e)=>{await t.removeItem(e)};function NN(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Hu{constructor(){this.promise=new Hu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Hu.promiseConstructor=Promise;function fy(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(NN(r))}async function TN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function RN(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function BN(t){return("0"+t.toString(16)).substr(-2)}function MN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,BN).join("")}async function jN(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function PN(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function LN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jN(t);return PN(n)}async function Ns(t,e,n=!1){const r=MN();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await bb(t,`${e}-code-verifier`,i);const s=await LN(r);return[s,r===s?"plain":"s256"]}const ON=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UN(t){const e=t.headers.get(Wf);if(!e||!e.match(ON))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Tp extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class DN extends Tp{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function FN(t){return Ee(t)&&t.name==="AuthApiError"}class _b extends Tp{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _s extends Tp{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ni extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zN(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class xh extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fl extends _s{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zl extends _s{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $N(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class py extends _s{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hf extends _s{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bh(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class gy extends _s{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var WN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const zi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HN=[502,503,504];async function my(t){var e;if(!IN(t))throw new Hf(zi(t),0);if(HN.includes(t.status))throw new Hf(zi(t),t.status);let n;try{n=await t.json()}catch(s){throw new _b(zi(s),s)}let r;const i=UN(t);if(i&&i.getTime()>=vb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gy(zi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ni}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new gy(zi(n),t.status,n.weak_password.reasons);throw new DN(zi(n),t.status||500,r)}const qN=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Re(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Wf]||(s[Wf]=vb["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await KN(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function KN(t,e,n,r,i,s){const o=qN(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Hf(zi(l),0)}if(a.ok||await my(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await my(l)}}function ri(t){var e;let n=null;YN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kN(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function yy(t){const e=ri(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VN(t){return{data:t,error:null}}function GN(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=WN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ZN(t){return t}function YN(t){return t.access_token&&t.refresh_token&&t.expires_in}var JN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class QN{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:di})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=JN(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:GN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:di})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ZN});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(k.split(";")[1].split("=")[1]);c[`${b}Page`]=A}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:di})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:di})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:di})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}const XN={getItem:t=>ya()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ya()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ya()&&globalThis.localStorage.removeItem(t)}};function wy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function e8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ts={debug:!!(globalThis&&ya()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t8 extends Sb{}async function n8(t,e,n){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new t8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ts.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}e8();const r8={url:_N,storageKey:SN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Zo=30*1e3,vy=3;async function xy(t,e,n){return await n()}class Ka{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},r8),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new QN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xb(i.fetch),this.lock=i.lock||xy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=n8:this.lock=xy,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ya()?this.storage=XN:(this.memoryStorage={},this.storage=wy(this.memoryStorage)):(this.memoryStorage={},this.storage=wy(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=CN(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),wr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$N(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new _b("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ri}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:h,options:m}=e;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await Ns(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:w,code_challenge_method:k},xform:ri})}else if("phone"in e){const{phone:u,password:h,options:m}=e;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ri})}else throw new Fl("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yy})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yy})}else throw new Fl("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ul(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ri});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new xh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ee(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ri}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ns(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Fl("You must provide either an email or phone number.")}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ri});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ns(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:VN})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ni;const{error:i}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Fl("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ul(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:di}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ni}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:di})})}catch(n){if(Ee(n))return zN(n)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ni;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ns(this.storage,this.storageKey));const{data:c,error:u}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:di});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return fy(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ni;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=fy(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ni;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!wr())throw new zl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new py("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new py("No code detected.");const{data:S,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new zl("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let m=u+h;l&&(m=parseInt(l));const w=m-u;w*1e3<=Zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const k=m-h;u-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,m,u):u-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,m,u);const{data:A,error:b}=await this._getUser(s);if(b)throw b;const _={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(Ee(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ul(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(FN(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=AN(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ns(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:m}=s;if(m)throw m;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",w,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return wr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ee(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await RN(async i=>(i>0&&await TN(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ri})),(i,s)=>{const o=200*Math.pow(2,i);return s&&bh(s)&&Date.now()+o-r<Zo})}catch(r){if(this._debug(n,"error",r),Ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),wr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ul(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+hy;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${hy}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),bh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ni;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hu;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ni;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ee(s)){const o={session:null,error:s};return bh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Zo}ms, refresh threshold is ${vy} ticks`),i<=vy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ns(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ka.nextInstanceID=0;const i8=Ka;class s8 extends i8{constructor(e){super(e)}}var o8=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class a8{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=xN(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:hN,realtime:pN,auth:Object.assign(Object.assign({},fN),{storageKey:l}),global:dN},u=bN(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=wN(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new M6(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new c6(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lN(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return o8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var h;const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s8({url:this.authUrl,headers:Object.assign(Object.assign({},m),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new G6(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l8=(t,e,n)=>new a8(t,e,n),Eb="https://kqsfzuwnkfbpsngxivvf.supabase.co",kb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtxc2Z6dXdua2ZicHNuZ3hpdnZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxNTA0OTUsImV4cCI6MjA1MTcyNjQ5NX0.PFsXAQTLdeBwKxFhbJQbZ3YXxg6dV0iXtyxsZLoDsbA",c8=t=>{try{return new URL(t),!0}catch{return!1}},Rp=c8(Eb)&&kb;Rp||console.warn(" Supabase connection error: Invalid or missing configuration");const u8=()=>({auth:{getUser:async()=>({data:{user:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},from:()=>({select:()=>({data:[],error:null}),insert:()=>({data:null,error:null}),update:()=>({data:null,error:null}),delete:()=>({data:null,error:null})}),storage:{from:()=>({upload:async()=>({data:null,error:new Error("Supabase not configured")}),getPublicUrl:()=>({data:{publicUrl:""}})})}}),$l=Rp?l8(Eb,kb,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"kodex-auth"},global:{headers:{"x-application-name":"kodex","x-client-info":"kodex-web"}}}):u8();console.log(Rp?" Supabase client initialized":" Using mock Supabase client - Please connect to Supabase");const Wl=t=>{var e;throw console.error("Agent service error:",t),(e=t==null?void 0:t.message)!=null&&e.includes("Failed to fetch")?new Error("Unable to connect to database. Please check your Supabase configuration."):new Error((t==null?void 0:t.message)||"Failed to perform operation. Please try again.")},Hl={async getAgents(){try{const{data:t,error:e}=await $l.from("agents").select("*");if(e)throw e;return t?[...t].sort((n,r)=>new Date(r.created_at).getTime()-new Date(n.created_at).getTime()):[]}catch(t){return Wl(t),[]}},async createAgent(t){try{console.log("Creating agent with data:",t);const e=t.creator_id;if(!e)throw new Error("No wallet address provided");const n={name:t.name,description:t.description,template:t.template,image_url:t.image_url||"",traits:t.traits,base_matrix:t.baseMatrix,specialties:t.specialties,attributes:t.attributes,creator_id:e};console.log("Sending to Supabase:",n);const{data:r,error:i}=await $l.from("agents").insert([n]).select().single();if(i)throw i;return console.log("Created agent:",r),r}catch(e){throw Wl(e),e}},async updateAgent(t,e){try{const{data:n,error:r}=await $l.from("agents").update(e).eq("id",t).select().single();if(r)throw r;return n}catch(n){throw Wl(n),n}},async deleteAgent(t){try{const{error:e}=await $l.from("agents").delete().eq("id",t);if(e)throw e}catch(e){throw Wl(e),e}}},ol=()=>{const[t,e]=z.useState([]),[n,r]=z.useState(!0),[i,s]=z.useState(null);z.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const u=await Hl.getAgents();e(u),s(null)}catch(u){s(u instanceof Error?u.message:"Failed to load agents")}finally{r(!1)}};return{agents:t,loading:n,error:i,createAgent:async u=>{try{console.log("Creating agent:",u);const h=await Hl.createAgent(u);return console.log("Agent created:",h),e(m=>[h,...m]),h}catch(h){throw console.error("Failed to create agent:",h),h}},updateAgent:async(u,h)=>{try{const m=await Hl.updateAgent(u,h);return e(w=>w.map(k=>k.id===u?m:k)),m}catch(m){throw m}},deleteAgent:async u=>{try{await Hl.deleteAgent(u),e(h=>h.filter(m=>m.id!==u))}catch(h){throw h}},refresh:o}};function d8(t,e){const n=()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.warn(`Error reading localStorage key "${t}":`,o),e}},[r,i]=z.useState(n);return[r,o=>{try{const a=o instanceof Function?o(r):o;i(a),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.warn(`Error setting localStorage key "${t}":`,a)}}]}const h8="bounty_points",f8=[{id:1,title:"Create Your First Agent",description:`1. Click 'Create Agent' in the Agents page
2. Configure your agent's personality and traits
3. Add an avatar image
4. Save your agent
5. Return here to claim your bounty points!`,reward:5e3,deadline:"7 days left",image:"https://i.imgur.com/XOGTct9.png",tags:["AI","Agents","Neural Networks"],status:"open"}],Bp=()=>{var S;const[t,e]=z.useState([]),[n,r]=z.useState(!0),{publicKey:i,connected:s}=xs(),[o,a]=z.useState(null),[l,c]=z.useState(null),{agents:u}=ol(),[h,m]=d8(h8,[]),w=i==null?void 0:i.toString(),k=z.useCallback(()=>{if(!w)return 0;const v=h.find(R=>R.wallet===w);return(v==null?void 0:v.points)||0},[w,h]),A=z.useCallback(v=>{if(!w)return!1;const R=h.find(O=>O.wallet===w);return(R==null?void 0:R.claimed_bounties.includes(v))||!1},[w,h]),b=z.useCallback(()=>w?u.some(v=>v.creator_id===w):!1,[u,w]);z.useEffect(()=>{(async()=>{try{r(!0),await new Promise(R=>setTimeout(R,1e3)),e(f8),c(null)}catch(R){c(R instanceof Error?R.message:"Failed to load bounties")}finally{r(!1)}})()},[]);const _=async v=>{try{a(null);const R=t.find(D=>D.id===v);if(!R){a("Bounty not found");return}if(!i){a("Please connect your wallet first");return}if(A(v)){a("You have already claimed this bounty");return}if(!b()){a("You need to create an agent first to claim this bounty");return}if(R.status==="in_progress"){a("This bounty has already been claimed");return}await new Promise(D=>setTimeout(D,1e3));const O=i.toString(),U=h.find(D=>D.wallet===O);m(U?h.map(D=>D.wallet===O?{...D,points:D.points+R.reward,claimed_bounties:[...D.claimed_bounties,R.id]}:D):[...h,{wallet:O,points:R.reward,claimed_bounties:[R.id]}]),e(D=>D.map(H=>H.id===v?{...H,status:"in_progress"}:H)),a("Bounty claimed successfully! Start working on it now. Check your bounty points.")}catch(R){throw R}};return{bounties:t,loading:n,claimError:o,userPoints:k(),claimedBounties:((S=h.find(v=>v.wallet===(i==null?void 0:i.toString())))==null?void 0:S.claimed_bounties.length)||0,hasClaimedBounty:A,error:l,claimBounty:_}},p8=({bounty:t,onClaim:e})=>{const{connected:n}=xs(),{agents:r}=ol(),i=t.title==="Coming Soon",s=t.status==="in_progress",o=r.length>0;return x.jsxs("div",{className:`group bg-black/60 backdrop-blur-md border border-white/20 rounded-lg overflow-hidden transition-all duration-300 ${i?"opacity-50 cursor-not-allowed":"hover:border-accent-neon/40"}`,children:[x.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[x.jsx("img",{src:t.image,alt:t.title,className:`object-cover w-full h-full brightness-75 contrast-125 transition-all duration-500 ${!i&&"group-hover:scale-110"}`}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),x.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10",children:[x.jsx(eE,{className:"h-4 w-4 text-accent-neon"}),x.jsx("span",{className:"text-xs",children:t.deadline})]})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:`text-xl font-semibold mb-2 ${me.heading}`,children:t.title}),x.jsx("div",{className:"mb-2 text-sm text-accent-neon font-medium",children:"Directions:"}),x.jsx("p",{className:`text-sm ${me.body} mb-4`,children:t.description})]}),x.jsxs("div",{className:"flex items-center gap-2 bg-accent-neon/10 px-3 py-1.5 rounded-lg border border-accent-neon/20",children:[x.jsx(G1,{className:"h-4 w-4 text-accent-neon"}),x.jsx("span",{className:"text-accent-neon font-semibold",children:i?"???":`${t.reward} BP`})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((a,l)=>x.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-md text-xs border border-white/10",children:a},l))}),x.jsx("button",{onClick:e,disabled:!n||i||s||!o,className:"px-4 py-2 bg-accent-neon text-black rounded-lg font-medium hover:bg-accent-neon/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Coming Soon":s?"Claimed":n?o?"Claim Bounty":"Create Agent First":"Connect Wallet"})]})]})]})},Ab=({message:t,type:e="success",onClose:n,duration:r=3e3})=>(z.useEffect(()=>{const i=setTimeout(()=>{n()},r);return()=>clearTimeout(i)},[n,r]),x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[9999] animate-fade-in",style:{position:"fixed",bottom:"2rem"},children:x.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg shadow-lg ${e==="success"?"bg-green-500/10 border border-green-500/20":"bg-red-500/10 border border-red-500/20"} backdrop-blur-md`,children:[e==="success"?x.jsx(XS,{className:"h-5 w-5 text-green-400"}):x.jsx(gE,{className:"h-5 w-5 text-red-400"}),x.jsx("p",{className:`${e==="success"?"text-green-400":"text-red-400"}`,children:t}),x.jsx("button",{onClick:n,className:"ml-2 p-1 hover:bg-white/10 rounded-full transition-colors flex-shrink-0",children:x.jsx(nv,{className:"h-4 w-4"})})]})})),g8=()=>{const{bounties:t,loading:e,error:n,claimError:r,claimBounty:i}=Bp(),[s,o]=Y.useState(null);return e?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx(us,{className:"h-8 w-8 text-accent-neon animate-spin"})}):n?x.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-center",children:x.jsxs("p",{className:"text-red-400",children:["Failed to load bounties: ",n]})}):x.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.map(a=>x.jsx("div",{className:"opacity-0 animate-fade-in",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:x.jsx(p8,{bounty:a,onClaim:async()=>{await i(a.id),r&&o({message:r,type:"error"})}})},a.id)),s&&x.jsx(Ab,{message:s.message,type:s.type,onClose:()=>o(null)})]})},m8=()=>{const{userPoints:t}=Bp();return x.jsxs("div",{className:"mb-16",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsxs("div",{className:"flex justify-center items-center gap-4 mb-6",children:[x.jsx(dE,{className:"h-8 w-8 text-accent-neon"}),x.jsx("h1",{className:`text-4xl md:text-5xl font-bold ${me.heading}`,children:x.jsx("span",{className:`bg-gradient-to-r ${jo.primary} text-transparent bg-clip-text`,children:"Neural Bounties"})})]}),x.jsx("p",{className:`text-xl max-w-3xl mx-auto mb-8 ${me.body}`,children:"Complete challenges, earn rewards, and help shape the future of AI"}),x.jsxs("div",{className:"flex flex-col items-center gap-8",children:[x.jsxs("div",{className:"flex justify-center gap-8",children:[x.jsx(by,{icon:x.jsx(W0,{className:"h-5 w-5 text-cyan-400"}),text:"Verified Tasks"}),x.jsx(by,{icon:x.jsx(H0,{className:"h-5 w-5 text-purple-400"}),text:"Instant Rewards"})]}),x.jsxs("div",{className:"flex gap-4 w-full max-w-2xl",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"text",placeholder:"Search bounties...",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-lg px-4 py-2 pl-10 focus:outline-none focus:border-accent-neon/40 transition-colors"}),x.jsx($0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40"})]}),x.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-accent-neon/10 border border-accent-neon/40 rounded-lg",children:[x.jsx(G1,{className:"h-4 w-4 text-accent-neon"}),x.jsxs("span",{className:"text-accent-neon font-medium",children:["Bounty Points: ",t]})]})]})]})]}),x.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:y8.map((e,n)=>x.jsx("button",{className:"px-4 py-2 bg-white/5 backdrop-blur-md border border-white/10 rounded-lg hover:border-accent-neon/20 transition-colors",children:e},n))})]})},by=({icon:t,text:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[t,x.jsx("span",{className:me.body,children:e})]}),y8=["All Bounties","Algorithm Design","Neural Networks","Security","Optimization","Research"],w8=()=>{const{userPoints:t,claimedBounties:e}=Bp();return x.jsx("div",{className:"min-h-screen pt-24 pb-24 relative will-change-transform",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsx(m8,{}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[x.jsx("div",{className:"lg:col-span-2 relative",children:x.jsx(g8,{})}),x.jsx("div",{className:"space-y-6",children:x.jsx(v8,{points:t,completedCount:e})})]})]})})},v8=({points:t,completedCount:e})=>x.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-6",children:[x.jsx("h3",{className:`text-xl font-semibold mb-6 ${me.heading}`,children:"Bounty Stats"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-white/60 mb-2",children:"Bounty Points"}),x.jsxs("div",{className:"text-3xl font-bold text-accent-neon",children:[t," BP"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-white/60 mb-2",children:"Completed Bounties"}),x.jsx("div",{className:"text-3xl font-bold text-accent-neon",children:e})]})]})]}),x8=()=>x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[x.jsxs("div",{className:"text-center mb-16",children:[x.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 ${me.heading}`,children:x.jsx("span",{className:`bg-gradient-to-r ${jo.primary} text-transparent bg-clip-text`,children:"Pioneering the Future of Development"})}),x.jsx("p",{className:`text-xl max-w-3xl mx-auto ${me.body}`,children:"From a visionary idea to a transformative platform"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"prose prose-invert",children:[x.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"Founded in early 2024, KodeX emerged from a simple yet powerful vision: to revolutionize how developers interact with code. What began as a small team of passionate engineers has grown into a vibrant community of over 10,000 developers worldwide."}),x.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"Our mission is to empower developers with AI-driven tools that enhance creativity, boost productivity, and push the boundaries of what's possible in software development. We believe in the seamless fusion of human ingenuity and artificial intelligence."})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-6 py-8",children:[x.jsx(_h,{number:"10K+",label:"Active Users"}),x.jsx(_h,{number:"500+",label:"AI Models"}),x.jsx(_h,{number:"99.9%",label:"Uptime"})]}),x.jsx("div",{className:"prose prose-invert",children:x.jsx("p",{className:"text-lg leading-relaxed",children:"Looking ahead, we're committed to pushing the boundaries of AI-assisted development while maintaining our core values of innovation, accessibility, and community-driven growth. Join us in shaping the future of code."})})]}),x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"relative aspect-[16/9] rounded-lg overflow-hidden",children:[x.jsx("img",{src:"https://i.imgur.com/isi5h80.png",loading:"lazy",alt:"Neural network visualization",className:"object-cover w-full h-full brightness-110 contrast-110"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})})]})]}),_h=({number:t,label:e})=>x.jsxs("div",{className:"text-center p-4 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10",children:[x.jsx("div",{className:"text-2xl font-bold text-accent-neon mb-1",children:t}),x.jsx("div",{className:"text-sm text-white/60",children:e})]}),b8=()=>x.jsxs("div",{className:"py-24 border-t border-white/10",children:[x.jsxs("div",{className:"text-center mb-16",children:[x.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-6 ${me.heading}`,children:x.jsx("span",{className:`bg-gradient-to-r ${jo.primary} text-transparent bg-clip-text`,children:"Vision & Future"})}),x.jsx("p",{className:`text-xl max-w-3xl mx-auto ${me.body}`,children:"Shaping tomorrow's development landscape through innovation and collaboration"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto px-4",children:E8.map((t,e)=>x.jsx(_8,{...t},e))}),x.jsx("div",{className:"mt-24 max-w-4xl mx-auto px-4",children:x.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-8",children:[x.jsx("h3",{className:`text-2xl font-semibold mb-6 ${me.heading}`,children:"Development Roadmap"}),x.jsx("div",{className:"space-y-6",children:k8.map((t,e)=>x.jsx(S8,{...t},e))})]})})]}),_8=({icon:t,title:e,description:n})=>x.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-accent-neon/20 transition-all duration-300",children:[x.jsx(t,{className:"w-8 h-8 text-accent-neon mb-4"}),x.jsx("h3",{className:`text-xl font-semibold mb-3 ${me.heading}`,children:e}),x.jsx("p",{className:`${me.body} text-sm`,children:n})]}),S8=({phase:t,description:e,status:n})=>x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"w-24 flex-shrink-0",children:x.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs
        ${n==="Completed"?"bg-green-500/20 text-green-300":n==="In Progress"?"bg-yellow-500/20 text-yellow-300":"bg-blue-500/20 text-blue-300"}`,children:n})}),x.jsxs("div",{children:[x.jsx("h4",{className:`text-lg font-semibold mb-1 ${me.heading}`,children:t}),x.jsx("p",{className:`${me.body} text-sm`,children:e})]})]}),E8=[{icon:aE,title:"Innovation Hub",description:"Leading the charge in AI-powered development tools and revolutionary coding experiences"},{icon:H0,title:"Smart Automation",description:"Automating repetitive tasks and streamlining development workflows with AI"},{icon:tv,title:"Global Community",description:"Building a worldwide network of developers sharing knowledge and innovations"},{icon:nE,title:"Accessibility",description:"Making advanced development tools accessible to developers of all skill levels"}],k8=[{phase:"Phase 1: Foundation",description:"Core platform development and initial AI integration",status:"Completed"},{phase:"Phase 2: Expansion",description:"Advanced AI features and community tools deployment",status:"In Progress"},{phase:"Phase 3: Innovation",description:"Quantum computing integration and next-gen development tools",status:"Planned"}],A8=()=>x.jsxs("div",{className:"min-h-screen pt-16 pb-24",children:[x.jsx(x8,{}),x.jsx(b8,{})]}),Mp=()=>{const{publicKey:t,connected:e}=xs();return{isAuthenticated:e&&t!==null,isLoading:!1,user:(t==null?void 0:t.toString())||null,error:null}},C8=()=>{const t=mu(),{agents:e,loading:n,error:r,deleteAgent:i}=ol(),{isAuthenticated:s,user:o}=Mp(),[a,l]=Y.useState(!1),[c,u]=Y.useState(""),{publicKey:h}=xs(),m=h==null?void 0:h.toString(),w=Y.useMemo(()=>e.filter(A=>(console.log("Comparing agent creator_id:",A.creator_id,"with wallet:",m),A.creator_id===m)),[e,m]);Y.useEffect(()=>{s||t("/agents")},[s,t]);const k=async A=>{if(window.confirm("Are you sure you want to delete this agent?"))try{await i(A),u("Agent deleted successfully"),l(!0)}catch(b){console.error("Failed to delete agent:",b)}};return n?x.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:x.jsx("div",{className:"animate-spin text-accent-neon",children:x.jsx(ic,{className:"h-8 w-8"})})}):x.jsx("div",{className:"min-h-screen pt-24 pb-24",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsx("div",{className:"mb-8 flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>t("/agents"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:x.jsx(QS,{className:"h-6 w-6"})}),x.jsx("h1",{className:`text-2xl ${me.heading}`,children:"Manage Your Agents"})]})}),r?x.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-red-400",children:r}):e.length===0?x.jsxs("div",{className:"text-center py-12",children:[x.jsx(ic,{className:"h-12 w-12 text-white/40 mx-auto mb-4"}),x.jsx("p",{className:`${me.body} text-white/60 mb-2`,children:"You haven't created any agents yet"}),x.jsx("p",{className:`${me.body} text-white/40 text-sm mb-4`,children:"Create your first agent to start earning bounty points!"}),x.jsx("button",{onClick:()=>t("/agents/create"),className:"mt-4 px-4 py-2 bg-accent-neon/10 border border-accent-neon/40 rounded text-accent-neon hover:bg-accent-neon/20 transition-colors",children:"Create Your First Agent"})]}):w.length===0?x.jsxs("div",{className:"text-center py-12",children:[x.jsx(ic,{className:"h-12 w-12 text-white/40 mx-auto mb-4"}),x.jsx("p",{className:`${me.body} text-white/60 mb-2`,children:"No agents found for your wallet"}),x.jsx("p",{className:`${me.body} text-white/40 text-sm mb-4`,children:"Create an agent to start earning bounty points!"}),x.jsx("button",{onClick:()=>t("/agents/create"),className:"mt-4 px-4 py-2 bg-accent-neon/10 border border-accent-neon/40 rounded text-accent-neon hover:bg-accent-neon/20 transition-colors",children:"Create Your First Agent"})]}):x.jsx("div",{className:"space-y-4",children:w.map(A=>{var b,_;return x.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-white/20 rounded-lg p-4 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("img",{src:A.image_url,alt:A.name,className:"w-12 h-12 rounded-lg object-cover"}),x.jsxs("div",{children:[x.jsx("h3",{className:`text-lg ${me.heading}`,children:A.name}),x.jsxs("p",{className:`text-sm ${me.body} text-white/60`,children:[(b=A.description)==null?void 0:b.slice(0,100),((_=A.description)==null?void 0:_.length)>100?"...":""]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>t(`/agents/edit/${A.id}`),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white/60 hover:text-white",title:"Edit agent",children:x.jsx(uE,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>k(A.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors text-white/60 hover:text-red-400",title:"Delete agent",children:x.jsx(fE,{className:"h-5 w-5"})})]})]},A.id)})}),a&&x.jsx(Ab,{message:c,type:"success",onClose:()=>l(!1)})]})})},I8=()=>x.jsxs("div",{className:"max-w-4xl mx-auto bg-black/60 backdrop-blur-md border border-white/20 rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"relative h-64",children:[x.jsx("img",{src:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb",alt:"Neural network visualization",className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx(Oa,{className:"w-24 h-24 text-accent-neon opacity-50"})})]}),x.jsxs("div",{className:"p-8 space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:`text-3xl font-bold mb-4 ${me.heading}`,children:x.jsx("span",{className:`bg-gradient-to-r ${jo.primary} text-transparent bg-clip-text`,children:"Quantum Neural Core"})}),x.jsx("p",{className:`text-lg max-w-2xl mx-auto ${me.body}`,children:"Advanced AI processing unit with quantum-enhanced capabilities and real-time neural adaptation"})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[x.jsx(ql,{icon:H0,label:"Processing Power",value:"1.2 TFLOPS"}),x.jsx(ql,{icon:W0,label:"Security Level",value:"Military Grade"}),x.jsx(ql,{icon:z0,label:"Neural Paths",value:"1.2M Active"}),x.jsx(ql,{icon:X1,label:"Response Time",value:"0.1ms"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-white/10",children:[x.jsx(_y,{title:"Quantum Processing",description:"Leverages quantum computing for complex problem-solving and pattern recognition",percentage:92}),x.jsx(_y,{title:"Neural Adaptation",description:"Self-optimizing neural pathways for improved performance over time",percentage:88})]})]})]}),ql=({icon:t,label:e,value:n})=>x.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 bg-white/5 rounded-lg border border-white/10",children:[x.jsx(t,{className:"w-5 h-5 text-accent-neon"}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:`text-lg font-bold ${me.heading}`,children:n}),x.jsx("div",{className:`text-sm ${me.body}`,children:e})]})]}),_y=({title:t,description:e,percentage:n})=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center mb-1",children:[x.jsx("h3",{className:`text-lg ${me.heading}`,children:t}),x.jsxs("span",{className:"text-accent-neon",children:[n,"%"]})]}),x.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-accent-neon/40 rounded-full transition-all duration-1000",style:{width:`${n}%`}})}),x.jsx("p",{className:`text-sm ${me.body}`,children:e})]}),N8=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=i=>n(i)}),T8=t=>{if(!t.type.startsWith("image/"))throw new Error("Please select an image file");const e=2*1024*1024;if(t.size>e)throw new Error("Image must be less than 2MB")},R8=t=>{const[e,n]=z.useState(""),[r,i]=z.useState(!1),[s,o]=z.useState(null);return{preview:e,uploading:r,error:s,handleFileChange:async l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(!c){o("No file selected");return}try{o(null),i(!0);try{T8(c)}catch(m){o(m instanceof Error?m.message:"Invalid file");return}const h=await N8(c);n(h),t(h)}catch(h){const m=h instanceof Error?h.message:"Failed to upload image. Please try again.";console.error("Image upload error:",h),o(m),n("")}finally{i(!1)}}}},B8=({preview:t,uploading:e,error:n})=>x.jsxs("div",{className:`
      absolute inset-0 rounded-lg border-2 border-dashed transition-all duration-300 
      ${n?"border-red-500/40":t?"border-accent-neon/40":"border-white/20"}
    `,children:[t?x.jsx("img",{src:t,alt:"Preview",className:`w-full h-full object-cover rounded-lg ${n?"opacity-50":""}`}):x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[x.jsx(rE,{className:"h-12 w-12 text-white/40 mb-4"}),x.jsx("p",{className:`${me.body} text-sm text-center px-4`,children:n?"Please try again":"Drop your image here or click to browse"})]}),e&&x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm rounded-lg flex items-center justify-center",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(us,{className:"h-5 w-5 text-accent-neon animate-spin"}),x.jsx("span",{className:"text-sm",children:"Uploading..."})]})})]}),M8=({message:t})=>x.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-sm text-red-400",children:t}),j8=({onImageUploaded:t,error:e})=>{const{preview:n,uploading:r,error:i,handleFileChange:s}=R8(t),o=e||i;return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"relative aspect-square w-full max-w-[300px] mx-auto",children:[x.jsx(B8,{preview:n,uploading:r,error:o}),x.jsx("input",{type:"file",onChange:s,accept:"image/*",className:`absolute inset-0 opacity-0 ${r?"cursor-not-allowed":"cursor-pointer"}`,disabled:r})]}),o&&x.jsx("div",{className:"mt-4",children:x.jsx(M8,{message:o})})]})},jp=({icon:t,title:e,description:n,children:r,error:i,onImageUploaded:s,showImageUpload:o})=>x.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-white/20 rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"p-6 border-b border-white/10",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx(t,{className:"h-5 w-5 text-accent-neon"}),x.jsx("h3",{className:`text-xl ${me.heading}`,children:e})]}),x.jsx("p",{className:`${me.body} text-sm`,children:n})]}),x.jsxs("div",{className:"p-6",children:[o&&s&&x.jsx("div",{className:"mb-6",children:x.jsx(j8,{onImageUploaded:s,error:i})}),r]})]}),P8=({selectedTraits:t,onTraitToggle:e})=>{const n={"Communication Style":["Clear","Concise","Detailed","Technical","Casual","Formal"],"Problem Solving":["Analytical","Creative","Strategic","Practical","Innovative","Methodical"],"Work Style":["Independent","Collaborative","Proactive","Responsive","Flexible","Consistent"],"Learning & Growth":["Adaptable","Educational","Critical","Intuitive","Holistic","Reliable"]},r=s=>{(t.includes(s)||t.length<5)&&e(s)},i=s=>({Clear:"Communicates ideas with clarity and precision",Concise:"Provides brief, focused responses",Detailed:"Offers comprehensive explanations",Technical:"Uses precise technical terminology",Casual:"Maintains a friendly, approachable tone",Formal:"Maintains professional communication style",Analytical:"Focuses on systematic problem analysis",Creative:"Offers innovative solutions",Strategic:"Emphasizes long-term planning",Practical:"Provides actionable, realistic solutions",Innovative:"Explores cutting-edge approaches",Methodical:"Follows structured problem-solving",Independent:"Works effectively autonomously",Collaborative:"Emphasizes teamwork and cooperation",Proactive:"Anticipates needs and potential issues",Responsive:"Reacts quickly to queries and changes",Flexible:"Adapts approach based on context",Consistent:"Maintains reliable behavior patterns",Adaptable:"Adjusts to new situations readily",Educational:"Focuses on teaching and explanation",Critical:"Applies thorough analytical thinking",Intuitive:"Uses pattern recognition and insight",Holistic:"Considers complete context and impact",Reliable:"Provides dependable, steady support"})[s]||s;return x.jsx(jp,{icon:Oa,title:"Personality Matrix",description:"Define your agent's behavioral characteristics and interaction style",children:x.jsxs("div",{className:"space-y-6",children:[Object.entries(n).map(([s,o],a)=>x.jsxs("div",{children:[x.jsxs("h4",{className:`text-sm font-light mb-3 flex items-center gap-2 ${me.heading}`,children:[x.jsx(cE,{className:"h-4 w-4 text-accent-neon"}),s]}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:o.map(l=>x.jsxs("button",{onClick:()=>r(l),disabled:t.length>=5&&!t.includes(l),className:`group relative px-4 py-2 rounded-lg border text-sm transition-all ${t.includes(l)?"border-accent-neon bg-accent-neon/10 text-accent-neon":"border-white/20 bg-black/40 hover:border-white/40"} ${t.length>=5&&!t.includes(l)?"opacity-50 cursor-not-allowed":""}`,title:i(l),children:[l,x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-black/90 text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none w-48 text-center",children:[i(l),x.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 transform rotate-45 w-2 h-2 bg-black/90"})]}),t.includes(l)&&x.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-accent-neon rounded-full transform -translate-x-1/2 -translate-y-1/2"})]},l))})]},s)),x.jsxs("div",{className:"mt-4 p-4 bg-black/40 rounded-lg border border-white/10",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx("div",{className:`w-2 h-2 bg-accent-neon rounded-full ${t.length>0?"animate-pulse":""}`}),x.jsxs("span",{className:"text-sm text-white/60",children:["Selected Traits: ",t.length,"/5"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(s=>x.jsx("span",{className:"px-3 py-1 rounded-full bg-accent-neon/10 border border-accent-neon/20 text-accent-neon text-sm cursor-pointer hover:bg-accent-neon/20 transition-colors",children:s},s))})]})]})})},L8=({strength:t})=>{const e=z.useRef(null);return z.useEffect(()=>{const n=e.current;if(!n)return;const r=n.getContext("2d");if(!r)return;n.width=n.offsetWidth*window.devicePixelRatio,n.height=n.offsetHeight*window.devicePixelRatio,r.scale(window.devicePixelRatio,window.devicePixelRatio),r.clearRect(0,0,n.width,n.height);const i=5,s=[];for(let o=0;o<i;o++)s.push({x:n.offsetWidth/(i-1)*o,y:n.offsetHeight/2+Math.sin(o*.5)*20});r.beginPath(),r.strokeStyle=`rgba(0, 0, 128, ${.2+t*.8})`,r.lineWidth=2,s.forEach((o,a)=>{a<s.length-1&&(r.moveTo(o.x,o.y),r.lineTo(s[a+1].x,s[a+1].y))}),r.stroke(),s.forEach((o,a)=>{const l=Math.max(0,(t*i-a)/i);r.beginPath(),r.fillStyle=`rgba(0, 0, 128, ${l})`,r.arc(o.x,o.y,4,0,Math.PI*2),r.fill()})},[t]),x.jsx("canvas",{ref:e,className:"w-full h-8",style:{background:"transparent"}})},O8=({attributes:t,onAttributeChange:e})=>x.jsx(jp,{icon:z0,title:"AI Kodex Processor",description:"Configure quantum neural processing parameters",children:x.jsxs("div",{className:"space-y-6",children:[Object.entries(t).map(([n,r])=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("label",{className:"text-sm font-light",children:n}),x.jsxs("span",{className:"text-sm text-accent-neon",children:[r,"%"]})]}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"range",min:"0",max:"100",value:r,onChange:i=>e(n,parseInt(i.target.value)),className:"w-full h-2 bg-black/40 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-neon"}),x.jsx(L8,{strength:r/100})]})]},n)),x.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-white/10",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-sm text-white/60",children:"Neural Capacity"}),x.jsxs("span",{className:"text-sm text-accent-neon",children:[Object.values(t).reduce((n,r)=>n+r,0)/4,"%"]})]}),x.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-accent-neon/40 rounded-full transition-all duration-1000",style:{width:`${Object.values(t).reduce((n,r)=>n+r,0)/4}%`}})})]})]})}),U8=()=>{const t=mu(),{createAgent:e}=ol(),{isAuthenticated:n,isLoading:r}=Mp(),i=xs(),[s,o]=z.useState(!1),[a,l]=z.useState(null),[c,u]=z.useState(!1);z.useState(!1);const[h,m]=z.useState({name:"",description:"",template:"gpt-4",image_url:"",traits:[],baseMatrix:"",attributes:{"gpt-4":75,"claude-sonnet-3.5":75,"kodex-beta-llama":75,"dolphin-3.1.3":75},openaiConfig:{temperature:.7,maxTokens:150,topP:1,frequencyPenalty:0,presencePenalty:0}});z.useEffect(()=>{u(!"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtxc2Z6dXdua2ZicHNuZ3hpdnZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxNTA0OTUsImV4cCI6MjA1MTcyNjQ5NX0.PFsXAQTLdeBwKxFhbJQbZ3YXxg6dV0iXtyxsZLoDsbA")},[]);const w=b=>{m(_=>({..._,name:b.target.value}))},k=b=>{m(_=>({..._,description:b.target.value}))},A=async()=>{if(!i.publicKey){l("Please connect your wallet first"),console.error("No wallet connected");return}if(!h.name||!h.image_url){l("Please provide a name and image for your agent"),console.error("Missing required fields");return}try{o(!0),l(null);const b=i.publicKey.toString();console.log("Creating agent with wallet:",b);const _={...h,creator_id:b};console.log("Agent data:",_);const S=await e(_);console.log("Agent created successfully:",S),t("/agents/manage")}catch(b){console.error("Failed to create agent:",b),l(b instanceof Error?b.message:"Failed to create agent")}finally{o(!1)}};return z.useEffect(()=>{!r&&!n&&t("/")},[r,n,t]),c?x.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-white/20 rounded-lg p-8 max-w-md w-full text-center",children:[x.jsx(Oa,{className:"w-12 h-12 text-accent-neon mx-auto mb-4"}),x.jsx("h2",{className:`text-2xl font-bold mb-4 ${me.heading}`,children:"Supabase Setup Required"}),x.jsx("p",{className:`mb-6 ${me.body}`,children:'Please click the "Connect to Supabase" button in the top right corner to set up your project.'}),x.jsx("div",{className:"animate-pulse text-accent-neon",children:x.jsx(z0,{className:"w-6 h-6 mx-auto"})})]})}):r?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"animate-spin text-accent-neon",children:x.jsx(us,{className:"h-8 w-8"})})}):x.jsx("div",{className:"min-h-screen pt-24 pb-24",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-16",children:[x.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 ${me.heading}`,children:"Create Your Agent"}),x.jsx("p",{className:`text-xl max-w-3xl mx-auto ${me.body}`,children:"Design and configure your custom AI agent"})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsx(I8,{}),x.jsx(jp,{icon:Oa,title:"Basic Information",description:"Configure your agent's core settings",showImageUpload:!0,onImageUploaded:b=>{console.log("Image uploaded, setting URL:",b),m(_=>({..._,image_url:b}))},error:a,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Agent Name"}),x.jsx("input",{type:"text",value:h.name,onChange:w,className:"w-full bg-black/40 border border-white/20 rounded-lg px-4 py-2 focus:outline-none focus:border-accent-neon/40",placeholder:"Enter agent name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),x.jsx("textarea",{value:h.description,onChange:k,rows:3,className:"w-full bg-black/40 border border-white/20 rounded-lg px-4 py-2 focus:outline-none focus:border-accent-neon/40",placeholder:"Describe your agent's capabilities"})]})]})}),x.jsx(P8,{selectedTraits:h.traits,onTraitToggle:b=>{m(_=>({..._,traits:_.traits.includes(b)?_.traits.filter(S=>S!==b):[..._.traits,b]}))}}),x.jsx(O8,{attributes:h.attributes,onAttributeChange:(b,_)=>{m({...h,attributes:{...h.attributes,[b]:_}})}}),x.jsxs("div",{className:"flex justify-end gap-4",children:[x.jsx("button",{onClick:()=>t("/agents"),className:"px-6 py-2 border border-white/20 rounded-lg hover:bg-white/5",children:"Cancel"}),x.jsx("button",{onClick:A,disabled:s||!h.name||!h.image_url,className:"px-6 py-2 bg-accent-neon text-black rounded-lg hover:bg-accent-neon/90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?x.jsxs(x.Fragment,{children:[x.jsx(us,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):"Create Agent"})]}),a&&x.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400",children:a})]})]})})},D8=({agent:t,onSelect:e})=>x.jsxs("div",{onClick:()=>e(t),className:"group relative bg-black/60 backdrop-blur-md border-2 border-accent-neon/40 rounded-lg overflow-hidden cursor-pointer transition-all duration-300 hover:border-accent-neon hover:shadow-[0_0_20px_rgba(0,255,140,0.2)] h-full debug-card",children:[x.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-accent-neon/10 border-b-2 border-accent-neon/40",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(hE,{className:"h-4 w-4 text-accent-neon"}),x.jsxs("span",{className:"font-mono text-xs text-accent-neon uppercase tracking-wider",children:[t.id,".exe"]})]}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white/20"}),x.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-accent-neon"})]})]}),x.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[x.jsx("img",{src:t.image_url||"",loading:"lazy",alt:t.name,onError:n=>{const i=n.target.parentElement;i&&(i.innerHTML=`<div class="absolute inset-0 bg-black/60 flex items-center justify-center">
                <span class="text-accent-neon text-4xl font-bold">${t.name.charAt(0).toUpperCase()}</span>
              </div>`)},className:"w-full h-full object-cover brightness-75 contrast-110 grayscale group-hover:grayscale-0 transition-all duration-500"}),x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,255,140,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,140,0.05)_1px,transparent_1px)] bg-[size:20px_20px] opacity-30"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/60 to-black"}),x.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10",children:[x.jsx("span",{className:"font-mono text-xs text-white/60",children:"Created by:"}),x.jsx("span",{className:"font-mono text-xs text-accent-neon",children:t.creator_id||"Anonymous"})]})]}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[x.jsx("h3",{className:"font-mono text-lg text-accent-neon mb-2",children:t.name}),x.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[x.jsx(sE,{className:"h-4 w-4"}),x.jsx("span",{children:"Start Chat"})]})]})]}),F8=({onSelectAgent:t})=>{const{agents:e,loading:n,error:r}=ol();return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx(us,{className:"h-8 w-8 text-accent-neon animate-spin"})}):r?x.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-8 text-center",children:[x.jsx("p",{className:"text-red-400 mb-4",children:r}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/20 border border-red-500/20 rounded-lg text-red-400 hover:bg-red-500/30 transition-colors",children:"Try Again"})]}):x.jsx(x.Fragment,{children:x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>x.jsx("div",{className:"opacity-0 animate-fade-in",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:x.jsx(D8,{agent:i,onSelect:t})},i.id))})})},z8=t=>{const[e,n]=z.useState([]),[r,i]=z.useState(""),[s,o]=z.useState(!1);return{messages:e,sendMessage:async()=>{if(!r.trim()||!t)return;const l={content:r,isUser:!0};n(c=>[...c,l]),i(""),o(!0);try{await new Promise(u=>setTimeout(u,1e3));const c={content:`Processing your request: "${r}"`,isUser:!1};n(u=>[...u,c])}catch(c){console.error("Chat error:",c),n(u=>[...u,{content:"I apologize, but I encountered an error. Please try again.",isUser:!1}])}finally{o(!1)}},inputValue:r,setInputValue:i,isLoading:s}},$8=({value:t,onChange:e,onSend:n,isLoading:r=!1})=>{const i=s=>{s.key==="Enter"&&!s.shiftKey&&!r&&(s.preventDefault(),n())};return x.jsx("div",{className:"p-4 border-t border-white/10",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value),onKeyPress:i,placeholder:"Type your message...",disabled:r,className:"flex-1 bg-black/40 border border-white/20 rounded-lg px-4 py-2 text-white placeholder-white/40 focus:outline-none focus:border-accent-neon/40 disabled:opacity-50"}),x.jsx("button",{onClick:n,disabled:!t.trim()||r,className:"p-2 bg-accent-neon text-black rounded-lg hover:bg-accent-neon/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?x.jsx(us,{className:"h-5 w-5 animate-spin"}):x.jsx(lE,{className:"h-5 w-5"})})]})})},W8=({messages:t})=>{const e=Y.useRef(null);return Y.useEffect(()=>{var n;(n=e.current)==null||n.scrollIntoView({behavior:"smooth"})},[t]),x.jsxs("div",{className:"p-4 space-y-4",children:[t.length===0?x.jsx("div",{className:"text-center text-white/40 py-8",children:x.jsx("p",{className:me.body,children:"Start a conversation with the agent"})}):t.map((n,r)=>x.jsx("div",{className:`flex ${n.isUser?"justify-end":"justify-start"}`,children:x.jsx("div",{className:`max-w-[80%] p-4 rounded-lg ${n.isUser?"bg-accent-neon/10 border border-accent-neon/20":"bg-white/5 border border-white/10"}`,children:x.jsx("p",{className:`${me.body} text-sm`,children:n.content})})},r)),x.jsx("div",{ref:e})]})},H8=({agent:t,onClose:e})=>{var c;const{messages:n,sendMessage:r,inputValue:i,setInputValue:s,isLoading:o}=z8(t.id),a=()=>{i.trim()&&r()},l=u=>{u.stopPropagation()};return x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[100] p-4",onClick:e,children:x.jsxs("div",{className:"bg-black/80 border border-white/20 rounded-lg w-full max-w-6xl max-h-[90vh] flex",onClick:l,children:[x.jsxs("div",{className:"flex-1 flex flex-col h-[80vh] relative",children:[x.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Oa,{className:"h-5 w-5 text-accent-neon"}),x.jsx("h3",{className:`text-lg ${me.heading}`,children:t.name})]}),x.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:x.jsx(nv,{className:"h-5 w-5"})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto relative",children:x.jsx(W8,{messages:n})}),x.jsx("div",{className:"sticky bottom-0 bg-black/80 backdrop-blur-sm",children:x.jsx($8,{value:i,onChange:s,onSend:a,isLoading:o})})]}),x.jsx("div",{className:"w-80 border-l border-white/10 p-6 overflow-y-auto",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[x.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"})]}),x.jsxs("div",{children:[x.jsx("h4",{className:`text-lg font-semibold mb-2 ${me.heading}`,children:"Specialties"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:(c=t.specialties)==null?void 0:c.map((u,h)=>x.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:u},h))})]}),x.jsxs("div",{children:[x.jsx("h4",{className:`text-lg font-semibold mb-2 ${me.heading}`,children:"Description"}),x.jsx("p",{className:`${me.body} text-sm`,children:t.description})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx(Sy,{icon:W0,label:"Security",value:"98%"}),x.jsx(Sy,{icon:X1,label:"Response",value:"0.1ms"})]})]})})]})})},Sy=({icon:t,label:e,value:n})=>x.jsxs("div",{className:"bg-white/5 rounded-lg p-3 text-center",children:[x.jsx(t,{className:"h-5 w-5 text-accent-neon mx-auto mb-2"}),x.jsx("div",{className:"text-lg font-bold text-accent-neon",children:n}),x.jsx("div",{className:"text-xs text-white/60",children:e})]}),q8=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(null),{isAuthenticated:i,error:s}=Mp(),[o,a]=Y.useState(!1),l=mu(),c=()=>{if(!i){a(!0),setTimeout(()=>a(!1),3e3);return}l("/agents/create")};return x.jsx("div",{className:"min-h-screen pt-24 pb-24",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-white/20 rounded-lg p-6 mb-12",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:`text-2xl font-mono mb-2 ${me.heading} tracking-[0.2em] uppercase`,children:"Neural Agent Explorer"}),x.jsx("p",{className:"font-mono text-white/60 text-sm",children:"Browse and interact with quantum-enhanced AI agents"})]}),x.jsxs("div",{className:"flex gap-4 items-center",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),placeholder:"SEARCH AGENTS...",className:"w-full bg-black/40 border border-white/20 rounded px-4 py-2 pl-10 font-mono text-sm placeholder:text-white/40 focus:outline-none focus:border-accent-neon/40"}),x.jsx($0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40"})]}),x.jsxs("button",{className:"px-4 py-2 bg-white/5 border border-white/20 rounded font-mono text-sm hover:bg-white/10 transition-colors flex items-center gap-2",children:[x.jsx(Z1,{className:"h-4 w-4"}),"POPULAR"]}),x.jsxs("button",{className:"px-4 py-2 bg-white/5 border border-white/20 rounded font-mono text-sm hover:bg-white/10 transition-colors flex items-center gap-2",children:[x.jsx(Y1,{className:"h-4 w-4"}),"FILTER"]}),x.jsxs("button",{onClick:()=>l("/agents/manage"),disabled:!i,className:"px-4 py-2 bg-white/5 border border-white/20 rounded font-mono text-sm hover:bg-white/10 transition-colors flex items-center gap-2",children:[x.jsx(ic,{className:"h-4 w-4"}),i?"MANAGE":"SIGN IN TO MANAGE"]}),x.jsxs("button",{onClick:c,disabled:!i,className:"px-4 py-2 bg-accent-neon/10 border border-accent-neon/40 rounded font-mono text-sm text-accent-neon hover:bg-accent-neon/20 transition-colors flex items-center gap-2",children:[x.jsx(oE,{className:"h-4 w-4"}),i?"CREATE":"SIGN IN TO CREATE"]})]}),o&&x.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded text-red-400 text-sm",children:"Please sign in to create an agent"})]}),x.jsx("div",{className:"flex flex-wrap gap-3 mb-12",children:K8.map(u=>x.jsxs("button",{className:"px-4 py-1.5 bg-black/40 border border-white/20 rounded font-mono text-sm hover:bg-white/5 transition-colors flex items-center gap-2",children:[x.jsx(u.icon,{className:"h-4 w-4 text-accent-neon"}),u.name]},u.id))}),x.jsx(F8,{onSelectAgent:r}),n&&x.jsx(H8,{agent:n,onClose:()=>r(null)})]})})},K8=[{id:"ai",name:"AI & ML",icon:tv},{id:"crypto",name:"Crypto",icon:Z1},{id:"productivity",name:"Productivity",icon:Y1},{id:"assistant",name:"Assistant",icon:$0}],V8=()=>x.jsxs("div",{className:"fixed inset-0 overflow-hidden -z-20 will-change-transform",style:{transform:"translate3d(0,0,0)",backfaceVisibility:"hidden",perspective:1e3,WebkitBackfaceVisibility:"hidden"},children:[x.jsx("div",{className:"absolute inset-0 bg-background-darker"}),x.jsxs("div",{className:"absolute inset-0",style:{transform:"translate3d(0,0,0)",willChange:"transform",backfaceVisibility:"hidden"},children:[x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[100vh] h-[100vh]",style:{transform:"translate3d(0,0,0)",willChange:"transform"},children:x.jsx("div",{className:"absolute inset-0 animate-orb-float",children:x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle,_rgba(0,255,140,0.07)_0%,_transparent_70%)]"})})}),x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90vh] h-[90vh] will-change-transform",children:x.jsx("div",{className:"absolute inset-0 animate-orb-pulse",children:x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle,_rgba(255,255,255,0.03)_0%,_transparent_60%)]"})})}),x.jsxs("div",{className:"absolute inset-0 opacity-20",children:[x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,transparent,rgba(0,255,140,0.05)_50%,transparent)] animate-scan"}),x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,transparent,rgba(0,255,140,0.05)_50%,transparent)] animate-scan-vertical"})]})]}),x.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwMDAwIi8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmZmZmYwNCIvPgo8L3N2Zz4=')] opacity-20 mix-blend-soft-light"}),x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)]"})]}),G8="Phantom";class Z8 extends Ex{constructor(e={}){super(),this.name=G8,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Me.Unsupported:Me.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new vp),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new fe(n.toBytes())}catch(i){this.emit("error",new Wc(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Me.Unsupported&&(gC()?(this._readyState=Me.Loadable,this.emit("readyStateChange",this._readyState)):pC(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Me.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Me.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Me.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==Me.Installed)throw new is;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new Vs(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Zi;let r;try{r=new fe(n.publicKey.toBytes())}catch(i){throw new Wc(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new _x(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new Nn;try{const{signers:s,...o}=r;wi(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof pn?s:new yi(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Nn;try{return await n.signTransaction(e)||e}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Nn;try{return await n.signAllTransactions(e)||e}catch(r){throw new Dr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Nn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new xp(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const Y8=({children:t})=>{const e=z.useMemo(()=>cC("devnet"),[]),n=z.useMemo(()=>[new Z8],[]);return x.jsx(dC,{endpoint:e,children:x.jsx(j5,{wallets:n,autoConnect:!0,children:x.jsx(D5,{children:t})})})};function J8(){const t=mu();F0();const e=n=>{t(`/${n==="home"?"":n}`)};return x.jsx(Y8,{children:x.jsx(J5,{onNavigate:e,children:x.jsxs("div",{className:"min-h-screen text-white overflow-y-auto overflow-x-hidden relative will-change-transform",role:"main",style:{contain:"paint",willChange:"transform",backfaceVisibility:"hidden",perspective:1e3,WebkitBackfaceVisibility:"hidden"},children:[x.jsx(V8,{}),x.jsx($5,{onNavigate:e}),x.jsxs(KS,{children:[x.jsx(Di,{path:"/",element:x.jsx(x.Fragment,{children:x.jsx(t6,{})})}),x.jsx(Di,{path:"/bounties",element:x.jsx(w8,{})}),x.jsx(Di,{path:"/about",element:x.jsx(A8,{})}),x.jsx(Di,{path:"/agents",element:x.jsx(q8,{})}),x.jsx(Di,{path:"/agents/create",element:x.jsx(U8,{})}),x.jsx(Di,{path:"/agents/manage",element:x.jsx(C8,{})})]})]})})})}O1(document.getElementById("root")).render(x.jsx(z.StrictMode,{children:x.jsx(ZS,{children:x.jsx(J8,{})})}));export{Ri as g};
